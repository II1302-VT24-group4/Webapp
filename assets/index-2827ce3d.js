function L1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function F1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j1={exports:{}},tv={},U1={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=Symbol.for("react.element"),Z$=Symbol.for("react.portal"),J$=Symbol.for("react.fragment"),eB=Symbol.for("react.strict_mode"),tB=Symbol.for("react.profiler"),nB=Symbol.for("react.provider"),rB=Symbol.for("react.context"),iB=Symbol.for("react.forward_ref"),sB=Symbol.for("react.suspense"),oB=Symbol.for("react.memo"),aB=Symbol.for("react.lazy"),GD=Symbol.iterator;function lB(t){return t===null||typeof t!="object"?null:(t=GD&&t[GD]||t["@@iterator"],typeof t=="function"?t:null)}var $1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B1=Object.assign,H1={};function fu(t,e,n){this.props=t,this.context=e,this.refs=H1,this.updater=n||$1}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V1(){}V1.prototype=fu.prototype;function aE(t,e,n){this.props=t,this.context=e,this.refs=H1,this.updater=n||$1}var lE=aE.prototype=new V1;lE.constructor=aE;B1(lE,fu.prototype);lE.isPureReactComponent=!0;var KD=Array.isArray,W1=Object.prototype.hasOwnProperty,cE={current:null},z1={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)W1.call(e,r)&&!z1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vh,type:t,key:s,ref:o,props:i,_owner:cE.current}}function cB(t,e){return{$$typeof:Vh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vh}function uB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var QD=/\/+/g;function Uy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uB(""+t.key):e.toString(36)}function Mp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vh:case Z$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Uy(o,0):r,KD(i)?(n="",t!=null&&(n=t.replace(QD,"$&/")+"/"),Mp(i,e,n,"",function(c){return c})):i!=null&&(uE(i)&&(i=cB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(QD,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",KD(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Uy(s,a);o+=Mp(s,e,n,l,i)}else if(l=lB(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Uy(s,a++),o+=Mp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ff(t,e,n){if(t==null)return t;var r=[],i=0;return Mp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nr={current:null},Np={transition:null},hB={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:Np,ReactCurrentOwner:cE};He.Children={map:Ff,forEach:function(t,e,n){Ff(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ff(t,function(){e++}),e},toArray:function(t){return Ff(t,function(e){return e})||[]},only:function(t){if(!uE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=fu;He.Fragment=J$;He.Profiler=tB;He.PureComponent=aE;He.StrictMode=eB;He.Suspense=sB;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hB;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W1.call(e,l)&&!z1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vh,type:t.type,key:i,ref:s,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:rB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nB,_context:t},t.Consumer=t};He.createElement=Y1;He.createFactory=function(t){var e=Y1.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:iB,render:t}};He.isValidElement=uE;He.lazy=function(t){return{$$typeof:aB,_payload:{_status:-1,_result:t},_init:dB}};He.memo=function(t,e){return{$$typeof:oB,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Np.transition;Np.transition={};try{t()}finally{Np.transition=e}};He.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};He.useCallback=function(t,e){return nr.current.useCallback(t,e)};He.useContext=function(t){return nr.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return nr.current.useDeferredValue(t)};He.useEffect=function(t,e){return nr.current.useEffect(t,e)};He.useId=function(){return nr.current.useId()};He.useImperativeHandle=function(t,e,n){return nr.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return nr.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return nr.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return nr.current.useMemo(t,e)};He.useReducer=function(t,e,n){return nr.current.useReducer(t,e,n)};He.useRef=function(t){return nr.current.useRef(t)};He.useState=function(t){return nr.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return nr.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return nr.current.useTransition()};He.version="18.2.0";U1.exports=He;var C=U1.exports;const I=F1(C),q1=L1({__proto__:null,default:I},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fB=C,pB=Symbol.for("react.element"),mB=Symbol.for("react.fragment"),gB=Object.prototype.hasOwnProperty,vB=fB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yB={key:!0,ref:!0,__self:!0,__source:!0};function G1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gB.call(e,r)&&!yB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pB,type:t,key:s,ref:o,props:i,_owner:vB.current}}tv.Fragment=mB;tv.jsx=G1;tv.jsxs=G1;j1.exports=tv;var g=j1.exports;function Qe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var _B={};function dE(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:_B}var K1=Object.assign,fm=Object.getOwnPropertyDescriptor,$i=Object.defineProperty,nv=Object.prototype,_w=[];Object.freeze(_w);var Q1={};Object.freeze(Q1);var wB=typeof Proxy<"u",bB=Object.toString();function X1(){wB||Qe("Proxy not available")}function Z1(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Kl=function(){};function mi(t){return typeof t=="function"}function za(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function rv(t){return t!==null&&typeof t=="object"}function Uo(t){if(!rv(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===bB}function J1(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function iv(t,e,n){$i(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function eI(t,e,n){$i(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function gl(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return rv(r)&&r[n]===!0}}function pu(t){return t instanceof Map}function Wh(t){return t instanceof Set}var tI=typeof Object.getOwnPropertySymbols<"u";function EB(t){var e=Object.keys(t);if(!tI)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return nv.propertyIsEnumerable.call(t,r)})):e}var sv=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:tI?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function nI(t){return t===null?null:typeof t=="object"?""+t:t}function Cs(t,e){return nv.hasOwnProperty.call(t,e)}var SB=Object.getOwnPropertyDescriptors||function(e){var n={};return sv(e).forEach(function(r){n[r]=fm(e,r)}),n};function XD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TB(r.key),r)}}function hE(t,e,n){return e&&XD(t.prototype,e),n&&XD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function rI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ww(t,e)}function $y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CB(t,e){if(t){if(typeof t=="string")return ZD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(t,e)}}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ql(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=CB(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TB(t){var e=DB(t,"string");return typeof e=="symbol"?e:String(e)}var Ni=Symbol("mobx-stored-annotations");function Bi(t){function e(n,r){if(zh(r))return t.decorate_20223_(n,r);mu(n,r,t)}return Object.assign(e,t)}function mu(t,e,n){Cs(t,Ni)||iv(t,Ni,Ya({},t[Ni])),PB(n)||(t[Ni][e]=n)}function kB(t){return Cs(t,Ni)||iv(t,Ni,Ya({},t[Ni])),t[Ni]}function zh(t){return typeof t=="object"&&typeof t.kind=="string"}var Se=Symbol("mobx administration"),Yh=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ze.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return bI(this)},e.reportChanged=function(){Vr(),EI(this),Wr()},e.toString=function(){return this.name_},t}(),fE=gl("Atom",Yh);function iI(t,e,n){e===void 0&&(e=Kl),n===void 0&&(n=Kl);var r=new Yh(t);return e!==Kl&&UH(r,e),n!==Kl&&kI(r,n),r}function xB(t,e){return t===e}function RB(t,e){return wE(t,e)}function AB(t,e){return wE(t,e,1)}function IB(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var pm={identity:xB,structural:RB,default:IB,shallow:AB};function qa(t,e,n){return MI(t)?t:Array.isArray(t)?hn.array(t,{name:n}):Uo(t)?hn.object(t,void 0,{name:n}):pu(t)?hn.map(t,{name:n}):Wh(t)?hn.set(t,{name:n}):typeof t=="function"&&!uv(t)&&!Qd(t)?J1(t)?Lc(t):Kd(n,t):t}function MB(t,e,n){if(t==null||Xd(t)||dv(t)||yl(t)||gu(t))return t;if(Array.isArray(t))return hn.array(t,{name:n,deep:!1});if(Uo(t))return hn.object(t,void 0,{name:n,deep:!1});if(pu(t))return hn.map(t,{name:n,deep:!1});if(Wh(t))return hn.set(t,{name:n,deep:!1})}function ov(t){return t}function NB(t,e){return wE(t,e)?e:t}var OB="override";function PB(t){return t.annotationType_===OB}function qh(t,e){return{annotationType_:t,options_:e,make_:LB,extend_:FB,decorate_20223_:jB}}function LB(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(uv(n.value))return 1;var s=sI(t,this,e,n,!1);return $i(r,e,s),2}function FB(t,e,n,r){var i=sI(t,this,e,n);return t.defineProperty_(e,i,r)}function jB(t,e){var n=e.kind,r=e.name,i=e.addInitializer,s=this,o=function(c){var u,d,h,f;return Ga((u=(d=s.options_)==null?void 0:d.name)!=null?u:r.toString(),c,(h=(f=s.options_)==null?void 0:f.autoAction)!=null?h:!1)};if(n=="field"){i(function(){mu(this,r,s)});return}if(n=="method"){var a;return uv(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),t}Qe("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function UB(t,e,n,r){e.annotationType_,r.value}function sI(t,e,n,r,i){var s,o,a,l,c,u,d;i===void 0&&(i=q.safeDescriptors),UB(t,e,n,r);var h=r.value;if((s=e.options_)!=null&&s.bound){var f;h=h.bind((f=t.proxy_)!=null?f:t.target_)}return{value:Ga((o=(a=e.options_)==null?void 0:a.name)!=null?o:n.toString(),h,(l=(c=e.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=e.options_)!=null&&u.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function oI(t,e){return{annotationType_:t,options_:e,make_:$B,extend_:BB,decorate_20223_:HB}}function $B(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Cs(t.target_,e)||!Qd(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(Qd(n.value))return 1;var s=aI(t,this,e,n,!1,!1);return $i(r,e,s),2}function BB(t,e,n,r){var i,s=aI(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,r)}function HB(t,e){var n,r=e.name,i=e.addInitializer;return Qd(t)||(t=Lc(t)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),t}function VB(t,e,n,r){e.annotationType_,r.value}function aI(t,e,n,r,i,s){s===void 0&&(s=q.safeDescriptors),VB(t,e,n,r);var o=r.value;if(Qd(o)||(o=Lc(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function pE(t,e){return{annotationType_:t,options_:e,make_:WB,extend_:zB,decorate_20223_:YB}}function WB(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function zB(t,e,n,r){return qB(t,this,e,n),t.defineComputedProperty_(e,Ya({},this.options_,{get:n.get,set:n.set}),r)}function YB(t,e){var n=this,r=e.name,i=e.addInitializer;return i(function(){var s=vu(this)[Se],o=Ya({},n.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new Pc(o))}),function(){return this[Se].getObservablePropValue_(r)}}function qB(t,e,n,r){e.annotationType_,r.get}function av(t,e){return{annotationType_:t,options_:e,make_:GB,extend_:KB,decorate_20223_:QB}}function GB(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function KB(t,e,n,r){var i,s;return XB(t,this),t.defineObservableProperty_(e,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:qa,r)}function QB(t,e){var n=this,r=e.kind,i=e.name,s=new WeakSet;function o(a,l){var c,u,d=vu(a)[Se],h=new Ma(l,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:qa,"ObservableObject."+i.toString(),!1);d.values_.set(i,h),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[Se].getObservablePropValue_(i)},set:function(l){return s.has(this)||o(this,l),this[Se].setObservablePropValue_(i,l)},init:function(l){return s.has(this)||o(this,l),l}}}function XB(t,e,n,r){e.annotationType_}var ZB="true",JB=lI();function lI(t){return{annotationType_:ZB,options_:t,make_:eH,extend_:tH,decorate_20223_:nH}}function eH(t,e,n,r){var i,s;if(n.get)return lv.make_(t,e,n,r);if(n.set){var o=Ga(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:q.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:($i(r,e,{configurable:!0,set:o}),2)}if(r!==t.target_&&typeof n.value=="function"){var a;if(J1(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?Lc.bound:Lc;return c.make_(t,e,n,r)}var u=(a=this.options_)!=null&&a.autoBind?Kd.bound:Kd;return u.make_(t,e,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?hn.ref:hn;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var h;n.value=n.value.bind((h=t.proxy_)!=null?h:t.target_)}return d.make_(t,e,n,r)}function tH(t,e,n,r){var i,s;if(n.get)return lv.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:q.safeDescriptors?t.isPlainObject_:!0,set:Ga(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?hn.ref:hn;return a.extend_(t,e,n,r)}function nH(t,e){Qe("'"+this.annotationType_+"' cannot be used as a decorator")}var rH="observable",iH="observable.ref",sH="observable.shallow",oH="observable.struct",cI={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(cI);function jf(t){return t||cI}var bw=av(rH),aH=av(iH,{enhancer:ov}),lH=av(sH,{enhancer:MB}),cH=av(oH,{enhancer:NB}),uI=Bi(bw);function Uf(t){return t.deep===!0?qa:t.deep===!1?ov:dH(t.defaultDecorator)}function uH(t){var e;return t?(e=t.defaultDecorator)!=null?e:lI(t):void 0}function dH(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:qa}function dI(t,e,n){if(zh(e))return bw.decorate_20223_(t,e);if(za(e)){mu(t,e,bw);return}return MI(t)?t:Uo(t)?hn.object(t,e,n):Array.isArray(t)?hn.array(t,e):pu(t)?hn.map(t,e):Wh(t)?hn.set(t,e):typeof t=="object"&&t!==null?t:hn.box(t,e)}K1(dI,uI);var hH={box:function(e,n){var r=jf(n);return new Ma(e,Uf(r),r.name,!0,r.equals)},array:function(e,n){var r=jf(n);return(q.useProxies===!1||r.proxy===!1?cV:JH)(e,Uf(r),r.name)},map:function(e,n){var r=jf(n);return new LI(e,Uf(r),r.name)},set:function(e,n){var r=jf(n);return new UI(e,Uf(r),r.name)},object:function(e,n,r){return _l(function(){return HH(q.useProxies===!1||r?.proxy===!1?vu({},r):KH({},r),e,n)})},ref:Bi(aH),shallow:Bi(lH),deep:uI,struct:Bi(cH)},hn=K1(dI,hH),hI="computed",fH="computed.struct",Ew=pE(hI),pH=pE(fH,{equals:pm.structural}),lv=function(e,n){if(zh(n))return Ew.decorate_20223_(e,n);if(za(n))return mu(e,n,Ew);if(Uo(e))return Bi(pE(hI,e));var r=Uo(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new Pc(r)};Object.assign(lv,Ew);lv.struct=Bi(pH);var JD,eT,mm=0,mH=1,gH=(JD=(eT=fm(function(){},"name"))==null?void 0:eT.configurable)!=null?JD:!1,tT={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ga(t,e,n,r){n===void 0&&(n=!1);function i(){return vH(t,n,e,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},gH&&(tT.value=t,$i(i,"name",tT)),i}function vH(t,e,n,r,i){var s=yH(t,e);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{_H(s)}}function yH(t,e,n,r){var i=!1,s=0,o=q.trackingDerivation,a=!e||!o;Vr();var l=q.allowStateChanges;a&&(vl(),l=mE(!0));var c=vE(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:s,actionId_:mH++,parentActionId_:mm};return mm=u.actionId_,u}function _H(t){mm!==t.actionId_&&Qe(30),mm=t.parentActionId_,t.error_!==void 0&&(q.suppressReactionErrors=!0),gE(t.prevAllowStateChanges_),bd(t.prevAllowStateReads_),Wr(),t.runAsAction_&&Ds(t.prevDerivation_),q.suppressReactionErrors=!1}function mE(t){var e=q.allowStateChanges;return q.allowStateChanges=t,e}function gE(t){q.allowStateChanges=t}var fI;fI=Symbol.toPrimitive;var Ma=function(t){rI(e,t);function e(r,i,s,o,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=pm.default),l=t.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=s,l.equals=a,l.value_=i(r,void 0,s),l}var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==q.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if($r(this)){var s=Br(this,{object:this,type:Hi,newValue:i});if(!s)return q.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?q.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),ci(this)&&ui(this,{type:Hi,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Gh(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Hi,newValue:this.value_,oldValue:void 0}),Kh(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return nI(this.get())},n[fI]=function(){return this.valueOf()},e}(Yh),pI;pI=Symbol.toPrimitive;var Pc=function(){function t(n){this.dependenciesState_=Ze.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ze.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new vm(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=gm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Qe(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ga("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?pm.structural:pm.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){CH(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&Qe(32,this.name_,this.derivation),q.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Sw(this)&&(this.warnAboutUntrackedRead_(),Vr(),this.value_=this.computeValue_(!1),Wr());else if(bI(this),Sw(this)){var r=q.trackingContext;this.keepAlive_&&!r&&(q.trackingContext=this),this.trackAndCompute()&&SH(this),q.trackingContext=r}var i=this.value_;if(Op(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter_&&Qe(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else Qe(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Ze.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Op(r)||Op(s)||!this.equals_(r,s);return o&&(this.value_=s),o},e.computeValue_=function(r){this.isComputing_=!0;var i=mE(!1),s;if(r)s=mI(this,this.derivation,this.scope_);else if(q.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new vm(o)}return gE(i),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(Cw(this),this.value_=void 0)},e.observe_=function(r,i){var s=this,o=!0,a=void 0;return OH(function(){var l=s.get();if(!o||i){var c=vl();r({observableKind:"computed",debugObjectName:s.name_,type:Hi,object:s,newValue:l,oldValue:a}),Ds(c)}o=!1,a=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return nI(this.get())},e[pI]=function(){return this.valueOf()},t}(),cv=gl("ComputedValue",Pc),Ze;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ze||(Ze={}));var gm;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(gm||(gm={}));var vm=function(e){this.cause=void 0,this.cause=e};function Op(t){return t instanceof vm}function Sw(t){switch(t.dependenciesState_){case Ze.UP_TO_DATE_:return!1;case Ze.NOT_TRACKING_:case Ze.STALE_:return!0;case Ze.POSSIBLY_STALE_:{for(var e=vE(!0),n=vl(),r=t.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(cv(o)){if(q.disableErrorBoundaries)o.get();else try{o.get()}catch{return Ds(n),bd(e),!0}if(t.dependenciesState_===Ze.STALE_)return Ds(n),bd(e),!0}}return vI(t),Ds(n),bd(e),!1}}}function mI(t,e,n){var r=vE(!0);vI(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++q.runId;var i=q.trackingDerivation;q.trackingDerivation=t,q.inBatch++;var s;if(q.disableErrorBoundaries===!0)s=e.call(n);else try{s=e.call(n)}catch(o){s=new vm(o)}return q.inBatch--,q.trackingDerivation=i,wH(t),bd(r),s}function wH(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=Ze.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue_===0&&(a.diffValue_=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,t.newObserving_=null,s=e.length;s--;){var l=e[s];l.diffValue_===0&&_I(l,t),l.diffValue_=0}for(;i--;){var c=n[i];c.diffValue_===1&&(c.diffValue_=0,EH(c,t))}r!==Ze.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function Cw(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)_I(e[n],t);t.dependenciesState_=Ze.NOT_TRACKING_}function gI(t){var e=vl();try{return t()}finally{Ds(e)}}function vl(){var t=q.trackingDerivation;return q.trackingDerivation=null,t}function Ds(t){q.trackingDerivation=t}function vE(t){var e=q.allowStateReads;return q.allowStateReads=t,e}function bd(t){q.allowStateReads=t}function vI(t){if(t.dependenciesState_!==Ze.UP_TO_DATE_){t.dependenciesState_=Ze.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ze.UP_TO_DATE_}}var Pp=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Lp=!0,yI=!1,q=function(){var t=dE();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Lp=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Pp().version&&(Lp=!1),Lp?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Pp):(setTimeout(function(){yI||Qe(35)},1),new Pp)}();function bH(){if((q.pendingReactions.length||q.inBatch||q.isRunningReactions)&&Qe(36),yI=!0,Lp){var t=dE();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),q=new Pp}}function EH(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function _I(t,e){t.observers_.delete(e),t.observers_.size===0&&wI(t)}function wI(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,q.pendingUnobservations.push(t))}function Vr(){q.inBatch++}function Wr(){if(--q.inBatch===0){SI();for(var t=q.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Pc&&n.suspend_())}q.pendingUnobservations=[]}}function bI(t){var e=q.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&q.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&q.inBatch>0&&wI(t),!1)}function EI(t){t.lowestObserverState_!==Ze.STALE_&&(t.lowestObserverState_=Ze.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ze.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ze.STALE_}))}function SH(t){t.lowestObserverState_!==Ze.STALE_&&(t.lowestObserverState_=Ze.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ze.POSSIBLY_STALE_?e.dependenciesState_=Ze.STALE_:e.dependenciesState_===Ze.UP_TO_DATE_&&(t.lowestObserverState_=Ze.UP_TO_DATE_)}))}function CH(t){t.lowestObserverState_===Ze.UP_TO_DATE_&&(t.lowestObserverState_=Ze.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ze.UP_TO_DATE_&&(e.dependenciesState_=Ze.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Gd=function(){function t(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ze.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=gm.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,q.pendingReactions.push(this),SI())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Vr(),this.isScheduled_=!1;var r=q.trackingContext;if(q.trackingContext=this,Sw(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}q.trackingContext=r,Wr()}},e.track=function(r){if(!this.isDisposed_){Vr(),this.isRunning_=!0;var i=q.trackingContext;q.trackingContext=this;var s=mI(this,r,void 0);q.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Cw(this),Op(s)&&this.reportExceptionInDerivation_(s.cause),Wr()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(q.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";q.suppressReactionErrors||console.error(s,r),q.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Vr(),Cw(this),Wr()))},e.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[Se]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},t}(),DH=100,Dw=function(e){return e()};function SI(){q.inBatch>0||q.isRunningReactions||Dw(TH)}function TH(){q.isRunningReactions=!0;for(var t=q.pendingReactions,e=0;t.length>0;){++e===DH&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}q.isRunningReactions=!1}var ym=gl("Reaction",Gd);function kH(t){var e=Dw;Dw=function(r){return t(function(){return e(r)})}}function Ed(){return!1}function xH(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var CI="action",RH="action.bound",DI="autoAction",AH="autoAction.bound",IH="<unnamed action>",Tw=qh(CI),MH=qh(RH,{bound:!0}),kw=qh(DI,{autoAction:!0}),NH=qh(AH,{autoAction:!0,bound:!0});function TI(t){var e=function(r,i){if(mi(r))return Ga(r.name||IH,r,t);if(mi(i))return Ga(r,i,t);if(zh(i))return(t?kw:Tw).decorate_20223_(r,i);if(za(i))return mu(r,i,t?kw:Tw);if(za(r))return Bi(qh(t?DI:CI,{name:r,autoAction:t}))};return e}var Xl=TI(!1);Object.assign(Xl,Tw);var Kd=TI(!0);Object.assign(Kd,kw);Xl.bound=Bi(MH);Kd.bound=Bi(NH);function uv(t){return mi(t)&&t.isMobxAction===!0}function OH(t,e){var n,r,i,s,o;e===void 0&&(e=Q1);var a=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",l=!e.scheduler&&!e.delay,c;if(l)c=new Gd(a,function(){this.track(h)},e.onError,e.requiresObservable);else{var u=LH(e),d=!1;c=new Gd(a,function(){d||(d=!0,u(function(){d=!1,c.isDisposed_||c.track(h)}))},e.onError,e.requiresObservable)}function h(){t(c)}return(i=e)!=null&&(s=i.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((o=e)==null?void 0:o.signal)}var PH=function(e){return e()};function LH(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:PH}var FH="onBO",jH="onBUO";function UH(t,e,n){return xI(FH,t,e,n)}function kI(t,e,n){return xI(jH,t,e,n)}function xI(t,e,n,r){var i=typeof r=="function"?Fc(e,n):Fc(e),s=mi(r)?r:n,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var $H="never",$f="always",BH="observed";function RI(t){t.isolateGlobalState===!0&&bH();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(q.useProxies=e===$f?!0:e===$H?!1:typeof Proxy<"u"),e==="ifavailable"&&(q.verifyProxies=!0),n!==void 0){var r=n===$f?$f:n===BH;q.enforceActions=r,q.allowStateChanges=!(r===!0||r===$f)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(q[i]=!!t[i])}),q.allowStateReads=!q.observableRequiresReaction,t.reactionScheduler&&kH(t.reactionScheduler)}function HH(t,e,n,r){var i=SB(e);return _l(function(){var s=vu(t,r)[Se];sv(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),t}function VH(t,e){return AI(Fc(t,e))}function AI(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=WH(t.observing_).map(AI)),e}function WH(t){return Array.from(new Set(t))}var zH=0;function II(){this.message="FLOW_CANCELLED"}II.prototype=Object.create(Error.prototype);var By=oI("flow"),YH=oI("flow.bound",{bound:!0}),Lc=Object.assign(function(e,n){if(zh(n))return By.decorate_20223_(e,n);if(za(n))return mu(e,n,By);var r=e,i=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,c=++zH,u=Xl(i+" - runid: "+c+" - init",r).apply(a,l),d,h=void 0,f=new Promise(function(p,m){var _=0;d=m;function v(E){h=void 0;var T;try{T=Xl(i+" - runid: "+c+" - yield "+_++,u.next).call(u,E)}catch(b){return m(b)}w(T)}function y(E){h=void 0;var T;try{T=Xl(i+" - runid: "+c+" - yield "+_++,u.throw).call(u,E)}catch(b){return m(b)}w(T)}function w(E){if(mi(E?.then)){E.then(w,m);return}return E.done?p(E.value):(h=Promise.resolve(E.value),h.then(v,y))}v(void 0)});return f.cancel=Xl(i+" - runid: "+c+" - cancel",function(){try{h&&nT(h);var p=u.return(void 0),m=Promise.resolve(p.value);m.then(Kl,Kl),nT(m),d(new II)}catch(_){d(_)}}),f};return s.isMobXFlow=!0,s},By);Lc.bound=Bi(YH);function nT(t){mi(t.cancel)&&t.cancel()}function Qd(t){return t?.isMobXFlow===!0}function qH(t,e){return t?e!==void 0?Xd(t)?t[Se].values_.has(e):!1:Xd(t)||!!t[Se]||fE(t)||ym(t)||cv(t):!1}function MI(t){return qH(t)}function ms(t,e){e===void 0&&(e=void 0),Vr();try{return t.apply(e)}finally{Wr()}}function Ul(t){return t[Se]}var GH={has:function(e,n){return Ul(e).has_(n)},get:function(e,n){return Ul(e).get_(n)},set:function(e,n,r){var i;return za(n)?(i=Ul(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return za(n)?(r=Ul(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=Ul(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return Ul(e).ownKeys_()},preventExtensions:function(e){Qe(13)}};function KH(t,e){var n,r;return X1(),t=vu(t,e),(r=(n=t[Se]).proxy_)!=null?r:n.proxy_=new Proxy(t,GH)}function $r(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Gh(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),Z1(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Br(t,e){var n=vl();try{for(var r=[].concat(t.interceptors_||[]),i=0,s=r.length;i<s&&(e=r[i](e),e&&!e.type&&Qe(14),!!e);i++);return e}finally{Ds(n)}}function ci(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Kh(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),Z1(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function ui(t,e){var n=vl(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](e);Ds(n)}}function QH(t,e,n){return _l(function(){var r,i=vu(t,n)[Se];(r=e)!=null||(e=kB(t)),sv(e).forEach(function(s){return i.make_(s,e[s])})}),t}var rT="splice",Hi="update",XH=1e4,ZH={get:function(e,n){var r=e[Se];return n===Se?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Cs(_m,n)?_m[n]:e[n]},set:function(e,n,r){var i=e[Se];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){Qe(15)}},yE=function(){function t(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new Yh(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Gh(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Kh(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Qe("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&Qe(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&VI(r+i+1)},e.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=_w),$r(this)){var l=Br(this,{object:this.proxy_,type:rT,index:r,removedCount:i,added:s});if(!l)return _w;i=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var c=s.length-i;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},e.spliceItemsIntoValues_=function(r,i,s){if(s.length<XH){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var c=0;c<s.length;c++)this.values_[r+c]=s[c];for(var u=0;u<l.length;u++)this.values_[r+s.length+u]=l[u];return a}},e.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&Ed(),a=ci(this),l=a||o?{observableKind:"array",object:this.proxy_,type:Hi,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&ui(this,l)},e.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&Ed(),a=ci(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:rT,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&ui(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&Qe(17,r,s.length),r<s.length){this.atom_;var o=s[r];if($r(this)){var a=Br(this,{type:Hi,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var l=i!==o;l&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var c=new Array(r+1-s.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=i,this.spliceWithArray_(s.length,0,c)}},t}();function JH(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),X1(),_l(function(){var i=new yE(n,e,r,!1);eI(i.values_,Se,i);var s=new Proxy(i.values_,ZH);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var _m={clear:function(){return this.splice(0)},replace:function(e){var n=this[Se];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[Se];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,n)}return o.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[Se].spliceWithArray_(e,n,r)},push:function(){for(var e=this[Se],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Se].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Se],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return q.trackingDerivation&&Qe(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){q.trackingDerivation&&Qe(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[Se],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};pt("at",Ar);pt("concat",Ar);pt("flat",Ar);pt("includes",Ar);pt("indexOf",Ar);pt("join",Ar);pt("lastIndexOf",Ar);pt("slice",Ar);pt("toString",Ar);pt("toLocaleString",Ar);pt("toSorted",Ar);pt("toSpliced",Ar);pt("with",Ar);pt("every",wi);pt("filter",wi);pt("find",wi);pt("findIndex",wi);pt("findLast",wi);pt("findLastIndex",wi);pt("flatMap",wi);pt("forEach",wi);pt("map",wi);pt("some",wi);pt("toReversed",wi);pt("reduce",NI);pt("reduceRight",NI);function pt(t,e){typeof Array.prototype[t]=="function"&&(_m[t]=e(t))}function Ar(t){return function(){var e=this[Se];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function wi(t){return function(e,n){var r=this,i=this[Se];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(n,o,a,r)})}}function NI(t){return function(){var e=this,n=this[Se];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},r[t].apply(r,arguments)}}var eV=gl("ObservableArrayAdministration",yE);function dv(t){return rv(t)&&eV(t[Se])}var OI,PI,tV={},go="add",wm="delete";OI=Symbol.iterator;PI=Symbol.toStringTag;var LI=function(){function t(n,r,i){var s=this;r===void 0&&(r=qa),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Se]=tV,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,mi(Map)||Qe(18),_l(function(){s.keysAtom_=iI("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!q.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new Ma(this.has_(r),ov,"ObservableMap.key?",!1);this.hasMap_.set(r,o),kI(o,function(){return i.hasMap_.delete(r)})}return s.get()},e.set=function(r,i){var s=this.has_(r);if($r(this)){var o=Br(this,{type:s?Hi:go,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,$r(this)){var s=Br(this,{type:wm,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=Ed(),a=ci(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:wm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ms(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(r))==null||c.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&ui(this,l),!0}return!1},e.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==q.UNCHANGED){var o=Ed(),a=ci(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Hi,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&ui(this,l)}},e.addValue_=function(r,i){var s=this;this.keysAtom_,ms(function(){var c,u=new Ma(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),i=u.value_,(c=s.hasMap_.get(r))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Ed(),a=ci(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:go,object:this,name:r,newValue:i}:null;a&&ui(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return Zd({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},e.entries=function(){var r=this,i=this.keys();return Zd({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},e[OI]=function(){return this.entries()},e.forEach=function(r,i){for(var s=Ql(this),o;!(o=s()).done;){var a=o.value,l=a[0],c=a[1];r.call(i,c,l,this)}},e.merge=function(r){var i=this;return yl(r)&&(r=new Map(r)),ms(function(){Uo(r)?EB(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):pu(r)?(r.constructor!==Map&&Qe(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&Qe(20,r)}),this},e.clear=function(){var r=this;ms(function(){gI(function(){for(var i=Ql(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.replace=function(r){var i=this;return ms(function(){for(var s=nV(r),o=new Map,a=!1,l=Ql(i.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!s.has(u)){var d=i.delete(u);if(d)a=!0;else{var h=i.data_.get(u);o.set(u,h)}}}for(var f=Ql(s.entries()),p;!(p=f()).done;){var m=p.value,_=m[0],v=m[1],y=i.data_.has(_);if(i.set(_,v),i.data_.has(_)){var w=i.data_.get(_);o.set(_,w),y||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var E=i.data_.keys(),T=o.keys(),b=E.next(),k=T.next();!b.done;){if(b.value!==k.value){i.keysAtom_.reportChanged();break}b=E.next(),k=T.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return Kh(this,r)},e.intercept_=function(r){return Gh(this,r)},hE(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:PI,get:function(){return"Map"}}]),t}(),yl=gl("ObservableMap",LI);function nV(t){if(pu(t)||yl(t))return t;if(Array.isArray(t))return new Map(t);if(Uo(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Qe(21,t)}var FI,jI,rV={};FI=Symbol.iterator;jI=Symbol.toStringTag;var UI=function(){function t(n,r,i){var s=this;r===void 0&&(r=qa),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Se]=rV,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,mi(Set)||Qe(22),this.enhancer_=function(o,a){return r(o,a,i)},_l(function(){s.atom_=iI(s.name_),n&&s.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;ms(function(){gI(function(){for(var i=Ql(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.forEach=function(r,i){for(var s=Ql(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},e.add=function(r){var i=this;if(this.atom_,$r(this)){var s=Br(this,{type:go,object:this,newValue:r});if(!s)return this}if(!this.has(r)){ms(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=ci(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:go,object:this,newValue:r}:null;a&&ui(this,l)}return this},e.delete=function(r){var i=this;if($r(this)){var s=Br(this,{type:wm,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=ci(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:wm,object:this,oldValue:r}:null;return ms(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&ui(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,i=Array.from(this.keys()),s=Array.from(this.values());return Zd({next:function(){var a=r;return r+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=0,s=Array.from(this.data_.values());return Zd({next:function(){return i<s.length?{value:r.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.replace=function(r){var i=this;return gu(r)&&(r=new Set(r)),ms(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):Wh(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&Qe("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return Kh(this,r)},e.intercept_=function(r){return Gh(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[FI]=function(){return this.values()},hE(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:jI,get:function(){return"Set"}}]),t}(),gu=gl("ObservableSet",UI),iT=Object.create(null),sT="remove",$I=function(){function t(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=JB),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new Yh("ObservableObject.keys"),this.isPlainObject_=Uo(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof Pc)return s.set(i),!0;if($r(this)){var o=Br(this,{type:Hi,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==q.UNCHANGED){var a=ci(this),l=!1,c=a||l?{type:Hi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&ui(this,c)}return!0},e.get_=function(r){return q.trackingDerivation&&!Cs(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,s){return s===void 0&&(s=!1),Cs(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(r){if(!q.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Ma(r in this.target_,ov,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[Ni])!=null&&s[r])return;Qe(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==nv;){var a=fm(o,r);if(a){var l=i.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}aT(this,i,r)}},e.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&aT(this,s,r),a},e.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Vr();var o=this.delete_(r);if(!o)return o;if($r(this)){var a=Br(this,{object:this.proxy_||this.target_,name:r,type:go,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=Ya({},i,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else $i(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{Wr()}return!0},e.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{Vr();var a=this.delete_(r);if(!a)return a;if($r(this)){var l=Br(this,{object:this.proxy_||this.target_,name:r,type:go,newValue:i});if(!l)return null;i=l.newValue}var c=oT(r),u={configurable:q.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else $i(this.target_,r,u);var d=new Ma(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{Wr()}return!0},e.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Vr();var o=this.delete_(r);if(!o)return o;if($r(this)){var a=Br(this,{object:this.proxy_||this.target_,name:r,type:go,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=oT(r),c={configurable:q.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,c))return!1}else $i(this.target_,r,c);this.values_.set(r,new Pc(i)),this.notifyPropertyAddition_(r,void 0)}finally{Wr()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Cs(this.target_,r))return!0;if($r(this)){var s=Br(this,{object:this.proxy_||this.target_,name:r,type:sT});if(!s)return null}try{var o,a;Vr();var l=ci(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var h;d=(h=fm(this.target_,r))==null?void 0:h.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Ma&&(d=u.value_),EI(u)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(a=o.get(r))==null||a.set(r in this.target_),l||c){var f={type:sT,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&ui(this,f)}}finally{Wr()}return!0},e.observe_=function(r,i){return Kh(this,r)},e.intercept_=function(r){return Gh(this,r)},e.notifyPropertyAddition_=function(r,i){var s,o,a=ci(this),l=!1;if(a||l){var c=a||l?{type:go,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;a&&ui(this,c)}(s=this.pendingKeys_)==null||(o=s.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),sv(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function vu(t,e){var n;if(Cs(t,Se))return t;var r=(n=e?.name)!=null?n:"ObservableObject",i=new $I(t,new Map,String(r),uH(e));return iv(t,Se,i),t}var iV=gl("ObservableObjectAdministration",$I);function oT(t){return iT[t]||(iT[t]={get:function(){return this[Se].getObservablePropValue_(t)},set:function(n){return this[Se].setObservablePropValue_(t,n)}})}function Xd(t){return rv(t)?iV(t[Se]):!1}function aT(t,e,n){var r;(r=t.target_[Ni])==null||delete r[n]}var sV=HI(0),oV=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Hy=0,BI=function(){};function aV(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}aV(BI,Array.prototype);var _E=function(t,e,n){rI(r,t);function r(s,o,a,l){var c;return a===void 0&&(a="ObservableArray"),l===void 0&&(l=!1),c=t.call(this)||this,_l(function(){var u=new yE(a,o,l,!0);u.proxy_=$y(c),eI($y(c),Se,u),s&&s.length&&c.spliceWithArray(0,0,s),oV&&Object.defineProperty($y(c),"0",sV)}),c}var i=r.prototype;return i.concat=function(){this[Se].atom_.reportObserved();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),a.map(function(c){return dv(c)?c.slice():c}))},i[n]=function(){var s=this,o=0;return Zd({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},hE(r,[{key:"length",get:function(){return this[Se].getArrayLength_()},set:function(o){this[Se].setArrayLength_(o)}},{key:e,get:function(){return"Array"}}]),r}(BI,Symbol.toStringTag,Symbol.iterator);Object.entries(_m).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&iv(_E.prototype,e,n)});function HI(t){return{enumerable:!1,configurable:!0,get:function(){return this[Se].get_(t)},set:function(n){this[Se].set_(t,n)}}}function lV(t){$i(_E.prototype,""+t,HI(t))}function VI(t){if(t>Hy){for(var e=Hy;e<t+100;e++)lV(e);Hy=t}}VI(1e3);function cV(t,e,n){return new _E(t,e,n)}function Fc(t,e){if(typeof t=="object"&&t!==null){if(dv(t))return e!==void 0&&Qe(23),t[Se].atom_;if(gu(t))return t.atom_;if(yl(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Qe(25,e,xw(t)),n}if(Xd(t)){if(!e)return Qe(26);var r=t[Se].values_.get(e);return r||Qe(27,e,xw(t)),r}if(fE(t)||cv(t)||ym(t))return t}else if(mi(t)&&ym(t[Se]))return t[Se];Qe(28)}function WI(t,e){if(t||Qe(29),e!==void 0)return WI(Fc(t,e));if(fE(t)||cv(t)||ym(t)||yl(t)||gu(t))return t;if(t[Se])return t[Se];Qe(24,t)}function xw(t,e){var n;if(e!==void 0)n=Fc(t,e);else{if(uv(t))return t.name;Xd(t)||yl(t)||gu(t)?n=WI(t):n=Fc(t)}return n.name_}function _l(t){var e=vl(),n=mE(!0);Vr();try{return t()}finally{Wr(),gE(n),Ds(e)}}var lT=nv.toString;function wE(t,e,n){return n===void 0&&(n=-1),Rw(t,e,n)}function Rw(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=lT.call(t);if(o!==lT.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=cT(t),e=cT(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(mi(l)&&l instanceof l&&mi(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===t)return i[u]===e;if(r.push(t),i.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!Rw(t[u],e[u],n-1,r,i))return!1}else{var d=Object.keys(t),h;if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(h=d[u],!(Cs(e,h)&&Rw(t[h],e[h],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function cT(t){return dv(t)?t.slice():pu(t)||yl(t)||Wh(t)||gu(t)?Array.from(t.entries()):t}function Zd(t){return t[Symbol.iterator]=uV,t}function uV(){return this}["Symbol","Map","Set"].forEach(function(t){var e=dE();typeof e[t]>"u"&&Qe("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:xH,extras:{getDebugName:xw},$mobx:Se});const dV={apiKey:"AIzaSyB1vrEG7FRHz0qx1usl56Nph130NA-KUMM",authDomain:"meeting-planner-56526.firebaseapp.com",projectId:"meeting-planner-56526",storageBucket:"meeting-planner-56526.appspot.com",messagingSenderId:"98549244323",appId:"1:98549244323:web:5c73c73a6e803587763a16",measurementId:"G-QBRGRQZM58"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw yu(e)},yu=function(t){return new Error("Firebase Database ("+zI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new fV;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(t){const e=YI(t);return bE.encodeByteArray(e,!0)},bm=function(t){return qI(t).replace(/\./g,"")},Em=function(t){try{return bE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){return GI(void 0,t)}function GI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mV(n)||(t[n]=GI(t[n],e[n]));return t}function mV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=()=>gV().__FIREBASE_DEFAULTS__,yV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_V=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Em(t[1]);return e&&JSON.parse(e)},hv=()=>{try{return vV()||yV()||_V()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KI=t=>{var e,n;return(n=(e=hv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QI=t=>{const e=KI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XI=()=>{var t;return(t=hv())===null||t===void 0?void 0:t.config},ZI=t=>{var e;return(e=hv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[bm(JSON.stringify(n)),bm(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function wV(){var t;const e=(t=hv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EV(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tM(){return zI.NODE_ADMIN===!0}function SV(){try{return typeof indexedDB=="object"}catch{return!1}}function CV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DV,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}}class Qh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new as(i,a,r)}}function TV(t,e){return t.replace(kV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return JSON.parse(t)}function Dn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Jd(Em(s[0])||""),n=Jd(Em(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},xV=function(t){const e=nM(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RV=function(t){const e=nM(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Aw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Cm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uT(s)&&uT(o)){if(!Cm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function IV(t,e){const n=new MV(t,e);return n.subscribe.bind(n)}class MV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vy),i.error===void 0&&(i.error=Vy),i.complete===void 0&&(i.complete=Vy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vy(){}function OV(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jV(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FV(t){return t===ha?void 0:t}function jV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const $V={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},BV=Ke.INFO,HV={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},VV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pv{constructor(e){this.name=e,this._logLevel=BV,this._logHandler=VV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const WV=(t,e)=>e.some(n=>t instanceof n);let dT,hT;function zV(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YV(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rM=new WeakMap,Iw=new WeakMap,iM=new WeakMap,Wy=new WeakMap,CE=new WeakMap;function qV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rM.set(n,t)}).catch(()=>{}),CE.set(e,t),e}function GV(t){if(Iw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Iw.set(t,e)}let Mw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Iw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KV(t){Mw=t(Mw)}function QV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zy(this),e,...n);return iM.set(r,e.sort?e.sort():[e]),Co(r)}:YV().includes(t)?function(...e){return t.apply(zy(this),e),Co(rM.get(this))}:function(...e){return Co(t.apply(zy(this),e))}}function XV(t){return typeof t=="function"?QV(t):(t instanceof IDBTransaction&&GV(t),WV(t,zV())?new Proxy(t,Mw):t)}function Co(t){if(t instanceof IDBRequest)return qV(t);if(Wy.has(t))return Wy.get(t);const e=XV(t);return e!==t&&(Wy.set(t,e),CE.set(e,t)),e}const zy=t=>CE.get(t);function ZV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JV=["get","getKey","getAll","getAllKeys","count"],e4=["put","add","delete","clear"],Yy=new Map;function fT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yy.get(e))return Yy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=e4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Yy.set(e,s),s}KV(t=>({...t,get:(e,n,r)=>fT(e,n)||t.get(e,n,r),has:(e,n)=>!!fT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n4(t){const e=t.getComponent();return e?.type==="VERSION"}const Nw="@firebase/app",pT="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new pv("@firebase/app"),r4="@firebase/app-compat",i4="@firebase/analytics-compat",s4="@firebase/analytics",o4="@firebase/app-check-compat",a4="@firebase/app-check",l4="@firebase/auth",c4="@firebase/auth-compat",u4="@firebase/database",d4="@firebase/database-compat",h4="@firebase/functions",f4="@firebase/functions-compat",p4="@firebase/installations",m4="@firebase/installations-compat",g4="@firebase/messaging",v4="@firebase/messaging-compat",y4="@firebase/performance",_4="@firebase/performance-compat",w4="@firebase/remote-config",b4="@firebase/remote-config-compat",E4="@firebase/storage",S4="@firebase/storage-compat",C4="@firebase/firestore",D4="@firebase/firestore-compat",T4="firebase",k4="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="[DEFAULT]",x4={[Nw]:"fire-core",[r4]:"fire-core-compat",[s4]:"fire-analytics",[i4]:"fire-analytics-compat",[a4]:"fire-app-check",[o4]:"fire-app-check-compat",[l4]:"fire-auth",[c4]:"fire-auth-compat",[u4]:"fire-rtdb",[d4]:"fire-rtdb-compat",[h4]:"fire-fn",[f4]:"fire-fn-compat",[p4]:"fire-iid",[m4]:"fire-iid-compat",[g4]:"fire-fcm",[v4]:"fire-fcm-compat",[y4]:"fire-perf",[_4]:"fire-perf-compat",[w4]:"fire-rc",[b4]:"fire-rc-compat",[E4]:"fire-gcs",[S4]:"fire-gcs-compat",[C4]:"fire-fst",[D4]:"fire-fst-compat","fire-js":"fire-js",[T4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,Pw=new Map;function R4(t,e){try{t.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(Pw.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;Pw.set(e,t);for(const n of Dm.values())R4(n,t);return!0}function mv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Do=new Qh("app","Firebase",A4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=k4;function sM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ow,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Do.create("bad-app-name",{appName:String(i)});if(n||(n=XI()),!n)throw Do.create("no-options");const s=Dm.get(i);if(s){if(Cm(n,s.options)&&Cm(r,s.config))return s;throw Do.create("duplicate-app",{appName:i})}const o=new UV(i);for(const l of Pw.values())o.addComponent(l);const a=new I4(n,r,o);return Dm.set(i,a),a}function DE(t=Ow){const e=Dm.get(t);if(!e&&t===Ow&&XI())return sM();if(!e)throw Do.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=x4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(a.join(" "));return}$o(new Os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",N4=1,eh="firebase-heartbeat-store";let qy=null;function oM(){return qy||(qy=ZV(M4,N4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eh)}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),qy}async function O4(t){try{return await(await oM()).transaction(eh).objectStore(eh).get(aM(t))}catch(e){if(e instanceof as)Ka.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e?.message});Ka.warn(n.message)}}}async function mT(t,e){try{const r=(await oM()).transaction(eh,"readwrite");await r.objectStore(eh).put(e,aM(t)),await r.done}catch(n){if(n instanceof as)Ka.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n?.message});Ka.warn(r.message)}}}function aM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=1024,L4=30*24*60*60*1e3;class F4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=L4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gT(),{heartbeatsToSend:n,unsentEntries:r}=j4(this._heartbeatsCache.heartbeats),i=bm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gT(){return new Date().toISOString().substring(0,10)}function j4(t,e=P4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SV()?CV().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await O4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vT(t){return bm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){$o(new Os("platform-logger",e=>new t4(e),"PRIVATE")),$o(new Os("heartbeat",e=>new F4(e),"PRIVATE")),qr(Nw,pT,t),qr(Nw,pT,"esm2017"),qr("fire-js","")}$4("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="firebasestorage.googleapis.com",cM="storageBucket",B4=2*60*1e3,H4=10*60*1e3,V4=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends as{constructor(e,n,r=0){super(Gy(e),`Firebase Storage: ${n} (${Gy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function Gy(t){return"storage/"+t}function TE(){const t="An unknown error occurred, please check the error payload for server response.";return new Pt(Ct.UNKNOWN,t)}function W4(t){return new Pt(Ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function z4(t){return new Pt(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt(Ct.UNAUTHENTICATED,t)}function q4(){return new Pt(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function G4(t){return new Pt(Ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uM(){return new Pt(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dM(){return new Pt(Ct.CANCELED,"User canceled the upload/download.")}function K4(t){return new Pt(Ct.INVALID_URL,"Invalid URL '"+t+"'.")}function Q4(t){return new Pt(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X4(){return new Pt(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cM+"' property when initializing the app?")}function hM(){return new Pt(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Z4(){return new Pt(Ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function J4(){return new Pt(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eW(t){return new Pt(Ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lw(t){return new Pt(Ct.INVALID_ARGUMENT,t)}function fM(){return new Pt(Ct.APP_DELETED,"The Firebase app was deleted.")}function tW(t){return new Pt(Ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sd(t,e){return new Pt(Ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uu(t){throw new Pt(Ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Xn.makeFromUrl(e,n)}catch{return new Xn(e,"")}if(r.path==="")return r;throw Q4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===lM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${_}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const T=w[E],b=T.regex.exec(e);if(b){const k=b[T.indices.bucket];let x=b[T.indices.path];x||(x=""),r=new Xn(k,x),T.postModify(r);break}}if(r==null)throw K4(e);return r}}class nW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,l())},_)}function h(){s&&clearTimeout(s)}function f(_,...v){if(c){h();return}if(_){h(),u.call(null,_,...v);return}if(l()||o){h(),u.call(null,_,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function m(_){p||(p=!0,h(),!c&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function iW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t){return t!==void 0}function oW(t){return typeof t=="function"}function aW(t){return typeof t=="object"&&!Array.isArray(t)}function gv(t){return typeof t=="string"||t instanceof String}function yT(t){return kE()&&t instanceof Blob}function kE(){return typeof Blob<"u"&&!wV()}function Fw(t,e,n,r){if(r<e)throw Lw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Na||(Na={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Na.NO_ERROR,l=s.getStatus();if(!a||mM(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Na.ABORT;r(!1,new Bf(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Bf(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());sW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=TE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?fM():dM();o(l)}else{const l=uM();o(l)}};this.canceled_?n(!1,new Bf(!1,null,!0)):this.backoffId_=rW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fW(t,e,n,r,i,s,o=!0){const a=pM(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return dW(c,e),cW(c,n),uW(c,s),hW(c,r),new lW(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mW(...t){const e=pW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kE())return new Blob(t);throw new Pt(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){if(typeof atob>"u")throw eW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ky{constructor(e,n){this.data=e,this.contentType=n||null}}function yW(t,e){switch(t){case Oi.RAW:return new Ky(gM(e));case Oi.BASE64:case Oi.BASE64URL:return new Ky(vM(t,e));case Oi.DATA_URL:return new Ky(wW(e),bW(e))}throw TE()}function gM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function _W(t){let e;try{e=decodeURIComponent(t)}catch{throw Sd(Oi.DATA_URL,"Malformed data URL.")}return gM(e)}function vM(t,e){switch(t){case Oi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Sd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Sd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vW(e)}catch(i){throw i.message.includes("polyfill")?i:Sd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sd(Oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=EW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function wW(t){const e=new yM(t);return e.base64?vM(Oi.BASE64,e.rest):_W(e.rest)}function bW(t){return new yM(t).contentType}function EW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){let r=0,i="";yT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(yT(this.data_)){const r=this.data_,i=gW(r,e,n);return i===null?null:new co(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new co(r,!0)}}static getBlob(...e){if(kE()){const n=e.map(r=>r instanceof co?r.data_:r);return new co(mW.apply(null,n))}else{const n=e.map(o=>gv(o)?yW(Oi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new co(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){let e;try{e=JSON.parse(t)}catch{return null}return aW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _M(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e){return e}class Gn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||DW}}let Hf=null;function TW(t){return!gv(t)||t.length<2?t:_M(t)}function wM(){if(Hf)return Hf;const t=[];t.push(new Gn("bucket")),t.push(new Gn("generation")),t.push(new Gn("metageneration")),t.push(new Gn("name","fullPath",!0));function e(s,o){return TW(o)}const n=new Gn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Gn("size");return i.xform=r,t.push(i),t.push(new Gn("timeCreated")),t.push(new Gn("updated")),t.push(new Gn("md5Hash",null,!0)),t.push(new Gn("cacheControl",null,!0)),t.push(new Gn("contentDisposition",null,!0)),t.push(new Gn("contentEncoding",null,!0)),t.push(new Gn("contentLanguage",null,!0)),t.push(new Gn("contentType",null,!0)),t.push(new Gn("metadata","customMetadata",!0)),Hf=t,Hf}function kW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Xn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function xW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return kW(r,t),r}function bM(t,e,n){const r=xE(e);return r===null?null:xW(t,r,n)}function RW(t,e,n,r){const i=xE(e);if(i===null||!gv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),f=wu(h,n,r),p=pM({alt:"media",token:c});return f+p})[0]}function EM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="prefixes",wT="items";function AW(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_T])for(const i of n[_T]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Xn(e,s));r.prefixes.push(o)}if(n[wT])for(const i of n[wT]){const s=t._makeStorageReference(new Xn(e,i.name));r.items.push(s)}return r}function IW(t,e,n){const r=xE(n);return r===null?null:AW(t,e,r)}class wl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){if(!t)throw TE()}function RE(t,e){function n(r,i){const s=bM(t,i,e);return Vi(s!==null),s}return n}function MW(t,e){function n(r,i){const s=IW(t,e,i);return Vi(s!==null),s}return n}function NW(t,e){function n(r,i){const s=bM(t,i,e);return Vi(s!==null),RW(s,i,t.host,t._protocol)}return n}function bu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=q4():i=Y4():n.getStatus()===402?i=z4(t.bucket):n.getStatus()===403?i=G4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function SM(t){const e=bu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=W4(t.path)),s.serverResponse=i.serverResponse,s}return n}function OW(t,e,n){const r=e.fullServerUrl(),i=wu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new wl(i,s,RE(t,n),o);return a.errorHandler=SM(e),a}function PW(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=wu(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new wl(a,l,MW(t,e.bucket),c);return u.urlParams=s,u.errorHandler=bu(e),u}function LW(t,e,n){const r=e.fullServerUrl(),i=wu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new wl(i,s,NW(t,n),o);return a.errorHandler=SM(e),a}function FW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=FW(null,e)),r}function jW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=CM(e,r,i),u=EM(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=co.getBlob(d,r,h);if(f===null)throw hM();const p={name:c.fullPath},m=wu(s,t.host,t._protocol),_="POST",v=t.maxUploadRetryTime,y=new wl(m,_,RE(t,n),v);return y.urlParams=p,y.headers=o,y.body=f.uploadData(),y.errorHandler=bu(e),y}class Tm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function AE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Vi(!1)}return Vi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function UW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=CM(e,r,i),a={name:o.fullPath},l=wu(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=EM(o,n),h=t.maxUploadRetryTime;function f(m){AE(m);let _;try{_=m.getResponseHeader("X-Goog-Upload-URL")}catch{Vi(!1)}return Vi(gv(_)),_}const p=new wl(l,c,f,h);return p.urlParams=a,p.headers=u,p.body=d,p.errorHandler=bu(e),p}function $W(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=AE(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vi(!1)}d||Vi(!1);const h=Number(d);return Vi(!isNaN(h)),new Tm(h,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new wl(n,o,s,a);return l.headers=i,l.errorHandler=bu(e),l}const bT=256*1024;function BW(t,e,n,r,i,s,o,a){const l=new Tm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Z4();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";u===0?f="finalize":c===u?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(m===null)throw hM();function _(E,T){const b=AE(E,["active","final"]),k=l.current+u,x=r.size();let L;return b==="final"?L=RE(e,s)(E,T):L=null,new Tm(k,x,b==="final",L)}const v="POST",y=e.maxUploadRetryTime,w=new wl(n,v,_,y);return w.headers=p,w.body=m.uploadData(),w.progressCallback=a||null,w.errorHandler=bu(t),w}const sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qy(t){switch(t){case"running":case"pausing":case"canceling":return sr.RUNNING;case"paused":return sr.PAUSED;case"success":return sr.SUCCESS;case"canceled":return sr.CANCELED;case"error":return sr.ERROR;default:return sr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n,r){if(oW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class VW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Na.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Na.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Na.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Uu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WW extends VW{initXhr(){this.xhr_.responseType="text"}}function _a(){return new WW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=wM(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(mM(i.status,[]))if(s)i=uM();else{this.sleepTime=Math.max(this.sleepTime*2,V4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ct.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=UW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,_a,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=$W(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,_a,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=bT*this._chunkMultiplier,n=new Tm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=BW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,_a,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){bT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=OW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,_a,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=jW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,_a,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=dM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Qy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new HW(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Qy(this._state)){case sr.SUCCESS:$l(this._resolve.bind(null,this.snapshot))();break;case sr.CANCELED:case sr.ERROR:const n=this._reject;$l(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qy(this._state)){case sr.RUNNING:case sr.PAUSED:e.next&&$l(e.next.bind(e,this.snapshot))();break;case sr.SUCCESS:e.complete&&$l(e.complete.bind(e))();break;case sr.CANCELED:case sr.ERROR:e.error&&$l(e.error.bind(e,this._error))();break;default:e.error&&$l(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this._service=e,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qa(e,n)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _M(this._location.path)}get storage(){return this._service}get parent(){const e=SW(this._location.path);if(e===null)return null;const n=new Xn(this._location.bucket,e);return new Qa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tW(e)}}function YW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new zW(t,new co(e),n)}function qW(t){const e={prefixes:[],items:[]};return DM(t,e).then(()=>e)}async function DM(t,e,n){const i=await GW(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await DM(t,e,i.nextPageToken)}function GW(t,e){e!=null&&typeof e.maxResults=="number"&&Fw("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=PW(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,_a)}function KW(t){t._throwIfRoot("getDownloadURL");const e=LW(t.storage,t._location,wM());return t.storage.makeRequestWithTokens(e,_a).then(n=>{if(n===null)throw J4();return n})}function QW(t,e){const n=CW(t._location.path,e),r=new Xn(t._location.bucket,n);return new Qa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){return/^[A-Za-z]+:\/\//.test(t)}function ZW(t,e){return new Qa(t,e)}function TM(t,e){if(t instanceof IE){const n=t;if(n._bucket==null)throw X4();const r=new Qa(n,n._bucket);return e!=null?TM(r,e):r}else return e!==void 0?QW(t,e):t}function JW(t,e){if(e&&XW(e)){if(t instanceof IE)return ZW(t,e);throw Lw("To use ref(service, url), the first argument must be a Storage instance.")}else return TM(t,e)}function ET(t,e){const n=e?.[cM];return n==null?null:Xn.makeFromBucketSpec(n,t)}function ez(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:JI(i,t.app.options.projectId))}class IE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=lM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B4,this._maxUploadRetryTime=H4,this._requests=new Set,i!=null?this._bucket=Xn.makeFromBucketSpec(i,this._host):this._bucket=ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nW(fM());{const o=fW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ST="@firebase/storage",CT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="storage";function tz(t,e,n){return t=$t(t),YW(t,e,n)}function nz(t){return t=$t(t),qW(t)}function xM(t){return t=$t(t),KW(t)}function jw(t,e){return t=$t(t),JW(t,e)}function rz(t=DE(),e){t=$t(t);const r=mv(t,kM).getImmediate({identifier:e}),i=QI("storage");return i&&iz(r,...i),r}function iz(t,e,n,r={}){ez(t,e,n,r)}function sz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IE(n,r,i,e,ea)}function oz(){$o(new Os(kM,sz,"PUBLIC").setMultipleInstances(!0)),qr(ST,CT,""),qr(ST,CT,"esm2017")}oz();function ME(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const az=RM,AM=new Qh("auth","Firebase",RM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new pv("@firebase/auth");function lz(t,...e){km.logLevel<=Ke.WARN&&km.warn(`Auth (${ea}): ${t}`,...e)}function Fp(t,...e){km.logLevel<=Ke.ERROR&&km.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw NE(t,...e)}function Wi(t,...e){return NE(t,...e)}function IM(t,e,n){const r=Object.assign(Object.assign({},az()),{[e]:n});return new Qh("auth","Firebase",r).create(e,{appName:t.name})}function cz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zi(t,"argument-error"),IM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function NE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AM.create(t,...e)}function xe(t,e,...n){if(!t)throw NE(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function Ps(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uz(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uz()||bV()||"connection"in navigator)?navigator.onLine:!0}function hz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=SE()||eM()}get(){return dz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new Xh(3e4,6e4);function NM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zh(t,e,n,r,i={}){return OM(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),MM.fetch()(PM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function OM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fz),e);try{const i=new gz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Vf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw IM(t,u,c);Zi(t,u)}}catch(i){if(i instanceof as)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function mz(t,e,n,r,i={}){const s=await Zh(t,e,n,r,i);return"mfaPendingCredential"in s&&Zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?OE(t.config,i):`${t.config.apiScheme}://${i}`}class gz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),pz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){return Zh(t,"POST","/v1/accounts:delete",e)}async function yz(t,e){return Zh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _z(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=PE(r);xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cd(Xy(i.auth_time)),issuedAtTime:Cd(Xy(i.iat)),expirationTime:Cd(Xy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Xy(t){return Number(t)*1e3}function PE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Em(n);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wz(t){const e=PE(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&bz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await th(t,yz(n,{idToken:r}));xe(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Dz(s.providerUserInfo):[],a=Cz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LM(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Sz(t){const e=$t(t);await xm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dz(t){return t.map(e=>{var{providerId:n}=e,r=ME(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){const n=await OM(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PM(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MM.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return xe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Tz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nh;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ME(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ez(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LM(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await th(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _z(this,e)}reload(){return Sz(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await th(this,vz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:E,isAnonymous:T,providerData:b,stsTokenManager:k}=n;xe(w&&k,e,"internal-error");const x=nh.fromJSON(this.name,k);xe(typeof w=="string",e,"internal-error"),no(d,e.name),no(h,e.name),xe(typeof E=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),no(f,e.name),no(p,e.name),no(m,e.name),no(_,e.name),no(v,e.name),no(y,e.name);const L=new Oa({uid:w,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:x,createdAt:v,lastLoginAt:y});return b&&Array.isArray(b)&&(L.providerData=b.map($=>Object.assign({},$))),_&&(L._redirectEventId=_),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new nh;i.updateFromServerResponse(n);const s=new Oa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Map;function ys(t){Ps(t instanceof Function,"Expected a class definition");let e=TT.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FM.type="NONE";const kT=FM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e,n){return`firebase:${t}:${e}:${n}`}class gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jp(this.userKey,i.apiKey,s),this.fullPersistenceKey=jp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gc(ys(kT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ys(kT);const o=jp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Oa._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new gc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($M(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HM(e))return"Blackberry";if(VM(e))return"Webos";if(LE(e))return"Safari";if((e.includes("chrome/")||UM(e))&&!e.includes("edge/"))return"Chrome";if(BM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function jM(t=Wn()){return/firefox\//i.test(t)}function LE(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UM(t=Wn()){return/crios\//i.test(t)}function $M(t=Wn()){return/iemobile/i.test(t)}function BM(t=Wn()){return/android/i.test(t)}function HM(t=Wn()){return/blackberry/i.test(t)}function VM(t=Wn()){return/webos/i.test(t)}function vv(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kz(t=Wn()){var e;return vv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xz(){return EV()&&document.documentMode===10}function WM(t=Wn()){return vv(t)||BM(t)||VM(t)||HM(t)||/windows phone/i.test(t)||$M(t)}function Rz(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t,e=[]){let n;switch(t){case"Browser":n=xT(Wn());break;case"Worker":n=`${xT(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}async function YM(t,e){return Zh(t,"GET","/v2/recaptchaConfig",NM(t,e))}function RT(t){return t!==void 0&&t.enterprise!==void 0}class qM{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function GM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Az().appendChild(r)})}function Iz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Mz="https://www.google.com/recaptcha/enterprise.js?render=",Nz="recaptcha-enterprise",Oz="NO_RECAPTCHA";class Pz{constructor(e){this.type=Nz,this.auth=Jh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{YM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new qM(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;RT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Oz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&RT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}GM(Mz+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AT(this),this.idTokenSubscription=new AT(this),this.beforeStateQueue=new Lz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$t(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}async initializeRecaptchaConfig(){const e=await YM(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new qM(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Pz(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&lz(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Jh(t){return $t(t)}class AT{constructor(e){this.auth=e,this.observer=null,this.addObserver=IV(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){const n=mv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Cm(s,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function Uz(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $z(t,e,n){const r=Jh(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=KM(e),{host:o,port:a}=Bz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Hz()}function KM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bz(t){const e=KM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:IT(o)}}}function IT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e){return mz(t,"POST","/v1/accounts:signInWithIdp",NM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="http://localhost";class Xa extends QM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ME(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vc(e,n)}buildRequest(){const e={requestUri:Vz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends ef{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.FACEBOOK_SIGN_IN_METHOD="facebook.com";uo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends ef{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends ef{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Oa._fromIdTokenResponse(e,r,i),o=MT(r);return new Uc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=MT(r);return new Uc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function MT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends as{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rm(e,n,r,i)}}function XM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,s,e,r):s})}async function Wz(t,e,n=!1){const r=await th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await th(t,XM(r,i,e,t),n);xe(s.idToken,r,"internal-error");const o=PE(s.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),Uc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Zi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e,n=!1){const r="signIn",i=await XM(t,r,e),s=await Uc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function qz(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function Gz(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function Kz(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function Qz(t){return $t(t).signOut()}const Am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Am,"1"),this.storage.removeItem(Am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(){const t=Wn();return LE(t)||vv(t)}const Zz=1e3,Jz=10;class JM extends ZM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Xz()&&Rz(),this.fallbackToPolling=WM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JM.type="LOCAL";const e3=JM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN extends ZM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eN.type="SESSION";const tN=eN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await t3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=jE("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function r3(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function i3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s3(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o3(){return nN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebaseLocalStorageDb",a3=1,Im="firebaseLocalStorage",iN="fbase_key";class tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _v(t,e){return t.transaction([Im],e?"readwrite":"readonly").objectStore(Im)}function l3(){const t=indexedDB.deleteDatabase(rN);return new tf(t).toPromise()}function $w(){const t=indexedDB.open(rN,a3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Im,{keyPath:iN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Im)?e(r):(r.close(),await l3(),e(await $w()))})})}async function NT(t,e,n){const r=_v(t,!0).put({[iN]:e,value:n});return new tf(r).toPromise()}async function c3(t,e){const n=_v(t,!1).get(e),r=await new tf(n).toPromise();return r===void 0?null:r.value}function OT(t,e){const n=_v(t,!0).delete(e);return new tf(n).toPromise()}const u3=800,d3=3;class sN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $w(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yv._getInstance(o3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i3(),!this.activeServiceWorker)return;this.sender=new n3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $w();return await NT(e,Am,"1"),await OT(e,Am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_v(i,!1).getAll();return new tf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sN.type="LOCAL";const h3=sN;new Xh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){return e?ys(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends QM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f3(t){return Yz(t.auth,new UE(t),t.bypassAuthState)}function p3(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),zz(n,new UE(t),t.bypassAuthState)}async function m3(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Wz(n,new UE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f3;case"linkViaPopup":case"linkViaRedirect":return m3;case"reauthViaPopup":case"reauthViaRedirect":return p3;default:Zi(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Xh(2e3,1e4);async function v3(t,e,n){const r=Jh(t);cz(t,e,FE);const i=oN(r,n);return new ba(r,"signInViaPopup",e,i).executeNotNull()}class ba extends aN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=jE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g3.get())};e()}}ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="pendingRedirect",Up=new Map;class _3 extends aN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Up.get(this.auth._key());if(!e){try{const r=await w3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Up.set(this.auth._key(),e)}return this.bypassAuthState||Up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w3(t,e){const n=S3(e),r=E3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b3(t,e){Up.set(t._key(),e)}function E3(t){return ys(t._redirectPersistence)}function S3(t){return jp(y3,t.config.apiKey,t.name)}async function C3(t,e,n=!1){const r=Jh(t),i=oN(r,e),o=await new _3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=10*60*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D3&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}saveEventToCache(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}function PT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function k3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e={}){return Zh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function I3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x3(t);for(const n of e)try{if(M3(n))return}catch{}Zi(t,"unauthorized-domain")}function M3(t){const e=Uw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A3.test(n))return!1;if(R3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new Xh(3e4,6e4);function LT(){const t=zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O3(t){return new Promise((e,n)=>{var r,i,s;function o(){LT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LT(),n(Wi(t,"network-request-failed"))},timeout:N3.get()})}if(!((i=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zi().gapi)===null||s===void 0)&&s.load)o();else{const a=Iz("iframefcb");return zi()[a]=()=>{gapi.load?o():n(Wi(t,"network-request-failed"))},GM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $p=null,e})}let $p=null;function P3(t){return $p=$p||O3(t),$p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Xh(5e3,15e3),F3="__/auth/iframe",j3="emulator/auth/iframe",U3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B3(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OE(e,j3):`https://${t.config.authDomain}/${F3}`,r={apiKey:e.apiKey,appName:t.name,v:ea},i=$3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}async function H3(t){const e=await P3(t),n=zi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:B3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wi(t,"network-request-failed"),a=zi().setTimeout(()=>{s(o)},L3.get());function l(){zi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W3=500,z3=600,Y3="_blank",q3="http://localhost";class FT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G3(t,e,n,r=W3,i=z3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},V3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Wn().toLowerCase();n&&(a=UM(c)?Y3:n),jM(c)&&(e=e||q3,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(kz(c)&&a!=="_self")return K3(e||"",a),new FT(null);const d=window.open(e||"",a,u);xe(d,t,"popup-blocked");try{d.focus()}catch{}return new FT(d)}function K3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="__/auth/handler",X3="emulator/auth/handler",Z3=encodeURIComponent("fac");async function jT(t,e,n,r,i,s){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(e instanceof FE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Aw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof ef){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Z3}=${encodeURIComponent(l)}`:"";return`${J3(t)}?${_u(a).slice(1)}${c}`}function J3({config:t}){return t.emulator?OE(t,X3):`https://${t.authDomain}/${Q3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="webStorageSupport";class eY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tN,this._completeRedirectFn=C3,this._overrideRedirectResult=b3}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jT(e,n,r,Uw(),i);return G3(e,o,jE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jT(e,n,r,Uw(),i);return r3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H3(e),r=new T3(e);return n.register("authEvent",i=>(xe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zy,{type:Zy},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Zy];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WM()||LE()||vv()}}const tY=eY;var UT="@firebase/auth",$T="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function iY(t){$o(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zM(t)},c=new Fz(r,i,s,l);return Uz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Os("auth-internal",e=>{const n=Jh(e.getProvider("auth").getImmediate());return(r=>new nY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(UT,$T,rY(t)),qr(UT,$T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=5*60,oY=ZI("authIdTokenMaxAge")||sY;let BT=null;const aY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oY)return;const i=n?.token;BT!==i&&(BT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lY(t=DE()){const e=mv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jz(t,{popupRedirectResolver:tY,persistence:[h3,e3,tN]}),r=ZI("authTokenSyncURL");if(r){const s=aY(r);Gz(n,s,()=>s(n.currentUser)),qz(n,o=>s(o))}const i=KI("auth");return i&&$z(n,`http://${i}`),n}iY("Browser");var cY="firebase",uY="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(cY,uY,"app");var dY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,$E=$E||{},Te=dY||self;function wv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hY(t){return Object.prototype.hasOwnProperty.call(t,Jy)&&t[Jy]||(t[Jy]=++fY)}var Jy="closure_uid_"+(1e9*Math.random()>>>0),fY=0;function pY(t,e,n){return t.call.apply(t.bind,arguments)}function mY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Hn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Hn=pY:Hn=mY,Hn.apply(null,arguments)}function Wf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ta(){this.s=this.s,this.o=this.o}var gY=0;ta.prototype.s=!1;ta.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),gY!=0)&&hY(this)};ta.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function BE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function HT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wv(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var vY=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Te.addEventListener("test",()=>{},e),Te.removeEventListener("test",()=>{},e)}catch{}return t}();function rh(t){return/^[\s\xa0]*$/.test(t)}function bv(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function Ri(t){return bv().indexOf(t)!=-1}function HE(t){return HE[" "](t),t}HE[" "]=function(){};function yY(t,e){var n=u6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _Y=Ri("Opera"),$c=Ri("Trident")||Ri("MSIE"),uN=Ri("Edge"),Bw=uN||$c,dN=Ri("Gecko")&&!(bv().toLowerCase().indexOf("webkit")!=-1&&!Ri("Edge"))&&!(Ri("Trident")||Ri("MSIE"))&&!Ri("Edge"),wY=bv().toLowerCase().indexOf("webkit")!=-1&&!Ri("Edge");function hN(){var t=Te.document;return t?t.documentMode:void 0}var Hw;e:{var e_="",t_=function(){var t=bv();if(dN)return/rv:([^\);]+)(\)|;)/.exec(t);if(uN)return/Edge\/([\d\.]+)/.exec(t);if($c)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wY)return/WebKit\/(\S+)/.exec(t);if(_Y)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(t_&&(e_=t_?t_[1]:""),$c){var n_=hN();if(n_!=null&&n_>parseFloat(e_)){Hw=String(n_);break e}}Hw=e_}var Vw;if(Te.document&&$c){var VT=hN();Vw=VT||parseInt(Hw,10)||void 0}else Vw=void 0;var bY=Vw;function ih(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dN){e:{try{HE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:EY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ih.$.h.call(this)}}vn(ih,Vn);var EY={2:"touch",3:"pen",4:"mouse"};ih.prototype.h=function(){ih.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rf="closure_listenable_"+(1e6*Math.random()|0),SY=0;function CY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++SY,this.fa=this.ia=!1}function Ev(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DY(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fN(t){const e={};for(const n in t)e[n]=t[n];return e}const WT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pN(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<WT.length;s++)n=WT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sv(t){this.src=t,this.g={},this.h=0}Sv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zw(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new CY(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ww(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=cN(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ev(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var WE="closure_lm_"+(1e6*Math.random()|0),r_={};function mN(t,e,n,r,i){if(r&&r.once)return vN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mN(t,e[s],n,r,i);return null}return n=qE(n),t&&t[rf]?t.O(e,n,nf(r)?!!r.capture:!!r,i):gN(t,e,n,!1,r,i)}function gN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=nf(i)?!!i.capture:!!i,a=YE(t);if(a||(t[WE]=a=new Sv(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=TY(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vY||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_N(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TY(){function t(n){return e.call(t.src,t.listener,n)}const e=kY;return t}function vN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vN(t,e[s],n,r,i);return null}return n=qE(n),t&&t[rf]?t.P(e,n,nf(r)?!!r.capture:!!r,i):gN(t,e,n,!0,r,i)}function yN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yN(t,e[s],n,r,i);else r=nf(r)?!!r.capture:!!r,n=qE(n),t&&t[rf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zw(s,n,r,i),-1<n&&(Ev(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=YE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zw(e,n,r,i)),(n=-1<t?e[t]:null)&&zE(n))}function zE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rf])Ww(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_N(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=YE(e))?(Ww(n,t),n.h==0&&(n.src=null,e[WE]=null)):Ev(t)}}}function _N(t){return t in r_?r_[t]:r_[t]="on"+t}function kY(t,e){if(t.fa)t=!0;else{e=new ih(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zE(t),t=n.call(r,e)}return t}function YE(t){return t=t[WE],t instanceof Sv?t:null}var i_="__closure_events_fn_"+(1e9*Math.random()>>>0);function qE(t){return typeof t=="function"?t:(t[i_]||(t[i_]=function(e){return t.handleEvent(e)}),t[i_])}function gn(){ta.call(this),this.i=new Sv(this),this.S=this,this.J=null}vn(gn,ta);gn.prototype[rf]=!0;gn.prototype.removeEventListener=function(t,e,n,r){yN(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;e=new Vn(r,t),pN(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zf(o,r,!0,e)&&i}if(o=e.g=t,i=zf(o,r,!0,e)&&i,i=zf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=zf(o,r,!1,e)&&i}gn.prototype.N=function(){if(gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ev(n[r]);delete t.g[e],t.h--}}this.J=null};gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ww(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var GE=Te.JSON.stringify;let xY=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function RY(){var t=KE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}let AY=class{constructor(){this.h=this.g=null}add(e,n){const r=wN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};var wN=new xY(()=>new IY,t=>t.reset());let IY=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function MY(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function NY(t){Te.setTimeout(()=>{throw t},0)}let sh,oh=!1,KE=new AY,bN=()=>{const t=Te.Promise.resolve(void 0);sh=()=>{t.then(OY)}};var OY=()=>{for(var t;t=RY();){try{t.h.call(t.g)}catch(n){NY(n)}var e=wN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oh=!1};function Cv(t,e){gn.call(this),this.h=t||1,this.g=e||Te,this.j=Hn(this.qb,this),this.l=Date.now()}vn(Cv,gn);K=Cv.prototype;K.ga=!1;K.T=null;K.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(QE(this),this.start()))}};K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function QE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}K.N=function(){Cv.$.N.call(this),QE(this),delete this.g};function XE(t,e,n){if(typeof t=="function")n&&(t=Hn(t,n));else if(t&&typeof t.handleEvent=="function")t=Hn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function EN(t){t.g=XE(()=>{t.g=null,t.i&&(t.i=!1,EN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}let PY=class extends ta{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EN(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ah(t){ta.call(this),this.h=t,this.g={}}vn(ah,ta);var zT=[];function SN(t,e,n,r){Array.isArray(n)||(n&&(zT[0]=n.toString()),n=zT);for(var i=0;i<n.length;i++){var s=mN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function CN(t){VE(t.g,function(e,n){this.g.hasOwnProperty(n)&&zE(e)},t),t.g={}}ah.prototype.N=function(){ah.$.N.call(this),CN(this)};ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dv(){this.g=!0}Dv.prototype.Ea=function(){this.g=!1};function LY(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function FY(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Zl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UY(t,n)+(r?" "+r:"")})}function jY(t,e){t.info(function(){return"TIMEOUT: "+e})}Dv.prototype.info=function(){};function UY(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return GE(n)}catch{return e}}var bl={},YT=null;function Tv(){return YT=YT||new gn}bl.Ta="serverreachability";function DN(t){Vn.call(this,bl.Ta,t)}vn(DN,Vn);function lh(t){const e=Tv();Tn(e,new DN(e))}bl.STAT_EVENT="statevent";function TN(t,e){Vn.call(this,bl.STAT_EVENT,t),this.stat=e}vn(TN,Vn);function Zn(t){const e=Tv();Tn(e,new TN(e,t))}bl.Ua="timingevent";function kN(t,e){Vn.call(this,bl.Ua,t),this.size=e}vn(kN,Vn);function sf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var kv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ZE(){}ZE.prototype.h=null;function qT(t){return t.h||(t.h=t.i())}function RN(){}var of={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function JE(){Vn.call(this,"d")}vn(JE,Vn);function eS(){Vn.call(this,"c")}vn(eS,Vn);var Yw;function xv(){}vn(xv,ZE);xv.prototype.g=function(){return new XMLHttpRequest};xv.prototype.i=function(){return{}};Yw=new xv;function af(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ah(this),this.P=$Y,t=Bw?125:void 0,this.V=new Cv(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AN}function AN(){this.i=null,this.g="",this.h=!1}var $Y=45e3,qw={},Mm={};K=af.prototype;K.setTimeout=function(t){this.P=t};function Gw(t,e,n){t.L=1,t.v=Av(Ls(e)),t.s=n,t.S=!0,IN(t,null)}function IN(t,e){t.G=Date.now(),lf(t),t.A=Ls(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),UN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new AN,t.g=oO(t.l,n?e:null,!t.s),0<t.O&&(t.M=new PY(Hn(t.Pa,t,t.g),t.O)),SN(t.U,t.g,"readystatechange",t.nb),e=t.I?fN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),lh(),LY(t.j,t.u,t.A,t.m,t.W,t.s)}K.nb=function(t){t=t.target;const e=this.M;e&&Pi(t)==3?e.l():this.Pa(t)};K.Pa=function(t){try{if(t==this.g)e:{const u=Pi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Bw||this.g&&(this.h.h||this.g.ja()||XT(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?lh(3):lh(2)),Rv(this);var n=this.g.da();this.ca=n;t:if(MN(this)){var r=XT(this.g);t="";var i=r.length,s=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),Dd(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,FY(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rh(a)){var c=a;break t}}c=null}if(n=c)Zl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kw(this,n);else{this.i=!1,this.o=3,Zn(12),Ea(this),Dd(this);break e}}this.S?(NN(this,u,o),Bw&&this.i&&u==3&&(SN(this.U,this.V,"tick",this.mb),this.V.start())):(Zl(this.j,this.m,o,null),Kw(this,o)),u==4&&Ea(this),this.i&&!this.J&&(u==4?nO(this.l,this):(this.i=!1,lf(this)))}else a6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),Ea(this),Dd(this)}}}catch{}finally{}};function MN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function NN(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=BY(t,n),i==Mm){e==4&&(t.o=4,Zn(14),r=!1),Zl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qw){t.o=4,Zn(15),Zl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zl(t.j,t.m,i,null),Kw(t,i);MN(t)&&i!=Mm&&i!=qw&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Zn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oS(e),e.M=!0,Zn(11))):(Zl(t.j,t.m,n,"[Invalid Chunked Response]"),Ea(t),Dd(t))}K.mb=function(){if(this.g){var t=Pi(this.g),e=this.g.ja();this.C<e.length&&(Rv(this),NN(this,t,e),this.i&&t!=4&&lf(this))}};function BY(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Mm:(n=Number(e.substring(n,r)),isNaN(n)?qw:(r+=1,r+n>e.length?Mm:(e=e.slice(r,r+n),t.C=r+n,e)))}K.cancel=function(){this.J=!0,Ea(this)};function lf(t){t.Y=Date.now()+t.P,ON(t,t.P)}function ON(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=sf(Hn(t.lb,t),e)}function Rv(t){t.B&&(Te.clearTimeout(t.B),t.B=null)}K.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(jY(this.j,this.A),this.L!=2&&(lh(),Zn(17)),Ea(this),this.o=2,Dd(this)):ON(this,this.Y-t)};function Dd(t){t.l.H==0||t.J||nO(t.l,t)}function Ea(t){Rv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,QE(t.V),CN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qw(n.i,t))){if(!t.K&&Qw(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Pm(n),Nv(n);else break e;sS(n),Zn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=sf(Hn(n.ib,n),6e3));if(1>=HN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sa(n,11)}else if((t.K||n.g==t)&&Pm(n),!rh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(tS(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,_t(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sO(r,r.J?r.pa:null,r.Y),o.K){VN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Rv(a),lf(a)),r.g=o}else eO(r);0<n.j.length&&Ov(n)}else c[0]!="stop"&&c[0]!="close"||Sa(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Sa(n,7):iS(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}lh(4)}catch{}}function HY(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function VY(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function PN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=VY(t),r=HY(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var LN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WY(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Pa){this.h=t.h,Nm(this,t.j),this.s=t.s,this.g=t.g,Om(this,t.m),this.l=t.l;var e=t.i,n=new ch;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),GT(this,n),this.o=t.o}else t&&(e=String(t).match(LN))?(this.h=!1,Nm(this,e[1]||"",!0),this.s=ud(e[2]||""),this.g=ud(e[3]||"",!0),Om(this,e[4]),this.l=ud(e[5]||"",!0),GT(this,e[6]||"",!0),this.o=ud(e[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}Pa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dd(e,KT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dd(e,KT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dd(n,n.charAt(0)=="/"?qY:YY,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dd(n,KY)),t.join("")};function Ls(t){return new Pa(t)}function Nm(t,e,n){t.j=n?ud(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Om(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function GT(t,e,n){e instanceof ch?(t.i=e,QY(t.i,t.h)):(n||(e=dd(e,GY)),t.i=new ch(e,t.h))}function _t(t,e,n){t.i.set(e,n)}function Av(t){return _t(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ud(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zY(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var KT=/[#\/\?@]/g,YY=/[#\?:]/g,qY=/[#\?]/g,GY=/[#\?@]/g,KY=/#/g;function ch(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function na(t){t.g||(t.g=new Map,t.h=0,t.i&&WY(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=ch.prototype;K.add=function(t,e){na(this),this.i=null,t=Eu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FN(t,e){na(t),e=Eu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jN(t,e){return na(t),e=Eu(t,e),t.g.has(e)}K.forEach=function(t,e){na(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};K.ta=function(){na(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};K.Z=function(t){na(this);let e=[];if(typeof t=="string")jN(this,t)&&(e=e.concat(this.g.get(Eu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return na(this),this.i=null,t=Eu(this,t),jN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function UN(t,e,n){FN(t,e),0<n.length&&(t.i=null,t.g.set(Eu(t,e),BE(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QY(t,e){e&&!t.j&&(na(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FN(this,r),UN(this,i,n))},t)),t.j=e}var XY=class{constructor(e,n){this.g=e,this.map=n}};function $N(t){this.l=t||ZY,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZY=10;function BN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HN(t){return t.h?1:t.g?t.g.size:0}function Qw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tS(t,e){t.g?t.g.add(e):t.h=e}function VN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$N.prototype.cancel=function(){if(this.i=WN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return BE(t.i)}var JY=class{stringify(e){return Te.JSON.stringify(e,void 0)}parse(e){return Te.JSON.parse(e,void 0)}};function e6(){this.g=new JY}function t6(t,e,n){const r=n||"";try{PN(t,function(i,s){let o=i;nf(i)&&(o=GE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function n6(t,e){const n=new Dv;if(Te.Image){const r=new Image;r.onload=Wf(Yf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wf(Yf,n,r,"TestLoadImage: error",!1,e),r.onabort=Wf(Yf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wf(Yf,n,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cf(t){this.l=t.fc||null,this.j=t.ob||!1}vn(cf,ZE);cf.prototype.g=function(){return new Iv(this.l,this.j)};cf.prototype.i=function(t){return function(){return t}}({});function Iv(t,e){gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn(Iv,gn);var nS=0;K=Iv.prototype;K.open=function(t,e){if(this.readyState!=nS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uh(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uf(this)),this.readyState=nS};K.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function zN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}K.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uf(this):uh(this),this.readyState==3&&zN(this)}};K.Za=function(t){this.g&&(this.response=this.responseText=t,uf(this))};K.Ya=function(t){this.g&&(this.response=t,uf(this))};K.ka=function(){this.g&&uf(this)};function uf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uh(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function uh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Iv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var r6=Te.JSON.parse;function Bt(t){gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YN,this.L=this.M=!1}vn(Bt,gn);var YN="",i6=/^https?$/i,s6=["POST","PUT"];K=Bt.prototype;K.Oa=function(t){this.M=t};K.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yw.g(),this.C=this.u?qT(this.u):qT(Yw),this.g.onreadystatechange=Hn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){QT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Te.FormData&&t instanceof Te.FormData,!(0<=cN(s6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KN(this),0<this.B&&((this.L=o6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hn(this.ua,this)):this.A=XE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){QT(this,s)}};function o6(t){return $c&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.ua=function(){typeof $E<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function QT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qN(t),Mv(t)}function qN(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),Mv(this))};K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mv(this,!0)),Bt.$.N.call(this)};K.La=function(){this.s||(this.G||this.v||this.l?GN(this):this.kb())};K.kb=function(){GN(this)};function GN(t){if(t.h&&typeof $E<"u"&&(!t.C[1]||Pi(t)!=4||t.da()!=2)){if(t.v&&Pi(t)==4)XE(t.La,0,t);else if(Tn(t,"readystatechange"),Pi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(LN)[1]||null;!i&&Te.self&&Te.self.location&&(i=Te.self.location.protocol.slice(0,-1)),r=!i6.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<Pi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qN(t)}}finally{Mv(t)}}}}function Mv(t,e){if(t.g){KN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function KN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}K.isActive=function(){return!!this.g};function Pi(t){return t.g?t.g.readyState:0}K.da=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}};K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),r6(e)}};function XT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case YN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function a6(t){const e={};t=(t.g&&2<=Pi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rh(t[r]))continue;var n=MY(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}DY(e,function(r){return r.join(", ")})}K.Ia=function(){return this.m};K.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QN(t){let e="";return VE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_t(t,e,n))}function $u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XN(t){this.Ga=0,this.j=[],this.l=new Dv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$u("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$u("baseRetryDelayMs",5e3,t),this.hb=$u("retryDelaySeedMs",1e4,t),this.eb=$u("forwardChannelMaxRetries",2,t),this.xa=$u("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $N(t&&t.concurrentRequestLimit),this.Ja=new e6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}K=XN.prototype;K.ra=8;K.H=1;function iS(t){if(ZN(t),t.H==3){var e=t.W++,n=Ls(t.I);if(_t(n,"SID",t.K),_t(n,"RID",e),_t(n,"TYPE","terminate"),df(t,n),e=new af(t,t.l,e),e.L=2,e.v=Av(Ls(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon)try{n=Te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Te.Image&&(new Image().src=e.v,n=!0),n||(e.g=oO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lf(e)}iO(t)}function Nv(t){t.g&&(oS(t),t.g.cancel(),t.g=null)}function ZN(t){Nv(t),t.u&&(Te.clearTimeout(t.u),t.u=null),Pm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function Ov(t){if(!BN(t.i)&&!t.m){t.m=!0;var e=t.Na;sh||bN(),oh||(sh(),oh=!0),KE.add(e,t),t.C=0}}function l6(t,e){return HN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sf(Hn(t.Na,t,e),rO(t,t.C)),t.C++,!0)}K.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new af(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fN(s),pN(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JN(this,i,e),n=Ls(this.I),_t(n,"RID",t),_t(n,"CVER",22),this.F&&_t(n,"X-HTTP-Session-Id",this.F),df(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(QN(s)))+"&"+e:this.o&&rS(n,this.o,s)),tS(this.i,i),this.bb&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",e),_t(n,"SID","null"),i.aa=!0,Gw(i,n,null)):Gw(i,n,e),this.H=2}}else this.H==3&&(t?ZT(this,t):this.j.length==0||BN(this.i)||ZT(this))};function ZT(t,e){var n;e?n=e.m:n=t.W++;const r=Ls(t.I);_t(r,"SID",t.K),_t(r,"RID",n),_t(r,"AID",t.V),df(t,r),t.o&&t.s&&rS(r,t.o,t.s),n=new af(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=JN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tS(t.i,n),Gw(n,r,e)}function df(t,e){t.na&&VE(t.na,function(n,r){_t(e,r,n)}),t.h&&PN({},function(n,r){_t(e,r,n)})}function JN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Hn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{t6(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function eO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sh||bN(),oh||(sh(),oh=!0),KE.add(e,t),t.A=0}}function sS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sf(Hn(t.Ma,t),rO(t,t.A)),t.A++,!0)}K.Ma=function(){if(this.u=null,tO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sf(Hn(this.jb,this),t)}};K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zn(10),Nv(this),tO(this))};function oS(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function tO(t){t.g=new af(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ls(t.wa);_t(e,"RID","rpc"),_t(e,"SID",t.K),_t(e,"AID",t.V),_t(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_t(e,"TO",t.qa),_t(e,"TYPE","xmlhttp"),df(t,e),t.o&&t.s&&rS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Av(Ls(e)),n.s=null,n.S=!0,IN(n,t)}K.ib=function(){this.v!=null&&(this.v=null,Nv(this),sS(this),Zn(19))};function Pm(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function nO(t,e){var n=null;if(t.g==e){Pm(t),oS(t),t.g=null;var r=2}else if(Qw(t.i,e))n=e.F,VN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Tv(),Tn(r,new kN(r,n)),Ov(t)}else eO(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&l6(t,e)||r==2&&sS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Sa(t,5);break;case 4:Sa(t,10);break;case 3:Sa(t,6);break;default:Sa(t,2)}}}function rO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Sa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Hn(t.pb,t);n||(n=new Pa("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||Nm(n,"https"),Av(n)),n6(n.toString(),r)}else Zn(2);t.H=0,t.h&&t.h.za(e),iO(t),ZN(t)}K.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zn(2)):(this.l.info("Failed to ping google.com"),Zn(1))};function iO(t){if(t.H=0,t.ma=[],t.h){const e=WN(t.i);(e.length!=0||t.j.length!=0)&&(HT(t.ma,e),HT(t.ma,t.j),t.i.i.length=0,BE(t.j),t.j.length=0),t.h.ya()}}function sO(t,e,n){var r=n instanceof Pa?Ls(n):new Pa(n);if(r.g!="")e&&(r.g=e+"."+r.g),Om(r,r.m);else{var i=Te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Pa(null);r&&Nm(s,r),e&&(s.g=e),i&&Om(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&_t(r,n,e),_t(r,"VER",t.ra),df(t,r),r}function oO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Bt(new cf({ob:!0})):new Bt(t.va),e.Oa(t.J),e}K.isActive=function(){return!!this.h&&this.h.isActive(this)};function aO(){}K=aO.prototype;K.Ba=function(){};K.Aa=function(){};K.za=function(){};K.ya=function(){};K.isActive=function(){return!0};K.Va=function(){};function Lm(){if($c&&!(10<=Number(bY)))throw Error("Environmental error: no available transport.")}Lm.prototype.g=function(t,e){return new kr(t,e)};function kr(t,e){gn.call(this),this.g=new XN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Su(this)}vn(kr,gn);kr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sO(t,null,t.Y),Ov(t)};kr.prototype.close=function(){iS(this.g)};kr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=GE(t),t=n);e.j.push(new XY(e.fb++,t)),e.H==3&&Ov(e)};kr.prototype.N=function(){this.g.h=null,delete this.j,iS(this.g),delete this.g,kr.$.N.call(this)};function lO(t){JE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vn(lO,JE);function cO(){eS.call(this),this.status=1}vn(cO,eS);function Su(t){this.g=t}vn(Su,aO);Su.prototype.Ba=function(){Tn(this.g,"a")};Su.prototype.Aa=function(t){Tn(this.g,new lO(t))};Su.prototype.za=function(t){Tn(this.g,new cO)};Su.prototype.ya=function(){Tn(this.g,"b")};function c6(){this.blockSize=-1}function gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vn(gi,c6);gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function s_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}gi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)s_(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){s_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){s_(this,r),i=0;break}}this.h=i,this.i+=e};gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function lt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var u6={};function aS(t){return-128<=t&&128>t?yY(t,function(e){return new lt([e|0],0>e?-1:0)}):new lt([t|0],0>t?-1:0)}function Li(t){if(isNaN(t)||!isFinite(t))return yc;if(0>t)return Cn(Li(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Xw;return new lt(e,0)}function uO(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(uO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Li(Math.pow(e,8)),r=yc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Li(Math.pow(e,s)),r=r.R(s).add(Li(o))):(r=r.R(n),r=r.add(Li(o)))}return r}var Xw=4294967296,yc=aS(0),Zw=aS(1),JT=aS(16777216);K=lt.prototype;K.ea=function(){if(Hr(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Xw+r)*e,e*=Xw}return t};K.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_s(this))return"0";if(Hr(this))return"-"+Cn(this).toString(t);for(var e=Li(Math.pow(t,6)),n=this,r="";;){var i=jm(n,e).g;n=Fm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,_s(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};K.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _s(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hr(t){return t.h==-1}K.X=function(t){return t=Fm(this,t),Hr(t)?-1:_s(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new lt(n,~t.h).add(Zw)}K.abs=function(){return Hr(this)?Cn(this):this};K.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new lt(n,n[n.length-1]&-2147483648?-1:0)};function Fm(t,e){return t.add(Cn(e))}K.R=function(t){if(_s(this)||_s(t))return yc;if(Hr(this))return Hr(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Hr(t))return Cn(this.R(Cn(t)));if(0>this.X(JT)&&0>t.X(JT))return Li(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,qf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,qf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new lt(n,0)};function qf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bu(t,e){this.g=t,this.h=e}function jm(t,e){if(_s(e))throw Error("division by zero");if(_s(t))return new Bu(yc,yc);if(Hr(t))return e=jm(Cn(t),e),new Bu(Cn(e.g),Cn(e.h));if(Hr(e))return e=jm(t,Cn(e)),new Bu(Cn(e.g),e.h);if(30<t.g.length){if(Hr(t)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Zw,r=e;0>=r.X(t);)n=ek(n),r=ek(r);var i=Bl(n,1),s=Bl(r,1);for(r=Bl(r,2),n=Bl(n,2);!_s(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Bl(r,1),n=Bl(n,1)}return e=Fm(t,i.R(e)),new Bu(i,e)}for(i=yc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Li(n),o=s.R(e);Hr(o)||0<o.X(t);)n-=r,s=Li(n),o=s.R(e);_s(s)&&(s=Zw),i=i.add(s),t=Fm(t,o)}return new Bu(i,t)}K.gb=function(t){return jm(this,t).h};K.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new lt(n,this.h&t.h)};K.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new lt(n,this.h|t.h)};K.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new lt(n,this.h^t.h)};function ek(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new lt(n,t.h)}function Bl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new lt(i,t.h)}Lm.prototype.createWebChannel=Lm.prototype.g;kr.prototype.send=kr.prototype.u;kr.prototype.open=kr.prototype.m;kr.prototype.close=kr.prototype.close;kv.NO_ERROR=0;kv.TIMEOUT=8;kv.HTTP_ERROR=6;xN.COMPLETE="complete";RN.EventType=of;of.OPEN="a";of.CLOSE="b";of.ERROR="c";of.MESSAGE="d";gn.prototype.listen=gn.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;gi.prototype.digest=gi.prototype.l;gi.prototype.reset=gi.prototype.reset;gi.prototype.update=gi.prototype.j;lt.prototype.add=lt.prototype.add;lt.prototype.multiply=lt.prototype.R;lt.prototype.modulo=lt.prototype.gb;lt.prototype.compare=lt.prototype.X;lt.prototype.toNumber=lt.prototype.ea;lt.prototype.toString=lt.prototype.toString;lt.prototype.getBits=lt.prototype.D;lt.fromNumber=Li;lt.fromString=uO;var d6=function(){return new Lm},h6=function(){return Tv()},o_=kv,f6=xN,p6=bl,tk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},m6=cf,Gf=RN,g6=Bt,v6=gi,_c=lt;const nk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new pv("@firebase/firestore");function rk(){return Za.logLevel}function ce(t,...e){if(Za.logLevel<=Ke.DEBUG){const n=e.map(lS);Za.debug(`Firestore (${Cu}): ${t}`,...n)}}function Fs(t,...e){if(Za.logLevel<=Ke.ERROR){const n=e.map(lS);Za.error(`Firestore (${Cu}): ${t}`,...n)}}function Bc(t,...e){if(Za.logLevel<=Ke.WARN){const n=e.map(lS);Za.warn(`Firestore (${Cu}): ${t}`,...n)}}function lS(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+t;throw Fs(e),new Error(e)}function St(t,e){t||Ce()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let ue=class extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dO=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},y6=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}},_6=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},w6=class{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ts,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ts)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new dO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new On(e)}},b6=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},E6=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new b6(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}},S6=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},C6=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.T=n.token,new S6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function Hc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new on(0,0))}static max(){return new ke(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends dh{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const T6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends dh{construct(e,n,r){return new Un(e,n,r)}static isValidIdentifier(e){return T6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(kt.fromString(e))}static fromName(e){return new me(kt.fromString(e).popFirst(5))}static empty(){return new me(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new kt(e.slice()))}}function k6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new Bo(i,me.empty(),e)}function x6(t){return new Bo(t.readTime,t.key,-1)}class Bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bo(ke.min(),me.empty(),-1)}static max(){return new Bo(ke.max(),me.empty(),-1)}}function R6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==A6)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ff(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}cS.ct=-1;function Pv(t){return t==null}function Um(t){return t===0&&1/t==-1/0}function M6(t){return typeof t=="number"&&Number.isInteger(t)&&!Um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function El(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class Jw{constructor(e,n){this.comparator=e,this.root=n||To.EMPTY}insert(e,n){return new Jw(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,To.BLACK,null,null))}remove(e){return new Jw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,To.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kf(this.root,e,this.comparator,!0)}},Kf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},To=class hs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??hs.RED,this.left=i??hs.EMPTY,this.right=s??hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new hs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}};To.EMPTY=null,To.RED=!0,To.BLACK=!1;To.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(t,e,n,r,i){return this}insert(t,e,n){return new To(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let br=class e0{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sk(this.data.getIterator())}getIteratorFrom(e){return new sk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof e0)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new e0(this.comparator);return n.data=e,n}},sk=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi=class t0{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new t0([])}unionWith(e){let n=new br(Un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new t0(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pO=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr=class n0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pO("Invalid base64 string: "+i):i}}(e);return new n0(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new n0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xr.EMPTY_BYTE_STRING=new xr("");const N6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(t){if(St(!!t),typeof t=="string"){let e=0;const n=N6.exec(t);if(St(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ja(t){return typeof t=="string"?xr.fromBase64String(t):xr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dS(t){const e=t.mapValue.fields.__previous_value__;return uS(e)?dS(e):e}function hh(t){const e=Ho(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O6=class{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},mO=class r0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new r0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r0&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uS(t)?4:P6(t)?9007199254740991:10:Ce()}function Ji(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ho(r.timestampValue),o=Ho(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ja(r.bytesValue).isEqual(Ja(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xt(r.geoPointValue.latitude)===Xt(i.geoPointValue.latitude)&&Xt(r.geoPointValue.longitude)===Xt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xt(r.integerValue)===Xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Xt(r.doubleValue),o=Xt(i.doubleValue);return s===o?Um(s)===Um(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Hc(t.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ik(s)!==ik(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ji(s[a],o[a])))return!1;return!0}(t,e);default:return Ce()}}function fh(t,e){return(t.values||[]).find(n=>Ji(n,e))!==void 0}function Vc(t,e){if(t===e)return 0;const n=el(t),r=el(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Xt(i.integerValue||i.doubleValue),a=Xt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return ok(t.timestampValue,e.timestampValue);case 4:return ok(hh(t),hh(e));case 5:return tt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ja(i),a=Ja(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=tt(o[l],a[l]);if(c!==0)return c}return tt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=tt(Xt(i.latitude),Xt(s.latitude));return o!==0?o:tt(Xt(i.longitude),Xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Vc(o[l],a[l]);if(c)return c}return tt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Qf.mapValue&&s===Qf.mapValue)return 0;if(i===Qf.mapValue)return 1;if(s===Qf.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=tt(a[u],c[u]);if(d!==0)return d;const h=Vc(o[a[u]],l[c[u]]);if(h!==0)return h}return tt(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function ok(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Ho(t),r=Ho(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function Wc(t){return i0(t)}function i0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ho(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ja(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,me.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=i0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${i0(r.fields[a])}`;return s+"}"}(t.mapValue):Ce();var e,n}function s0(t){return!!t&&"integerValue"in t}function hS(t){return!!t&&"arrayValue"in t}function ak(t){return!!t&&"nullValue"in t}function lk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bp(t){return!!t&&"mapValue"in t}function Td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return El(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Td(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Td(n)}setAll(e){let n=Un.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Td(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){El(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ar(Td(this.value))}}function gO(t){const e=[];return El(t.fields,(n,r)=>{const i=new Un([n]);if(Bp(r)){const s=gO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pn(e,0,ke.min(),ke.min(),ke.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,ke.min(),ke.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,ke.min(),ke.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.position=e,this.inclusive=n}}function ck(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=Vc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function L6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{}class rn extends vO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j6(e,n,r):n==="array-contains"?new B6(e,r):n==="in"?new H6(e,r):n==="not-in"?new V6(e,r):n==="array-contains-any"?new W6(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U6(e,r):new $6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vc(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class es extends vO{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new es(e,n)}matches(e){return yO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function yO(t){return t.op==="and"}function _O(t){return F6(t)&&yO(t)}function F6(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function o0(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Wc(t.value);if(_O(t))return t.filters.map(e=>o0(e)).join(",");{const e=t.filters.map(n=>o0(n)).join(",");return`${t.op}(${e})`}}function wO(t,e){return t instanceof rn?function(n,r){return r instanceof rn&&n.op===r.op&&n.field.isEqual(r.field)&&Ji(n.value,r.value)}(t,e):t instanceof es?function(n,r){return r instanceof es&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&wO(s,r.filters[o]),!0):!1}(t,e):void Ce()}function bO(t){return t instanceof rn?function(e){return`${e.field.canonicalString()} ${e.op} ${Wc(e.value)}`}(t):t instanceof es?function(e){return e.op.toString()+" {"+e.getFilters().map(bO).join(" ,")+"}"}(t):"Filter"}class j6 extends rn{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class U6 extends rn{constructor(e,n){super(e,"in",n),this.keys=EO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $6 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=EO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class B6 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hS(n)&&fh(n.arrayValue,this.value)}}class H6 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fh(this.value.arrayValue,n)}}class V6 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fh(this.value.arrayValue,n)}}class W6 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function dk(t,e=null,n=[],r=[],i=null,s=null,o=null){return new z6(t,e,n,r,i,s,o)}function fS(t){const e=Ne(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>o0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wc(r)).join(",")),e.dt=n}return e.dt}function pS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uk(t.startAt,e.startAt)&&uk(t.endAt,e.endAt)}function a0(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function Y6(t,e,n,r,i,s,o,a){return new Lv(t,e,n,r,i,s,o,a)}function mS(t){return new Lv(t)}function hk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q6(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function G6(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function K6(t){return t.collectionGroup!==null}function wc(t){const e=Ne(t);if(e.wt===null){e.wt=[];const n=G6(e),r=q6(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new kd(n)),e.wt.push(new kd(Un.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new kd(Un.keyField(),s))}}}return e.wt}function js(t){const e=Ne(t);if(!e._t)if(e.limitType==="F")e._t=dk(e.path,e.collectionGroup,wc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of wc(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new kd(s.field,o))}const r=e.endAt?new $m(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $m(e.startAt.position,e.startAt.inclusive):null;e._t=dk(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function l0(t,e,n){return new Lv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fv(t,e){return pS(js(t),js(e))&&t.limitType===e.limitType}function SO(t){return`${fS(js(t))}|lt:${t.limitType}`}function c0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>bO(r)).join(", ")}]`),Pv(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wc(r)).join(",")),`Target(${n})`}(js(t))}; limitType=${t.limitType})`}function jv(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):me.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of wc(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=ck(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,wc(n),r)||n.endAt&&!function(i,s,o){const a=ck(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,wc(n),r))}(t,e)}function Q6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CO(t){return(e,n)=>{let r=!1;for(const i of wc(t)){const s=X6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function X6(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Vc(a,l):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Jt(me.comparator);function Us(){return Z6}const DO=new Jt(me.comparator);function hd(...t){let e=DO;for(const n of t)e=e.insert(n.key,n);return e}function TO(t){let e=DO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ca(){return xd()}function kO(){return xd()}function xd(){return new Du(t=>t.toString(),(t,e)=>t.isEqual(e))}const J6=new Jt(me.comparator),e5=new br(me.comparator);function Be(...t){let e=e5;for(const n of t)e=e.add(n);return e}const t5=new br(tt);function n5(){return t5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(e)?"-0":e}}function RO(t){return{integerValue:""+t}}function r5(t,e){return M6(e)?RO(e):xO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this._=void 0}}function i5(t,e,n){return t instanceof Bm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&uS(i)&&(i=dS(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof zc?IO(t,e):t instanceof Yc?MO(t,e):function(r,i){const s=AO(r,i),o=fk(s)+fk(r.gt);return s0(s)&&s0(r.gt)?RO(o):xO(r.serializer,o)}(t,e)}function s5(t,e,n){return t instanceof zc?IO(t,e):t instanceof Yc?MO(t,e):n}function AO(t,e){return t instanceof Hm?s0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Bm extends Uv{}class zc extends Uv{constructor(e){super(),this.elements=e}}function IO(t,e){const n=NO(e);for(const r of t.elements)n.some(i=>Ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yc extends Uv{constructor(e){super(),this.elements=e}}function MO(t,e){let n=NO(e);for(const r of t.elements)n=n.filter(i=>!Ji(i,r));return{arrayValue:{values:n}}}class Hm extends Uv{constructor(e,n){super(),this.serializer=e,this.gt=n}}function fk(t){return Xt(t.integerValue||t.doubleValue)}function NO(t){return hS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.field=e,this.transform=n}}function o5(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof zc&&r instanceof zc||n instanceof Yc&&r instanceof Yc?Hc(n.elements,r.elements,Ji):n instanceof Hm&&r instanceof Hm?Ji(n.gt,r.gt):n instanceof Bm&&r instanceof Bm}(t.transform,e.transform)}class a5{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $v{}function PO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gS(t.key,di.none()):new pf(t.key,t.data,di.none());{const n=t.data,r=ar.empty();let i=new br(Un.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ra(t.key,r,new Fi(i.toArray()),di.none())}}function l5(t,e,n){t instanceof pf?function(r,i,s){const o=r.value.clone(),a=mk(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(r,i,s){if(!Hp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mk(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(LO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Rd(t,e,n,r){return t instanceof pf?function(i,s,o,a){if(!Hp(i.precondition,s))return o;const l=i.value.clone(),c=gk(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ra?function(i,s,o,a){if(!Hp(i.precondition,s))return o;const l=gk(i.fieldTransforms,a,s),c=s.data;return c.setAll(LO(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Hp(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function c5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AO(r.transform,i||null);s!=null&&(n===null&&(n=ar.empty()),n.set(r.field,s))}return n||null}function pk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Hc(n,r,(i,s)=>o5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pf extends $v{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ra extends $v{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mk(t,e,n){const r=new Map;St(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,s5(o,a,n[i]))}return r}function gk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,i5(s,o,e))}return r}class gS extends $v{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u5 extends $v{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&l5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(n,r)=>pk(n,r))&&Hc(this.baseMutations,e.baseMutations,(n,r)=>pk(n,r))}}let h5=class FO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length);let i=J6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new FO(e,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p5=class{constructor(e,n){this.count=e,this.unchangedNames=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ze;function m5(t){switch(t){default:return Ce();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function jO(t){if(t===void 0)return Fs("GRPC error has no .code"),j.UNKNOWN;switch(t){case Qt.OK:return j.OK;case Qt.CANCELLED:return j.CANCELLED;case Qt.UNKNOWN:return j.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return j.INTERNAL;case Qt.UNAVAILABLE:return j.UNAVAILABLE;case Qt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Qt.NOT_FOUND:return j.NOT_FOUND;case Qt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Qt.ABORTED:return j.ABORTED;case Qt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Qt.DATA_LOSS:return j.DATA_LOSS;default:return Ce()}}(ze=Qt||(Qt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g5=class UO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xf}static getOrCreateInstance(){return Xf===null&&(Xf=new UO),Xf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}},Xf=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new _c([4294967295,4294967295],0);function vk(t){const e=v5().encode(t),n=new v6;return n.update(e),new Uint8Array(n.digest())}function yk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _c([n,r],0),new _c([i,s],0)]}let _5=class $O{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fd(`Invalid padding: ${n}`);if(r<0)throw new fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=_c.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(_c.fromNumber(r)));return i.compare(y5)===1&&(i=new _c([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=vk(e),[r,i]=yk(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $O(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=vk(e),[r,i]=yk(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}};class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BO=class HO{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vS.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new HO(ke.min(),i,new Jt(tt),Us(),Be())}},vS=class VO{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new VO(r,n,Be(),Be(),Be())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp=class{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}},WO=class{constructor(e,n){this.targetId=e,this.Vt=n}},zO=class{constructor(e,n,r=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_k=class{constructor(){this.St=0,this.Dt=bk(),this.Ct=xr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Be(),n=Be(),r=Be();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new vS(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=bk()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}},w5=class{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Us(),this.zt=wk(),this.Wt=new Jt(tt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(a0(o))if(i===0){const a=new me(o.path);this.Yt(r,a,Pn.newNoDocument(a,ke.min()))}else St(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=g5.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,_,v;const y={localCacheCount:u,existenceFilterCount:d.count},w=d.unchangedNames;return w&&(y.bloomFilter={applied:c===0,hashCount:(h=w?.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=w?.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(v=(_=w?.bits)===null||_===void 0?void 0:_.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=Ja(s).toUint8Array()}catch(u){if(u instanceof pO)return Bc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new _5(l,o,a)}catch(u){return Bc(u instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&a0(a.target)){const l=new me(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Pn.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Be();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new BO(e,n,this.Wt,this.jt,r);return this.jt=Us(),this.zt=wk(),this.Wt=new Jt(tt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new _k,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new br(tt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _k),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}};function wk(){return new Jt(me.comparator)}function bk(){return new Jt(me.comparator)}const b5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),E5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),S5=(()=>({and:"AND",or:"OR"}))();let C5=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function u0(t,e){return t.useProto3Json||Pv(e)?e:{value:e}}function Vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D5(t,e){return Vm(t,e.toTimestamp())}function Yi(t){return St(!!t),ke.fromTimestamp(function(e){const n=Ho(e);return new on(n.seconds,n.nanos)}(t))}function yS(t,e){return function(n){return new kt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function qO(t){const e=kt.fromString(t);return St(XO(e)),e}function d0(t,e){return yS(t.databaseId,e.path)}function a_(t,e){const n=qO(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(GO(n))}function h0(t,e){return yS(t.databaseId,e)}function T5(t){const e=qO(t);return e.length===4?kt.emptyPath():GO(e)}function f0(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GO(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ek(t,e,n){return{name:d0(t,e),fields:n.value.mapValue.fields}}function k5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(St(c===void 0||typeof c=="string"),xr.fromBase64String(c||"")):(St(c===void 0||c instanceof Uint8Array),xr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?j.UNKNOWN:jO(l.code);return new ue(c,l.message||"")}(o);n=new zO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=a_(t,r.document.name),s=Yi(r.document.updateTime),o=r.document.createTime?Yi(r.document.createTime):ke.min(),a=new ar({mapValue:{fields:r.document.fields}}),l=Pn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Vp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=a_(t,r.document),s=r.readTime?Yi(r.readTime):ke.min(),o=Pn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=a_(t,r.document),s=r.removedTargetIds||[];n=new Vp([],s,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new p5(i,s),a=r.targetId;n=new WO(a,o)}}return n}function x5(t,e){let n;if(e instanceof pf)n={update:Ek(t,e.key,e.value)};else if(e instanceof gS)n={delete:d0(t,e.key)};else if(e instanceof ra)n={update:Ek(t,e.key,e.data),updateMask:F5(e.fieldMask)};else{if(!(e instanceof u5))return Ce();n={verify:d0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Bm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Yc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hm)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:D5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce()}(t,e.precondition)),n}function R5(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Yi(r.updateTime):Yi(i);return s.isEqual(ke.min())&&(s=Yi(i)),new a5(s,r.transformResults||[])}(n,e))):[]}function A5(t,e){return{documents:[h0(t,e.path)]}}function I5(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=h0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=h0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return QO(es.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:zl(u.field),direction:O5(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=u0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function M5(t){let e=T5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=KO(u);return d instanceof es&&_O(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new kd(Yl(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,Pv(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,h=u.values||[];return new $m(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new $m(h,d)}(n.endAt)),Y6(e,i,o,s,a,"F",l,c)}function N5(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KO(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Yl(e.unaryFilter.field);return rn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Yl(e.unaryFilter.field);return rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yl(e.unaryFilter.field);return rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yl(e.unaryFilter.field);return rn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(e){return rn.create(Yl(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return es.create(e.compositeFilter.filters.map(n=>KO(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ce()}}(e.compositeFilter.op))}(t):Ce()}function O5(t){return b5[t]}function P5(t){return E5[t]}function L5(t){return S5[t]}function zl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return Un.fromServerFormat(t.fieldPath)}function QO(t){return t instanceof rn?function(e){if(e.op==="=="){if(lk(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NAN"}};if(ak(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lk(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NAN"}};if(ak(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(e.field),op:P5(e.op),value:e.value}}}(t):t instanceof es?function(e){const n=e.getFilters().map(r=>QO(r));return n.length===1?n[0]:{compositeFilter:{op:L5(e.op),filters:n}}}(t):Ce()}function F5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=xr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.fe=e}}function U5(t){const e=M5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?l0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.rn=new B5}addToCollectionParentIndex(e,n){return this.rn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Bo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class B5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new br(kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new br(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qc(0)}static Mn(){return new qc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.changes=new Du(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rd(r.mutation,i,Fi.empty(),on.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const i=Ca();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ca();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Us();const o=xd(),a=xd();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ra)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Rd(u.mutation,c,u.mutation.getFieldMask(),on.now())):o.set(c.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new V5(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xd();let i=new Jt((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Fi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=kO();u.forEach(h=>{if(!s.has(h)){const f=PO(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Ca());let a=-1,l=s;return o.next(c=>H.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Be())).next(u=>({batchId:a,changes:TO(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=hd();return this.indexManager.getCollectionParents(e,i).next(o=>H.forEach(o,a=>{const l=function(c,u){return new Lv(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Pn.newInvalidDocument(c)))});let o=hd();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Rd(c.mutation,l,Fi.empty(),on.now()),jv(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return H.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Yi(r.createTime)}),H.resolve()}getNamedQuery(e,n){return H.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:U5(r.bundledQuery),readTime:Yi(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.overlays=new Jt(me.comparator),this.ls=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ca();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Ca(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Jt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ca(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ca(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f5(n,r));let s=this.ls.get(n);s===void 0&&(s=Be(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.fs=new br(cn.ds),this.ws=new br(cn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new cn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new cn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new me(new kt([])),r=new cn(n,e),i=new cn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new me(new kt([])),r=new cn(n,e),i=new cn(n,e+1);let s=Be();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return me.comparator(e.key,n.key)||tt(e.As,n.As)}static _s(e,n){return tt(e.As,n.As)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new br(cn.ds)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new cn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(tt);return n.forEach(i=>{const s=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),H.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new cn(new me(s),0);let a=new br(tt);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),H.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){St(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return H.forEach(n.mutations,i=>{const s=new cn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new cn(n,0),i=this.Rs.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.Ds=e,this.docs=new Jt(me.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Us();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Us();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||R6(x6(u),r)<=0||(i.has(u.key)||jv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce()}Cs(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K5(this)}getSize(e){return H.resolve(this.size)}}class K5 extends H5{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.persistence=e,this.xs=new Du(n=>fS(n),pS),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Ns=0,this.ks=new _S,this.targetCount=0,this.Ms=qc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),H.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new qc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Fn(n),H.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.$s={},this.overlays={},this.Os=new cS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Q5(this),this.indexManager=new $5,this.remoteDocumentCache=function(r){return new G5(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new j5(n),this.qs=new z5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new q5(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new Z5(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return H.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Z5 extends I6{constructor(e){super(),this.currentSequenceNumber=e}}class wS{constructor(e){this.persistence=e,this.Qs=new _S,this.js=null}static zs(e){return new wS(e)}get Ws(){if(this.js)return this.js;throw Ce()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),H.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Ws,r=>{const i=me.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return H.or([()=>H.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Be(),i=Be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(hk(n))return H.resolve(null);let r=js(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=l0(n,null,"F"),r=js(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Be(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,l0(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return hk(n)||i.isEqual(ke.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(rk()<=Ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),c0(n)),this.Wi(e,o,n,k6(i,-1)))})}ji(e,n){let r=new br(CO(e));return n.forEach((i,s)=>{jv(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return rk()<=Ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",c0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Bo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Jt(tt),this.Yi=new Du(s=>fS(s),pS),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W5(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function t9(t,e,n,r){return new e9(t,e,n,r)}async function ZO(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Be();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function n9(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=H.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);St(m!==null),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Be();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JO(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function r9(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(xr.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(p,m,_){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,f,u)&&a.push(n.Bs.updateTargetData(s,f))});let l=Us(),c=Be();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(i9(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(ke.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function i9(t,e,n){let r=Be(),i=Be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Us();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function s9(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o9(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new vo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function p0(t,e,n){const r=Ne(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ff(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Sk(t,e,n){const r=Ne(t);let i=ke.min(),s=Be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Ne(a),d=u.Yi.get(c);return d!==void 0?H.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,js(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Be())).next(a=>(a9(r,Q6(e),a),{documents:a,ir:s})))}function a9(t,e,n){let r=t.Xi.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Ck{constructor(){this.activeTargetIds=n5()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l9{constructor(){this.Hr=new Ck,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ck,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function l_(){return Zf===null?Zf=268435456+Math.round(2147483648*Math.random()):Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class h9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=l_(),a=this.To(e,n);ce("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(ce("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Bc("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=u9[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=l_();return new Promise((o,a)=>{const l=new g6;l.setWithCredentials(!0),l.listenOnce(f6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case o_.NO_ERROR:const u=l.getResponseJson();ce(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case o_.TIMEOUT:ce(In,`RPC '${e}' ${s} timed out`),a(new ue(j.DEADLINE_EXCEEDED,"Request time out"));break;case o_.HTTP_ERROR:const d=l.getStatus();if(ce(In,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(f.status);a(new ue(p,f.message))}else a(new ue(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(j.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(In,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ce(In,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=l_(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d6(),a=h6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new m6({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");ce(In,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new d9({ro:_=>{f?ce(In,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(ce(In,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ce(In,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),m=(_,v,y)=>{_.listen(v,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return m(d,Gf.EventType.OPEN,()=>{f||ce(In,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Gf.EventType.CLOSE,()=>{f||(f=!0,ce(In,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Gf.EventType.ERROR,_=>{f||(f=!0,Bc(In,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new ue(j.UNAVAILABLE,"The operation could not be completed")))}),m(d,Gf.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];St(!!y);const w=y,E=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(E){ce(In,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let b=function(x){const L=Qt[x];if(L!==void 0)return jO(L)}(T),k=E.message;b===void 0&&(b=j.INTERNAL,k="Unknown error status: "+T+" with message "+E.message),f=!0,p.wo(new ue(b,k)),d.close()}else ce(In,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),m(a,p6.STAT_EVENT,_=>{_.stat===tk.PROXY?ce(In,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===tk.NOPROXY&&ce(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function c_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){return new C5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new eP(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ue(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f9 extends tP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=k5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ke.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?Yi(s.readTime):ke.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=f0(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=a0(a)?{documents:A5(i,a)}:{query:I5(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=YO(i,s.resumeToken);const l=u0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ke.min())>0){o.readTime=Vm(i,s.snapshotVersion.toTimestamp());const l=u0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=N5(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=f0(this.serializer),n.removeTarget=e,this.Wo(n)}}class p9 extends tP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=R5(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.cu(r,n)}return St(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=f0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x5(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ue(j.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(j.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(j.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class g9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fs(n),this.mu=!1):ce("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Sl(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ne(a);l.vu.add(4),await mf(l),l.bu.set("Unknown"),l.vu.delete(4),await Hv(l)}(this))})}),this.bu=new g9(r,i)}}async function Hv(t){if(Sl(t))for(const e of t.Ru)await e(!0)}async function mf(t){for(const e of t.Ru)await e(!1)}function nP(t,e){const n=Ne(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),CS(n)?SS(n):Tu(n).Ko()&&ES(n,e))}function rP(t,e){const n=Ne(t),r=Tu(n);n.Au.delete(e),r.Ko()&&iP(n,e),n.Au.size===0&&(r.Ko()?r.jo():Sl(n)&&n.bu.set("Unknown"))}function ES(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tu(t).su(e)}function iP(t,e){t.Vu.qt(e),Tu(t).iu(e)}function SS(t){t.Vu=new w5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Tu(t).start(),t.bu.gu()}function CS(t){return Sl(t)&&!Tu(t).Uo()&&t.Au.size>0}function Sl(t){return Ne(t).vu.size===0}function sP(t){t.Vu=void 0}async function y9(t){t.Au.forEach((e,n)=>{ES(t,e)})}async function _9(t,e){sP(t),CS(t)?(t.bu.Iu(e),SS(t)):t.bu.set("Unknown")}async function w9(t,e,n){if(t.bu.set("Online"),e instanceof zO&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wm(t,r)}else if(e instanceof Vp?t.Vu.Ht(e):e instanceof WO?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ke.min()))try{const r=await JO(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(xr.EMPTY_BYTE_STRING,c.snapshotVersion)),iP(i,a);const u=new vo(c.target,a,l,c.sequenceNumber);ES(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Wm(t,r)}}async function Wm(t,e,n){if(!ff(e))throw e;t.vu.add(1),await mf(t),t.bu.set("Offline"),n||(n=()=>JO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Hv(t)})}function oP(t,e){return e().catch(n=>Wm(t,n,e))}async function Vv(t){const e=Ne(t),n=Vo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;b9(e);)try{const i=await s9(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,E9(e,i)}catch(i){await Wm(e,i)}aP(e)&&lP(e)}function b9(t){return Sl(t)&&t.Eu.length<10}function E9(t,e){t.Eu.push(e);const n=Vo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function aP(t){return Sl(t)&&!Vo(t).Uo()&&t.Eu.length>0}function lP(t){Vo(t).start()}async function S9(t){Vo(t).hu()}async function C9(t){const e=Vo(t);for(const n of t.Eu)e.uu(n.mutations)}async function D9(t,e,n){const r=t.Eu.shift(),i=h5.from(r,e,n);await oP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vv(t)}async function T9(t,e){e&&Vo(t).ou&&await async function(n,r){if(i=r.code,m5(i)&&i!==j.ABORTED){const s=n.Eu.shift();Vo(n).Qo(),await oP(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Vv(n)}var i}(t,e),aP(t)&&lP(t)}async function Tk(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Sl(n);n.vu.add(3),await mf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Hv(n)}async function k9(t,e){const n=Ne(t);e?(n.vu.delete(2),await Hv(n)):e||(n.vu.add(2),await mf(n),n.bu.set("Unknown"))}function Tu(t){return t.Su||(t.Su=function(e,n,r){const i=Ne(e);return i.fu(),new f9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:y9.bind(null,t),ao:_9.bind(null,t),nu:w9.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),CS(t)?SS(t):t.bu.set("Unknown")):(await t.Su.stop(),sP(t))})),t.Su}function Vo(t){return t.Du||(t.Du=function(e,n,r){const i=Ne(e);return i.fu(),new p9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:S9.bind(null,t),ao:T9.bind(null,t),au:C9.bind(null,t),cu:D9.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Vv(t)):(await t.Du.stop(),t.Eu.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x9=class cP{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new cP(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DS(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),ff(t))return new ue(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uP=class Wp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=hd(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new Wp(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kk=class{constructor(){this.Cu=new Jt(me.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Ce():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}},zm=class dP{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new dP(e,n,uP.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R9=class{constructor(){this.Nu=void 0,this.listeners=[]}},A9=class{constructor(){this.queries=new Du(e=>SO(e),Fv),this.onlineState="Unknown",this.ku=new Set}};async function hP(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new R9),i)try{s.Nu=await n.onListen(r)}catch(o){const a=DS(o,`Initialization of query '${c0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&TS(n)}async function fP(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function I9(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&TS(n)}function M9(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function TS(t){t.ku.forEach(e=>{e.next()})}let pP=class{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mP=class{constructor(e){this.key=e}},gP=class{constructor(e){this.key=e}},N9=class{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Be(),this.mutatedKeys=Be(),this.tc=CO(e),this.ec=new uP(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new kk,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=jv(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new zm(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new gP(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new mP(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return zm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}},O9=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},P9=class{constructor(e){this.key=e,this.fc=!1}},L9=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Du(a=>SO(a),Fv),this._c=new Map,this.mc=new Set,this.gc=new Jt(me.comparator),this.yc=new Map,this.Ic=new _S,this.Tc={},this.Ec=new Map,this.Ac=qc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}};async function F9(t,e){const n=q9(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await o9(n.localStore,js(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await j9(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&nP(n.remoteStore,o)}return i}async function j9(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,m,_,v){let y=m.view.sc(_);y.zi&&(y=await Sk(p.localStore,m.query,!1).then(({documents:T})=>m.view.sc(T,y)));const w=v&&v.targetChanges.get(m.targetId),E=m.view.applyChanges(y,p.isPrimaryClient,w);return Rk(p,m.targetId,E.cc),E.snapshot}(t,d,h,f);const s=await Sk(t.localStore,e,!0),o=new N9(e,s.ir),a=o.sc(s.documents),l=vS.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Rk(t,n,c.cc);const u=new O9(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function U9(t,e){const n=Ne(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Fv(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await p0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rP(n.remoteStore,r.targetId),m0(n,r.targetId)}).catch(hf)):(m0(n,r.targetId),await p0(n.localStore,r.targetId,!0))}async function $9(t,e,n){const r=G9(t);try{const i=await function(s,o){const a=Ne(s),l=on.now(),c=o.reduce((h,f)=>h.add(f.key),Be());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Us(),p=Be();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const _=[];for(const v of o){const y=c5(v,u.get(v.key).overlayedDocument);y!=null&&_.push(new ra(v.key,y,gO(y.value.mapValue),di.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:TO(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Jt(tt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await gf(r,i.changes),await Vv(r.remoteStore)}catch(i){const s=DS(i,"Failed to persist write");n.reject(s)}}async function vP(t,e){const n=Ne(t);try{const r=await r9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?St(o.fc):i.removedDocuments.size>0&&(St(o.fc),o.fc=!1))}),await gf(n,r,e)}catch(r){await hf(r)}}function xk(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ne(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&TS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B9(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Jt(me.comparator);o=o.insert(s,Pn.newNoDocument(s,ke.min()));const a=Be().add(s),l=new BO(ke.min(),new Map,new Jt(tt),o,a);await vP(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),kS(r)}else await p0(r.localStore,e,!1).then(()=>m0(r,e,n)).catch(hf)}async function H9(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await n9(n.localStore,e);_P(n,r,null),yP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gf(n,i)}catch(i){await hf(i)}}async function V9(t,e,n){const r=Ne(t);try{const i=await function(s,o){const a=Ne(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(St(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);_P(r,e,n),yP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gf(r,i)}catch(i){await hf(i)}}function yP(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function _P(t,e,n){const r=Ne(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function m0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||wP(t,r)})}function wP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(rP(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),kS(t))}function Rk(t,e,n){for(const r of n)r instanceof mP?(t.Ic.addReference(r.key,e),W9(t,r)):r instanceof gP?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||wP(t,r.key)):Ce()}function W9(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.mc.add(r),kS(t))}function kS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new me(kt.fromString(e)),r=t.Ac.next();t.yc.set(r,new P9(n)),t.gc=t.gc.insert(n,r),nP(t.remoteStore,new vo(js(mS(n.path)),r,"TargetPurposeLimboResolution",cS.ct))}}async function gf(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=bS.Li(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const c=Ne(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>H.forEach(l,d=>H.forEach(d.Fi,h=>c.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>H.forEach(d.Bi,h=>c.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!ff(u))throw u;ce("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const h=c.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);c.Ji=c.Ji.insert(d,p)}}}(r.localStore,s))}async function z9(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await ZO(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new ue(j.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gf(n,r.er)}}function Y9(t,e){const n=Ne(t),r=n.yc.get(e);if(r&&r.fc)return Be().add(r.key);{let i=Be();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function q9(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B9.bind(null,e),e.dc.nu=I9.bind(null,e.eventManager),e.dc.Pc=M9.bind(null,e.eventManager),e}function G9(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V9.bind(null,e),e}let Ak=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return t9(this.persistence,new J5,e.initialUser,this.serializer)}createPersistence(e){return new X5(wS.zs,this.serializer)}createSharedClientState(e){return new l9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},K9=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z9.bind(null,this.syncEngine),await k9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new A9}createDatastore(e){const n=Bv(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new h9(i));var i;return function(s,o,a,l){return new m9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>xk(this.syncEngine,a,0),o=Dk.D()?new Dk:new c9,new v9(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new L9(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ne(e);ce("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await mf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bP=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=hO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=DS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function u_(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ik(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z9(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Tk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Tk(e.remoteStore,s)),t._onlineComponents=e}function X9(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Z9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await u_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!X9(n))throw n;Bc("Error using user provided cache. Falling back to memory cache: "+n),await u_(t,new Ak)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await u_(t,new Ak);return t._offlineComponents}async function EP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Ik(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Ik(t,new K9))),t._onlineComponents}function J9(t){return EP(t).then(e=>e.syncEngine)}async function SP(t){const e=await EP(t),n=e.eventManager;return n.onListen=F9.bind(null,e.syncEngine),n.onUnlisten=U9.bind(null,e.syncEngine),n}function eq(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new bP({next:d=>{s.enqueueAndForget(()=>fP(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new ue(j.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new ue(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new pP(mS(o.path),c,{includeMetadataChanges:!0,Ku:!0});return hP(i,u)}(await SP(t),t.asyncQueue,e,n,r)),r.promise}function tq(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new bP({next:d=>{s.enqueueAndForget(()=>fP(i,u)),d.fromCache&&a.source==="server"?l.reject(new ue(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new pP(o,c,{includeMetadataChanges:!0,Ku:!0});return hP(i,u)}(await SP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e,n){if(!n)throw new ue(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nq(t,e,n,r){if(e===!0&&r===!0)throw new ue(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nk(t){if(!me.isDocumentKey(t))throw new ue(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ok(t){if(me.isDocumentKey(t))throw new ue(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xS(t);throw new ue(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pk=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}},Wv=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new y6;switch(n.type){case"firstParty":return new E6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ue(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Mk.get(e);n&&(ce("ComponentProvider","Removing Datastore"),Mk.delete(e),n.terminate())}(this),Promise.resolve()}};function rq(t,e,n,r={}){var i;const s=(t=ts(t,Wv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=On.MOCK_USER;else{a=JI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ue(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new On(c)}t._authCredentials=new _6(new dO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gr=class TP{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new TP(this.firestore,e,this._key)}},kP=class xP{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xP(this.firestore,e,this._query)}},bc=class RP extends kP{constructor(e,n,r){super(e,n,mS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new me(e))}withConverter(e){return new RP(this.firestore,e,this._path)}};function ns(t,e,...n){if(t=$t(t),DP("collection","path",e),t instanceof Wv){const r=kt.fromString(e,...n);return Ok(r),new bc(t,null,r)}{if(!(t instanceof Gr||t instanceof bc))throw new ue(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return Ok(r),new bc(t.firestore,null,r)}}function rs(t,e,...n){if(t=$t(t),arguments.length===1&&(e=hO.A()),DP("doc","path",e),t instanceof Wv){const r=kt.fromString(e,...n);return Nk(r),new Gr(t,null,new me(r))}{if(!(t instanceof Gr||t instanceof bc))throw new ue(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return Nk(r),new Gr(t.firestore,t instanceof bc?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iq=class{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new eP(this,"async_queue_retry"),this.Xc=()=>{const n=c_();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=c_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=c_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ts;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ff(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Fs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=x9.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Ce()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}},ku=class extends Wv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iq,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AP(this),this._firestoreClient.terminate()}};function sq(t,e){const n=typeof t=="object"?t:DE(),r=typeof t=="string"?t:e||"(default)",i=mv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QI("firestore");s&&rq(i,...s)}return i}function RS(t){return t._firestoreClient||AP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new O6(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,CP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Q9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AS=class g0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new g0(xr.fromBase64String(e))}catch(n){throw new ue(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new g0(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zv=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IS=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=/^__.*__$/;let aq=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new pf(e,this.data,n,this.fieldTransforms)}},IP=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function MP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}let NP=class OP{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new OP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ym(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(MP(this.ca)&&oq.test(e))throw this._a('Document fields cannot begin and end with "__"')}},lq=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bv(e)}ya(e,n,r,i=!1){return new NP({ca:e,methodName:n,ga:r,path:Un.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function PP(t){const e=t._freezeSettings(),n=Bv(t._databaseId);return new lq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cq(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);NS("Data must be an object, but it was:",o,r);const a=jP(r,o);let l,c;if(s.merge)l=new Fi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=v0(e,d,n);if(!o.contains(h))throw new ue(j.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);$P(u,h)||u.push(h)}l=new Fi(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new aq(new ar(a),l,c)}let MS=class LP extends vf{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof LP}};function FP(t,e,n){return new NP({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}let uq=class extends vf{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=FP(this,e,!0),r=this.pa.map(s=>xu(s,n)),i=new zc(r);return new OO(e.path,i)}isEqual(e){return this===e}},dq=class extends vf{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=FP(this,e,!0),r=this.pa.map(s=>xu(s,n)),i=new Yc(r);return new OO(e.path,i)}isEqual(e){return this===e}};function hq(t,e,n,r){const i=t.ya(1,e,n);NS("Data must be an object, but it was:",i,r);const s=[],o=ar.empty();El(r,(l,c)=>{const u=OS(e,l,n);c=$t(c);const d=i.da(u);if(c instanceof MS)s.push(u);else{const h=xu(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Fi(s);return new IP(o,a,i.fieldTransforms)}function fq(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[v0(e,r,n)],l=[i];if(s.length%2!=0)throw new ue(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(v0(e,s[h])),l.push(s[h+1]);const c=[],u=ar.empty();for(let h=a.length-1;h>=0;--h)if(!$P(c,a[h])){const f=a[h];let p=l[h];p=$t(p);const m=o.da(f);if(p instanceof MS)c.push(f);else{const _=xu(p,m);_!=null&&(c.push(f),u.set(f,_))}}const d=new Fi(c);return new IP(u,d,o.fieldTransforms)}function xu(t,e){if(UP(t=$t(t)))return NS("Unsupported field value:",e,t),jP(t,e);if(t instanceof vf)return function(n,r){if(!MP(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=xu(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=$t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return r5(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=on.fromDate(n);return{timestampValue:Vm(r.serializer,i)}}if(n instanceof on){const i=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vm(r.serializer,i)}}if(n instanceof IS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof AS)return{bytesValue:YO(r.serializer,n._byteString)};if(n instanceof Gr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${xS(n)}`)}(t,e)}function jP(t,e){const n={};return fO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(t,(r,i)=>{const s=xu(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof IS||t instanceof AS||t instanceof Gr||t instanceof vf)}function NS(t,e,n){if(!UP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=xS(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function v0(t,e,n){if((e=$t(e))instanceof zv)return e._internalPath;if(typeof e=="string")return OS(t,e);throw Ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const pq=new RegExp("[~\\*/\\[\\]]");function OS(t,e,n){if(e.search(pq)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zv(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ym(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(j.INVALID_ARGUMENT,a+t+l)}function $P(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BP=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}};class mq extends BP{data(){return super.data()}}function HP(t,e){return typeof e=="string"?OS(t,e):e instanceof zv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vq{convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return El(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new IS(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=Ho(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);St(XO(r));const i=new mO(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},VP=class extends BP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},zp=class extends VP{data(e={}){return super.data(e)}},_q=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zp(this._firestore,this._userDataWriter,r.key,r,new pd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new pd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new pd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:wq(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function wq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){t=ts(t,Gr);const e=ts(t.firestore,ku);return eq(RS(e),t._key).then(n=>Eq(e,t,n))}let WP=class extends vq{constructor(e){super(),this.firestore=e}convertBytes(e){return new AS(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}};function Yv(t){t=ts(t,kP);const e=ts(t.firestore,ku),n=RS(e),r=new WP(e);return gq(t._query),tq(n,t._query).then(i=>new _q(e,r,t,i))}function qm(t,e,n){t=ts(t,Gr);const r=ts(t.firestore,ku),i=yq(t.converter,e,n);return LS(r,[cq(PP(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,di.none())])}function zP(t,e,n,...r){t=ts(t,Gr);const i=ts(t.firestore,ku),s=PP(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof zv?fq(s,"updateDoc",t._key,e,n,r):hq(s,"updateDoc",t._key,e),LS(i,[o.toMutation(t._key,di.exists(!0))])}function bq(t){return LS(ts(t.firestore,ku),[new gS(t._key,di.none())])}function LS(t,e){return function(n,r){const i=new Ts;return n.asyncQueue.enqueueAndForget(async()=>$9(await J9(n),r,i)),i.promise}(RS(t),e)}function Eq(t,e,n){const r=n.docs.get(e._key),i=new WP(t);return new VP(t,i,e._key,r,new pd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(){return new MS("deleteField")}function Cq(...t){return new uq("arrayUnion",t)}function Dq(...t){return new dq("arrayRemove",t)}(function(t,e=!0){(function(n){Cu=n})(ea),$o(new Os("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ku(new w6(n.getProvider("auth-internal")),new C6(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ue(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mO(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qr(nk,"3.13.0",t),qr(nk,"3.13.0","esm2017")})();const Tq=sM(dV),y0=rz();async function FS(t,e,n,r,i){console.log("File to upload:",t),console.log("File name:",e);const s=jw(y0,`${n}/${r}/${i}/${e}`);console.log("Storage reference:",s);const o=tz(s,t);try{await o;const a=await xM(s);return console.log("File available at",a),a}catch(a){throw console.error("Upload process failed:",a),a}}async function kq(t,e,n){const r=jw(y0,`${t}/${e}/${n}`);try{const i=await nz(r);return await Promise.all(i.items.map(async o=>{const a=jw(y0,`${t}/${e}/${n}/${o.name}`),l=await xM(a);return{name:o.name,downloadURL:l}}))}catch(i){throw console.error("Error getting file data in time folder:",i),i}}const is=sq(),xq=ns(is,"rooms"),Rq=await Yv(xq),YP=Rq.docs.map(t=>({id:t.id,...t.data()}));console.log(YP);const Aq=ns(is,"users"),Iq=await Yv(Aq),Lk=Iq.docs.map(t=>({id:t.id,...t.data()})),Yp=lY(Tq);new xi;async function Mq(t,e,n,r,i,s,o){const a=rs(is,t,e);if(n==null||r===null||r===void 0)await qm(a,{[i]:s},{merge:o});else{const l=ns(a,n),c=rs(l,r);await qm(c,{[i]:s},{merge:o})}}async function Fk(t,e,n,r){let i=ns(is,t),s=!0;if(e&&(s=!1,i=rs(i,e),n&&(s=!0,i=ns(i,n),r&&(s=!1,i=rs(i,r)))),s)return(await Yv(i)).docs.map(a=>({id:a.id,...a.data()}));{let o=await PS(i);return{id:o.id,...o.data()}}}async function Nq(t,e,n,r){let i=ns(is,t),s=!0;e&&(s=!1,i=rs(i,e),n&&(s=!0,i=ns(i,n),r&&(s=!1,i=rs(i,r)))),s?await Sq():await bq(i)}async function Oq(t,e,n){const r=rs(ns(is,t),e);try{const i=await PS(r);i&&i.data()?await zP(r,{meetings:Cq(n)}):await qm(r,{meetings:[n]})}catch(i){console.error("Error updating meetings field:",i)}}async function Pq(t,e,n){const r=rs(ns(is,t),e);try{await zP(r,{meetings:Dq(n)})}catch(i){console.error("Error removing value from meetings field:",i)}}function Lq(t){t.user?(Qz(Yp),t.user=null,t.isLoggedIn=!1,window.location.hash="#/",console.log(Yp)):v3(Yp,new xi).then(e);function e(n){t.user=n.user.uid,t.isLoggedIn=!0,window.location.hash="#/myCalendar";const r=rs(is,"users",t.user);qm(r,{email:n.user.email},{merge:!0})}}function Fq(t){Kz(Yp,e);async function e(n){if(n){t.userState.user=n.uid,t.userState.isLoggedIn=!0;const i="users/"+n.uid+"/favourites",s=ns(is,i),a=(await Yv(s)).docs.map(l=>({id:l.id,...l.data()}));t.mediaFavourites=a,console.log("this is database: ",a),console.log("this is model: ",t.mediaFavourites)}const r=[];if(t.mediaFavourites.length){for(let i=0;i<t.mediaFavourites.length;i++){const s=rs(is,"rooms",t.mediaFavourites[i].id),o=await PS(s);r.push(o.data())}t.favouriteRooms=r,console.log(t.favouriteRooms)}n||(t.userState.user=null,t.userState.isLoggedIn=!1)}}const jq=await YP,Uq={roomListDone:{done:!1},queryBeforeLogin:"",searchParams:{q:""},userState:{user:null,isLoggedIn:!1},searchDone:{done:!1},rooms:jq,officeList2:{},firebaseInsert(t,e,n,r,i,s,o){Mq(t,e,n,r,i,s,o)},firebaseRead(t,e,n,r){return Fk(t,e,n,r)},firebaseDelete(t,e,n,r){Nq(t,e,n,r)},firebaseUpdateMeetingsField(t,e,n){Oq(t,e,n)},firebaseRemoveFromMeetingsField(t,e,n){Pq(t,e,n)},async getMeetingDates(t,e){try{return(await Fk(t,e)).meetings}catch(n){return console.error("Error:",n),null}},firebaseGetFiles(t,e,n){return kq(t,e,n)},logInOrOutWithGoogle(){this.queryBeforeLogin=this.searchParams.q,Lq(this.userState)},currentQuery:"",searchResultsPromiseState:{},mediaFavourites:[],ready:!0,office:[],isNavOpen:{open:!1},isAlertMessage:{message:""},isShowAlert:{alert:!1},officeList:{},imageHolder:{},favHistReady:{ready:!1},favHistOfficeList:{},favHistImageHolder:{},queryBeforeLogin:"",favouriteRooms:[],setSearchQuery(t){this.searchParams.q=t},setSearchOffice(t){this.searchParams.office=t},firstSearch:!0,doSearch(){let t=this.currentQuery!==this.searchParams?.q;this.firstSearch&&(t=!0,this.firstSearch=!1);for(const e in this.officeList)this.officeList.hasOwnProperty(e)&&Array.isArray(this.officeList[e])&&this.officeList[e].length===0&&(t=!0);if(t)if(this.officeList=[],this.searchResultsPromiseState.data={items:[]},this.currentQuery=this.searchParams.q,!this.currentQuery&&!this.searchParams.office)this.searchResultsPromiseState.data={items:this.rooms};else{const e=this.currentQuery?this.currentQuery.toLowerCase():"",n=this.rooms.filter(r=>{const i=r.name&&r.name.toLowerCase().includes(e),s=r.office&&String(r.office).toLowerCase().includes(e),o=i||s;return(!this.currentQuery||o)&&(!this.searchParams.office||s)});this.searchResultsPromiseState.data={items:n}}},sortIntoOffice(t){const e=`Office ${t.office}`;this.officeList[e]||(this.officeList[e]=[]);const n=this.mapOfficeRooms(t);this.officeList[e].push(n)},getInfoOfArray(t){if(console.log("Running getInfoOfArray"),this.favHistReady.ready=!1,this.favHistImageHolder={},this.favHistOfficeList=this.initializeOffices(),this.officeList2={},!Array.isArray(t)||t.length===0){console.log("No favourite rooms to process."),this.favHistReady.ready=!0;return}let e=0;t.forEach(n=>{const r=n.name;console.log(`Starting search for room: ${r}`);const i=this.rooms.find(s=>s.name===r);i?(console.log(`Room found: ${i.name}`),this.sortIntoOffice2(i),this.favHistImageHolder[i.id]="src/images/room-images/room-0.webp",e++):console.log(`No matching room found for name: ${r}`),e===t.length&&(console.log("All rooms processed."),this.favHistReady.ready=!0)})},sortIntoOffice2(t){const e=`Office ${t.office}`;console.log(`Adding to office key: ${e}`),this.officeList2[e]||(console.log(`Initializing list for ${e}`),this.officeList2[e]=[]),this.officeList2[e].push({name:t.name,seats:t.seats,available:t.available,office:t.office}),console.log(`Updated office list for ${e}:`,this.officeList2[e])},modifyFavourites(t,e){`${t.office}`,this.mediaFavourites||(this.mediaFavourites=[]);const n=this.mediaFavourites.findIndex(r=>r.id===t.id);if(e&&n===-1?this.mediaFavourites.push(t.id):!e&&n!==-1&&(this.mediaFavourites.splice(n,1),this.mediaFavourites.length===0&&delete this.mediaFavourites),console.log(this.mediaFavourites),console.log(this.mediaFavourites.length),this.mediaFavourites.length)for(let r=0;r<this.mediaFavourites.length;r++)console.log(this.mediaFavourites[r]),this.firebaseInsert("users",this.userState.user,"favourites",this.mediaFavourites[r],"id",this.mediaFavourites[r])},initializeOffices(){const t=new Set(this.rooms.map(e=>`office${e.office}`));this.officeList=Array.from(t).reduce((e,n)=>(e[n]=[],e),{})},getRooms(){this.searchDone.done=!1,this.searchResultsPromiseState.data.items.forEach(t=>{const e=`Office ${t.office}`;this.officeList[e]||(this.officeList[e]=[]),this.officeList[e].some(n=>n.id===t.id)||this.sortIntoOffice(t)}),this.searchDone.done=!0},mapOfficeRooms(t,e){const n={id:t.id,name:t.name,seats:t.seats,available:t.available,office:t.office};let r=1;return this.imageHolder={},this.rooms.forEach(i=>{this.imageHolder[i.id]=`src/images/room-images/room-${r}.webp`,r++}),n}};var qP={exports:{}},Ir={},GP={exports:{}},KP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,X){var Z=V.length;V.push(X);e:for(;0<Z;){var Ae=Z-1>>>1,Ie=V[Ae];if(0<i(Ie,X))V[Ae]=X,V[Z]=Ie,Z=Ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var X=V[0],Z=V.pop();if(Z!==X){V[0]=Z;e:for(var Ae=0,Ie=V.length,ae=Ie>>>1;Ae<ae;){var J=2*(Ae+1)-1,F=V[J],W=J+1,P=V[W];if(0>i(F,Z))W<Ie&&0>i(P,F)?(V[Ae]=P,V[W]=Z,Ae=W):(V[Ae]=F,V[J]=Z,Ae=J);else if(W<Ie&&0>i(P,Z))V[Ae]=P,V[W]=Z,Ae=W;else break e}}return X}function i(V,X){var Z=V.sortIndex-X.sortIndex;return Z!==0?Z:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=V)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function E(V){if(m=!1,w(V),!p)if(n(l)!==null)p=!0,Pe(T);else{var X=n(c);X!==null&&oe(E,X.startTime-V)}}function T(V,X){p=!1,m&&(m=!1,v(x),x=-1),f=!0;var Z=h;try{for(w(X),d=n(l);d!==null&&(!(d.expirationTime>X)||V&&!ee());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,h=d.priorityLevel;var Ie=Ae(d.expirationTime<=X);X=t.unstable_now(),typeof Ie=="function"?d.callback=Ie:d===n(l)&&r(l),w(X)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var J=n(c);J!==null&&oe(E,J.startTime-X),ae=!1}return ae}finally{d=null,h=Z,f=!1}}var b=!1,k=null,x=-1,L=5,$=-1;function ee(){return!(t.unstable_now()-$<L)}function se(){if(k!==null){var V=t.unstable_now();$=V;var X=!0;try{X=k(!0,V)}finally{X?de():(b=!1,k=null)}}else b=!1}var de;if(typeof y=="function")de=function(){y(se)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,we=De.port2;De.port1.onmessage=se,de=function(){we.postMessage(null)}}else de=function(){_(se,0)};function Pe(V){k=V,b||(b=!0,de())}function oe(V,X){x=_(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Pe(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var Z=h;h=X;try{return V()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=h;h=V;try{return X()}finally{h=Z}},t.unstable_scheduleCallback=function(V,X,Z){var Ae=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ae+Z:Ae):Z=Ae,V){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=Z+Ie,V={id:u++,callback:X,priorityLevel:V,startTime:Z,expirationTime:Ie,sortIndex:-1},Z>Ae?(V.sortIndex=Z,e(c,V),n(l)===null&&V===n(c)&&(m?(v(x),x=-1):m=!0,oe(E,Z-Ae))):(V.sortIndex=Ie,e(l,V),p||f||(p=!0,Pe(T))),V},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(V){var X=h;return function(){var Z=h;h=X;try{return V.apply(this,arguments)}finally{h=Z}}}})(KP);GP.exports=KP;var $q=GP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=C,Rr=$q;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XP=new Set,ph={};function Cl(t,e){Gc(t,e),Gc(t+"Capture",e)}function Gc(t,e){for(ph[t]=e,t=0;t<e.length;t++)XP.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_0=Object.prototype.hasOwnProperty,Bq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jk={},Uk={};function Hq(t){return _0.call(Uk,t)?!0:_0.call(jk,t)?!1:Bq.test(t)?Uk[t]=!0:(jk[t]=!0,!1)}function Vq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wq(t,e,n,r){if(e===null||typeof e>"u"||Vq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jS=/[\-:]([a-z])/g;function US(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jS,US);Rn[e]=new rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jS,US);Rn[e]=new rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jS,US);Rn[e]=new rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $S(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wq(e,n,i,r)&&(n=null),r||i===null?Hq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gs=QP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jf=Symbol.for("react.element"),Jl=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),BS=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),ZP=Symbol.for("react.provider"),JP=Symbol.for("react.context"),HS=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),E0=Symbol.for("react.suspense_list"),VS=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),eL=Symbol.for("react.offscreen"),$k=Symbol.iterator;function Hu(t){return t===null||typeof t!="object"?null:(t=$k&&t[$k]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,d_;function md(t){if(d_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);d_=e&&e[1]||""}return`
`+d_+t}var h_=!1;function f_(t,e){if(!t||h_)return"";h_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{h_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?md(t):""}function zq(t){switch(t.tag){case 5:return md(t.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return t=f_(t.type,!1),t;case 11:return t=f_(t.type.render,!1),t;case 1:return t=f_(t.type,!0),t;default:return""}}function S0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ec:return"Fragment";case Jl:return"Portal";case w0:return"Profiler";case BS:return"StrictMode";case b0:return"Suspense";case E0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JP:return(t.displayName||"Context")+".Consumer";case ZP:return(t._context.displayName||"Context")+".Provider";case HS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case VS:return e=t.displayName||null,e!==null?e:S0(t.type)||"Memo";case oo:e=t._payload,t=t._init;try{return S0(t(e))}catch{}}return null}function Yq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S0(e);case 8:return e===BS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qq(t){var e=tL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ep(t){t._valueTracker||(t._valueTracker=qq(t))}function nL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C0(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rL(t,e){e=e.checked,e!=null&&$S(t,"checked",e,!1)}function D0(t,e){rL(t,e);var n=Wo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T0(t,e.type,n):e.hasOwnProperty("defaultValue")&&T0(t,e.type,Wo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T0(t,e,n){(e!=="number"||Gm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gd=Array.isArray;function Ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(gd(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wo(n)}}function iL(t,e){var n=Wo(e.value),r=Wo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tp,oL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gq=["Webkit","ms","Moz","O"];Object.keys(Ad).forEach(function(t){Gq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ad[e]=Ad[t]})});function aL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ad.hasOwnProperty(t)&&Ad[t]?(""+e).trim():e+"px"}function lL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kq=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R0(t,e){if(e){if(Kq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function A0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I0=null;function WS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var M0=null,Sc=null,Cc=null;function zk(t){if(t=wf(t)){if(typeof M0!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Xv(e),M0(t.stateNode,t.type,e))}}function cL(t){Sc?Cc?Cc.push(t):Cc=[t]:Sc=t}function uL(){if(Sc){var t=Sc,e=Cc;if(Cc=Sc=null,zk(t),e)for(t=0;t<e.length;t++)zk(e[t])}}function dL(t,e){return t(e)}function hL(){}var p_=!1;function fL(t,e,n){if(p_)return t(e,n);p_=!0;try{return dL(t,e,n)}finally{p_=!1,(Sc!==null||Cc!==null)&&(hL(),uL())}}function gh(t,e){var n=t.stateNode;if(n===null)return null;var r=Xv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var N0=!1;if($s)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){N0=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{N0=!1}function Qq(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Id=!1,Km=null,Qm=!1,O0=null,Xq={onError:function(t){Id=!0,Km=t}};function Zq(t,e,n,r,i,s,o,a,l){Id=!1,Km=null,Qq.apply(Xq,arguments)}function Jq(t,e,n,r,i,s,o,a,l){if(Zq.apply(this,arguments),Id){if(Id){var c=Km;Id=!1,Km=null}else throw Error(U(198));Qm||(Qm=!0,O0=c)}}function Dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yk(t){if(Dl(t)!==t)throw Error(U(188))}function eG(t){var e=t.alternate;if(!e){if(e=Dl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Yk(i),t;if(s===r)return Yk(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function mL(t){return t=eG(t),t!==null?gL(t):null}function gL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gL(t);if(e!==null)return e;t=t.sibling}return null}var vL=Rr.unstable_scheduleCallback,qk=Rr.unstable_cancelCallback,tG=Rr.unstable_shouldYield,nG=Rr.unstable_requestPaint,zt=Rr.unstable_now,rG=Rr.unstable_getCurrentPriorityLevel,zS=Rr.unstable_ImmediatePriority,yL=Rr.unstable_UserBlockingPriority,Xm=Rr.unstable_NormalPriority,iG=Rr.unstable_LowPriority,_L=Rr.unstable_IdlePriority,qv=null,qi=null;function sG(t){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(qv,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:lG,oG=Math.log,aG=Math.LN2;function lG(t){return t>>>=0,t===0?32:31-(oG(t)/aG|0)|0}var np=64,rp=4194304;function vd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vd(a):(s&=o,s!==0&&(r=vd(s)))}else o=n&~i,o!==0?r=vd(o):s!==0&&(r=vd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hi(e),i=1<<n,r|=t[n],e&=~i;return r}function cG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cG(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function P0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wL(){var t=np;return np<<=1,!(np&4194240)&&(np=64),t}function m_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=n}function dG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function YS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var at=0;function bL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EL,qS,SL,CL,DL,L0=!1,ip=[],ko=null,xo=null,Ro=null,vh=new Map,yh=new Map,po=[],hG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gk(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":vh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function Wu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wf(e),e!==null&&qS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fG(t,e,n,r,i){switch(e){case"focusin":return ko=Wu(ko,t,e,n,r,i),!0;case"dragenter":return xo=Wu(xo,t,e,n,r,i),!0;case"mouseover":return Ro=Wu(Ro,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vh.set(s,Wu(vh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yh.set(s,Wu(yh.get(s)||null,t,e,n,r,i)),!0}return!1}function TL(t){var e=Da(t.target);if(e!==null){var n=Dl(e);if(n!==null){if(e=n.tag,e===13){if(e=pL(n),e!==null){t.blockedOn=e,DL(t.priority,function(){SL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=F0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);I0=r,n.target.dispatchEvent(r),I0=null}else return e=wf(n),e!==null&&qS(e),t.blockedOn=n,!1;e.shift()}return!0}function Kk(t,e,n){qp(t)&&n.delete(e)}function pG(){L0=!1,ko!==null&&qp(ko)&&(ko=null),xo!==null&&qp(xo)&&(xo=null),Ro!==null&&qp(Ro)&&(Ro=null),vh.forEach(Kk),yh.forEach(Kk)}function zu(t,e){t.blockedOn===e&&(t.blockedOn=null,L0||(L0=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,pG)))}function _h(t){function e(i){return zu(i,t)}if(0<ip.length){zu(ip[0],t);for(var n=1;n<ip.length;n++){var r=ip[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ko!==null&&zu(ko,t),xo!==null&&zu(xo,t),Ro!==null&&zu(Ro,t),vh.forEach(e),yh.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)TL(n),n.blockedOn===null&&po.shift()}var Dc=Gs.ReactCurrentBatchConfig,Jm=!0;function mG(t,e,n,r){var i=at,s=Dc.transition;Dc.transition=null;try{at=1,GS(t,e,n,r)}finally{at=i,Dc.transition=s}}function gG(t,e,n,r){var i=at,s=Dc.transition;Dc.transition=null;try{at=4,GS(t,e,n,r)}finally{at=i,Dc.transition=s}}function GS(t,e,n,r){if(Jm){var i=F0(t,e,n,r);if(i===null)D_(t,e,r,eg,n),Gk(t,r);else if(fG(i,t,e,n,r))r.stopPropagation();else if(Gk(t,r),e&4&&-1<hG.indexOf(t)){for(;i!==null;){var s=wf(i);if(s!==null&&EL(s),s=F0(t,e,n,r),s===null&&D_(t,e,r,eg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else D_(t,e,r,null,n)}}var eg=null;function F0(t,e,n,r){if(eg=null,t=WS(r),t=Da(t),t!==null)if(e=Dl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eg=t,null}function kL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rG()){case zS:return 1;case yL:return 4;case Xm:case iG:return 16;case _L:return 536870912;default:return 16}default:return 16}}var yo=null,KS=null,Gp=null;function xL(){if(Gp)return Gp;var t,e=KS,n=e.length,r,i="value"in yo?yo.value:yo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gp=i.slice(t,1<r?1-r:void 0)}function Kp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sp(){return!0}function Qk(){return!1}function Mr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sp:Qk,this.isPropagationStopped=Qk,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QS=Mr(Ru),_f=Ot({},Ru,{view:0,detail:0}),vG=Mr(_f),g_,v_,Yu,Gv=Ot({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:XS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yu&&(Yu&&t.type==="mousemove"?(g_=t.screenX-Yu.screenX,v_=t.screenY-Yu.screenY):v_=g_=0,Yu=t),g_)},movementY:function(t){return"movementY"in t?t.movementY:v_}}),Xk=Mr(Gv),yG=Ot({},Gv,{dataTransfer:0}),_G=Mr(yG),wG=Ot({},_f,{relatedTarget:0}),y_=Mr(wG),bG=Ot({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),EG=Mr(bG),SG=Ot({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CG=Mr(SG),DG=Ot({},Ru,{data:0}),Zk=Mr(DG),TG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xG[t])?!!e[t]:!1}function XS(){return RG}var AG=Ot({},_f,{key:function(t){if(t.key){var e=TG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:XS,charCode:function(t){return t.type==="keypress"?Kp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IG=Mr(AG),MG=Ot({},Gv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jk=Mr(MG),NG=Ot({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:XS}),OG=Mr(NG),PG=Ot({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),LG=Mr(PG),FG=Ot({},Gv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jG=Mr(FG),UG=[9,13,27,32],ZS=$s&&"CompositionEvent"in window,Md=null;$s&&"documentMode"in document&&(Md=document.documentMode);var $G=$s&&"TextEvent"in window&&!Md,RL=$s&&(!ZS||Md&&8<Md&&11>=Md),ex=String.fromCharCode(32),tx=!1;function AL(t,e){switch(t){case"keyup":return UG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tc=!1;function BG(t,e){switch(t){case"compositionend":return IL(e);case"keypress":return e.which!==32?null:(tx=!0,ex);case"textInput":return t=e.data,t===ex&&tx?null:t;default:return null}}function HG(t,e){if(tc)return t==="compositionend"||!ZS&&AL(t,e)?(t=xL(),Gp=KS=yo=null,tc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RL&&e.locale!=="ko"?null:e.data;default:return null}}var VG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VG[t.type]:e==="textarea"}function ML(t,e,n,r){cL(r),e=tg(e,"onChange"),0<e.length&&(n=new QS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nd=null,wh=null;function WG(t){VL(t,0)}function Kv(t){var e=ic(t);if(nL(e))return t}function zG(t,e){if(t==="change")return e}var NL=!1;if($s){var __;if($s){var w_="oninput"in document;if(!w_){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),w_=typeof rx.oninput=="function"}__=w_}else __=!1;NL=__&&(!document.documentMode||9<document.documentMode)}function ix(){Nd&&(Nd.detachEvent("onpropertychange",OL),wh=Nd=null)}function OL(t){if(t.propertyName==="value"&&Kv(wh)){var e=[];ML(e,wh,t,WS(t)),fL(WG,e)}}function YG(t,e,n){t==="focusin"?(ix(),Nd=e,wh=n,Nd.attachEvent("onpropertychange",OL)):t==="focusout"&&ix()}function qG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kv(wh)}function GG(t,e){if(t==="click")return Kv(e)}function KG(t,e){if(t==="input"||t==="change")return Kv(e)}function QG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:QG;function bh(t,e){if(vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_0.call(e,i)||!vi(t[i],e[i]))return!1}return!0}function sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ox(t,e){var n=sx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sx(n)}}function PL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LL(){for(var t=window,e=Gm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gm(t.document)}return e}function JS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XG(t){var e=LL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PL(n.ownerDocument.documentElement,n)){if(r!==null&&JS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ox(n,s);var o=ox(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZG=$s&&"documentMode"in document&&11>=document.documentMode,nc=null,j0=null,Od=null,U0=!1;function ax(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U0||nc==null||nc!==Gm(r)||(r=nc,"selectionStart"in r&&JS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Od&&bh(Od,r)||(Od=r,r=tg(j0,"onSelect"),0<r.length&&(e=new QS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nc)))}function op(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rc={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},b_={},FL={};$s&&(FL=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function Qv(t){if(b_[t])return b_[t];if(!rc[t])return t;var e=rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FL)return b_[t]=e[n];return t}var jL=Qv("animationend"),UL=Qv("animationiteration"),$L=Qv("animationstart"),BL=Qv("transitionend"),HL=new Map,lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){HL.set(t,e),Cl(e,[t])}for(var E_=0;E_<lx.length;E_++){var S_=lx[E_],JG=S_.toLowerCase(),eK=S_[0].toUpperCase()+S_.slice(1);ia(JG,"on"+eK)}ia(jL,"onAnimationEnd");ia(UL,"onAnimationIteration");ia($L,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(BL,"onTransitionEnd");Gc("onMouseEnter",["mouseout","mouseover"]);Gc("onMouseLeave",["mouseout","mouseover"]);Gc("onPointerEnter",["pointerout","pointerover"]);Gc("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tK=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function cx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jq(r,e,void 0,t),t.currentTarget=null}function VL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cx(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cx(i,a,c),s=l}}}if(Qm)throw t=O0,Qm=!1,O0=null,t}function gt(t,e){var n=e[W0];n===void 0&&(n=e[W0]=new Set);var r=t+"__bubble";n.has(r)||(WL(e,t,2,!1),n.add(r))}function C_(t,e,n){var r=0;e&&(r|=4),WL(n,t,r,e)}var ap="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[ap]){t[ap]=!0,XP.forEach(function(n){n!=="selectionchange"&&(tK.has(n)||C_(n,!1,t),C_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ap]||(e[ap]=!0,C_("selectionchange",!1,e))}}function WL(t,e,n,r){switch(kL(e)){case 1:var i=mG;break;case 4:i=gG;break;default:i=GS}n=i.bind(null,e,n,t),i=void 0,!N0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function D_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Da(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fL(function(){var c=s,u=WS(n),d=[];e:{var h=HL.get(t);if(h!==void 0){var f=QS,p=t;switch(t){case"keypress":if(Kp(n)===0)break e;case"keydown":case"keyup":f=IG;break;case"focusin":p="focus",f=y_;break;case"focusout":p="blur",f=y_;break;case"beforeblur":case"afterblur":f=y_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Xk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_G;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=OG;break;case jL:case UL:case $L:f=EG;break;case BL:f=LG;break;case"scroll":f=vG;break;case"wheel":f=jG;break;case"copy":case"cut":case"paste":f=CG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Jk}var m=(e&4)!==0,_=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,v!==null&&(E=gh(y,v),E!=null&&m.push(Sh(y,E,w)))),_)break;y=y.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==I0&&(p=n.relatedTarget||n.fromElement)&&(Da(p)||p[Bs]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Da(p):null,p!==null&&(_=Dl(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=Xk,E="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Jk,E="onPointerLeave",v="onPointerEnter",y="pointer"),_=f==null?h:ic(f),w=p==null?h:ic(p),h=new m(E,y+"leave",f,n,u),h.target=_,h.relatedTarget=w,E=null,Da(u)===c&&(m=new m(v,y+"enter",p,n,u),m.target=w,m.relatedTarget=_,E=m),_=E,f&&p)t:{for(m=f,v=p,y=0,w=m;w;w=Hl(w))y++;for(w=0,E=v;E;E=Hl(E))w++;for(;0<y-w;)m=Hl(m),y--;for(;0<w-y;)v=Hl(v),w--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Hl(m),v=Hl(v)}m=null}else m=null;f!==null&&ux(d,h,f,m,!1),p!==null&&_!==null&&ux(d,_,p,m,!0)}}e:{if(h=c?ic(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=zG;else if(nx(h))if(NL)T=KG;else{T=qG;var b=YG}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=GG);if(T&&(T=T(t,c))){ML(d,T,n,u);break e}b&&b(t,h,c),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&T0(h,"number",h.value)}switch(b=c?ic(c):window,t){case"focusin":(nx(b)||b.contentEditable==="true")&&(nc=b,j0=c,Od=null);break;case"focusout":Od=j0=nc=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,ax(d,n,u);break;case"selectionchange":if(ZG)break;case"keydown":case"keyup":ax(d,n,u)}var k;if(ZS)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else tc?AL(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(RL&&n.locale!=="ko"&&(tc||x!=="onCompositionStart"?x==="onCompositionEnd"&&tc&&(k=xL()):(yo=u,KS="value"in yo?yo.value:yo.textContent,tc=!0)),b=tg(c,x),0<b.length&&(x=new Zk(x,t,null,n,u),d.push({event:x,listeners:b}),k?x.data=k:(k=IL(n),k!==null&&(x.data=k)))),(k=$G?BG(t,n):HG(t,n))&&(c=tg(c,"onBeforeInput"),0<c.length&&(u=new Zk("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}VL(d,e)})}function Sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gh(t,n),s!=null&&r.unshift(Sh(t,s,i)),s=gh(t,e),s!=null&&r.push(Sh(t,s,i))),t=t.return}return r}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ux(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gh(n,s),l!=null&&o.unshift(Sh(n,l,a))):i||(l=gh(n,s),l!=null&&o.push(Sh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nK=/\r\n?/g,rK=/\u0000|\uFFFD/g;function dx(t){return(typeof t=="string"?t:""+t).replace(nK,`
`).replace(rK,"")}function lp(t,e,n){if(e=dx(e),dx(t)!==e&&n)throw Error(U(425))}function ng(){}var $0=null,B0=null;function H0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V0=typeof setTimeout=="function"?setTimeout:void 0,iK=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,sK=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(t){return hx.resolve(null).then(t).catch(oK)}:V0;function oK(t){setTimeout(function(){throw t})}function T_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_h(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_h(e)}function Ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Ai="__reactFiber$"+Au,Ch="__reactProps$"+Au,Bs="__reactContainer$"+Au,W0="__reactEvents$"+Au,aK="__reactListeners$"+Au,lK="__reactHandles$"+Au;function Da(t){var e=t[Ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bs]||n[Ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fx(t);t!==null;){if(n=t[Ai])return n;t=fx(t)}return e}t=n,n=t.parentNode}return null}function wf(t){return t=t[Ai]||t[Bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ic(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Xv(t){return t[Ch]||null}var z0=[],sc=-1;function sa(t){return{current:t}}function bt(t){0>sc||(t.current=z0[sc],z0[sc]=null,sc--)}function ft(t,e){sc++,z0[sc]=t.current,t.current=e}var zo={},zn=sa(zo),hr=sa(!1),tl=zo;function Kc(t,e){var n=t.type.contextTypes;if(!n)return zo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fr(t){return t=t.childContextTypes,t!=null}function rg(){bt(hr),bt(zn)}function px(t,e,n){if(zn.current!==zo)throw Error(U(168));ft(zn,e),ft(hr,n)}function zL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,Yq(t)||"Unknown",i));return Ot({},n,r)}function ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zo,tl=zn.current,ft(zn,t),ft(hr,hr.current),!0}function mx(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=zL(t,e,tl),r.__reactInternalMemoizedMergedChildContext=t,bt(hr),bt(zn),ft(zn,t)):bt(hr),ft(hr,n)}var ps=null,Zv=!1,k_=!1;function YL(t){ps===null?ps=[t]:ps.push(t)}function cK(t){Zv=!0,YL(t)}function oa(){if(!k_&&ps!==null){k_=!0;var t=0,e=at;try{var n=ps;for(at=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ps=null,Zv=!1}catch(i){throw ps!==null&&(ps=ps.slice(t+1)),vL(zS,oa),i}finally{at=e,k_=!1}}return null}var oc=[],ac=0,sg=null,og=0,jr=[],Ur=0,nl=null,ws=1,bs="";function fa(t,e){oc[ac++]=og,oc[ac++]=sg,sg=t,og=e}function qL(t,e,n){jr[Ur++]=ws,jr[Ur++]=bs,jr[Ur++]=nl,nl=t;var r=ws;t=bs;var i=32-hi(r)-1;r&=~(1<<i),n+=1;var s=32-hi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ws=1<<32-hi(e)+i|n<<i|r,bs=s+t}else ws=1<<s|n<<i|r,bs=t}function eC(t){t.return!==null&&(fa(t,1),qL(t,1,0))}function tC(t){for(;t===sg;)sg=oc[--ac],oc[ac]=null,og=oc[--ac],oc[ac]=null;for(;t===nl;)nl=jr[--Ur],jr[Ur]=null,bs=jr[--Ur],jr[Ur]=null,ws=jr[--Ur],jr[Ur]=null}var Er=null,wr=null,xt=!1,ii=null;function GL(t,e){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,wr=Ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nl!==null?{id:ws,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Er=t,wr=null,!0):!1;default:return!1}}function Y0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function q0(t){if(xt){var e=wr;if(e){var n=e;if(!gx(t,e)){if(Y0(t))throw Error(U(418));e=Ao(n.nextSibling);var r=Er;e&&gx(t,e)?GL(r,n):(t.flags=t.flags&-4097|2,xt=!1,Er=t)}}else{if(Y0(t))throw Error(U(418));t.flags=t.flags&-4097|2,xt=!1,Er=t}}}function vx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function cp(t){if(t!==Er)return!1;if(!xt)return vx(t),xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H0(t.type,t.memoizedProps)),e&&(e=wr)){if(Y0(t))throw KL(),Error(U(418));for(;e;)GL(t,e),e=Ao(e.nextSibling)}if(vx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=Er?Ao(t.stateNode.nextSibling):null;return!0}function KL(){for(var t=wr;t;)t=Ao(t.nextSibling)}function Qc(){wr=Er=null,xt=!1}function nC(t){ii===null?ii=[t]:ii.push(t)}var uK=Gs.ReactCurrentBatchConfig;function ti(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ag=sa(null),lg=null,lc=null,rC=null;function iC(){rC=lc=lg=null}function sC(t){var e=ag.current;bt(ag),t._currentValue=e}function G0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tc(t,e){lg=t,rC=lc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(rC!==t)if(t={context:t,memoizedValue:e,next:null},lc===null){if(lg===null)throw Error(U(308));lc=t,lg.dependencies={lanes:0,firstContext:t}}else lc=lc.next=t;return e}var Ta=null;function oC(t){Ta===null?Ta=[t]:Ta.push(t)}function QL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,oC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hs(t,r)}function Hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ao=!1;function aC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hs(t,n)}return i=r.interleaved,i===null?(e.next=e,oC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hs(t,n)}function Qp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YS(t,n)}}function yx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cg(t,e,n,r){var i=t.updateQueue;ao=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ot({},d,h);break e;case 2:ao=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=d}}function _x(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var ZL=new QP.Component().refs;function K0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jv={isMounted:function(t){return(t=t._reactInternals)?Dl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=er(),i=No(t),s=ks(r,i);s.payload=e,n!=null&&(s.callback=n),e=Io(t,s,i),e!==null&&(fi(e,t,i,r),Qp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=er(),i=No(t),s=ks(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Io(t,s,i),e!==null&&(fi(e,t,i,r),Qp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=er(),r=No(t),i=ks(n,r);i.tag=2,e!=null&&(i.callback=e),e=Io(t,i,r),e!==null&&(fi(e,t,r,n),Qp(e,t,r))}};function wx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bh(n,r)||!bh(i,s):!0}function JL(t,e,n){var r=!1,i=zo,s=e.contextType;return typeof s=="object"&&s!==null?s=Qr(s):(i=fr(e)?tl:zn.current,r=e.contextTypes,s=(r=r!=null)?Kc(t,i):zo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jv.enqueueReplaceState(e,e.state,null)}function Q0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ZL,aC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qr(s):(s=fr(e)?tl:zn.current,i.context=Kc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(K0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jv.enqueueReplaceState(i,i.state,null),cg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ZL&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function up(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ex(t){var e=t._init;return e(t._payload)}function e2(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Oo(v,y),v.index=0,v.sibling=null,v}function s(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,E){return y===null||y.tag!==6?(y=O_(w,v.mode,E),y.return=v,y):(y=i(y,w),y.return=v,y)}function l(v,y,w,E){var T=w.type;return T===ec?u(v,y,w.props.children,E,w.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oo&&Ex(T)===y.type)?(E=i(y,w.props),E.ref=qu(v,y,w),E.return=v,E):(E=nm(w.type,w.key,w.props,null,v.mode,E),E.ref=qu(v,y,w),E.return=v,E)}function c(v,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=P_(w,v.mode,E),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function u(v,y,w,E,T){return y===null||y.tag!==7?(y=Fa(w,v.mode,E,T),y.return=v,y):(y=i(y,w),y.return=v,y)}function d(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=O_(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jf:return w=nm(y.type,y.key,y.props,null,v.mode,w),w.ref=qu(v,null,y),w.return=v,w;case Jl:return y=P_(y,v.mode,w),y.return=v,y;case oo:var E=y._init;return d(v,E(y._payload),w)}if(gd(y)||Hu(y))return y=Fa(y,v.mode,w,null),y.return=v,y;up(v,y)}return null}function h(v,y,w,E){var T=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(v,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jf:return w.key===T?l(v,y,w,E):null;case Jl:return w.key===T?c(v,y,w,E):null;case oo:return T=w._init,h(v,y,T(w._payload),E)}if(gd(w)||Hu(w))return T!==null?null:u(v,y,w,E,null);up(v,w)}return null}function f(v,y,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(w)||null,a(y,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jf:return v=v.get(E.key===null?w:E.key)||null,l(y,v,E,T);case Jl:return v=v.get(E.key===null?w:E.key)||null,c(y,v,E,T);case oo:var b=E._init;return f(v,y,w,b(E._payload),T)}if(gd(E)||Hu(E))return v=v.get(w)||null,u(y,v,E,T,null);up(y,E)}return null}function p(v,y,w,E){for(var T=null,b=null,k=y,x=y=0,L=null;k!==null&&x<w.length;x++){k.index>x?(L=k,k=null):L=k.sibling;var $=h(v,k,w[x],E);if($===null){k===null&&(k=L);break}t&&k&&$.alternate===null&&e(v,k),y=s($,y,x),b===null?T=$:b.sibling=$,b=$,k=L}if(x===w.length)return n(v,k),xt&&fa(v,x),T;if(k===null){for(;x<w.length;x++)k=d(v,w[x],E),k!==null&&(y=s(k,y,x),b===null?T=k:b.sibling=k,b=k);return xt&&fa(v,x),T}for(k=r(v,k);x<w.length;x++)L=f(k,v,x,w[x],E),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?x:L.key),y=s(L,y,x),b===null?T=L:b.sibling=L,b=L);return t&&k.forEach(function(ee){return e(v,ee)}),xt&&fa(v,x),T}function m(v,y,w,E){var T=Hu(w);if(typeof T!="function")throw Error(U(150));if(w=T.call(w),w==null)throw Error(U(151));for(var b=T=null,k=y,x=y=0,L=null,$=w.next();k!==null&&!$.done;x++,$=w.next()){k.index>x?(L=k,k=null):L=k.sibling;var ee=h(v,k,$.value,E);if(ee===null){k===null&&(k=L);break}t&&k&&ee.alternate===null&&e(v,k),y=s(ee,y,x),b===null?T=ee:b.sibling=ee,b=ee,k=L}if($.done)return n(v,k),xt&&fa(v,x),T;if(k===null){for(;!$.done;x++,$=w.next())$=d(v,$.value,E),$!==null&&(y=s($,y,x),b===null?T=$:b.sibling=$,b=$);return xt&&fa(v,x),T}for(k=r(v,k);!$.done;x++,$=w.next())$=f(k,v,x,$.value,E),$!==null&&(t&&$.alternate!==null&&k.delete($.key===null?x:$.key),y=s($,y,x),b===null?T=$:b.sibling=$,b=$);return t&&k.forEach(function(se){return e(v,se)}),xt&&fa(v,x),T}function _(v,y,w,E){if(typeof w=="object"&&w!==null&&w.type===ec&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jf:e:{for(var T=w.key,b=y;b!==null;){if(b.key===T){if(T=w.type,T===ec){if(b.tag===7){n(v,b.sibling),y=i(b,w.props.children),y.return=v,v=y;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oo&&Ex(T)===b.type){n(v,b.sibling),y=i(b,w.props),y.ref=qu(v,b,w),y.return=v,v=y;break e}n(v,b);break}else e(v,b);b=b.sibling}w.type===ec?(y=Fa(w.props.children,v.mode,E,w.key),y.return=v,v=y):(E=nm(w.type,w.key,w.props,null,v.mode,E),E.ref=qu(v,y,w),E.return=v,v=E)}return o(v);case Jl:e:{for(b=w.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=P_(w,v.mode,E),y.return=v,v=y}return o(v);case oo:return b=w._init,_(v,y,b(w._payload),E)}if(gd(w))return p(v,y,w,E);if(Hu(w))return m(v,y,w,E);up(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,w),y.return=v,v=y):(n(v,y),y=O_(w,v.mode,E),y.return=v,v=y),o(v)):n(v,y)}return _}var Xc=e2(!0),t2=e2(!1),bf={},Gi=sa(bf),Dh=sa(bf),Th=sa(bf);function ka(t){if(t===bf)throw Error(U(174));return t}function lC(t,e){switch(ft(Th,e),ft(Dh,t),ft(Gi,bf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:x0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=x0(e,t)}bt(Gi),ft(Gi,e)}function Zc(){bt(Gi),bt(Dh),bt(Th)}function n2(t){ka(Th.current);var e=ka(Gi.current),n=x0(e,t.type);e!==n&&(ft(Dh,t),ft(Gi,n))}function cC(t){Dh.current===t&&(bt(Gi),bt(Dh))}var It=sa(0);function ug(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var x_=[];function uC(){for(var t=0;t<x_.length;t++)x_[t]._workInProgressVersionPrimary=null;x_.length=0}var Xp=Gs.ReactCurrentDispatcher,R_=Gs.ReactCurrentBatchConfig,rl=0,Nt=null,nn=null,un=null,dg=!1,Pd=!1,kh=0,dK=0;function Mn(){throw Error(U(321))}function dC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vi(t[n],e[n]))return!1;return!0}function hC(t,e,n,r,i,s){if(rl=s,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xp.current=t===null||t.memoizedState===null?mK:gK,t=n(r,i),Pd){s=0;do{if(Pd=!1,kh=0,25<=s)throw Error(U(301));s+=1,un=nn=null,e.updateQueue=null,Xp.current=vK,t=n(r,i)}while(Pd)}if(Xp.current=hg,e=nn!==null&&nn.next!==null,rl=0,un=nn=Nt=null,dg=!1,e)throw Error(U(300));return t}function fC(){var t=kh!==0;return kh=0,t}function Ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Nt.memoizedState=un=t:un=un.next=t,un}function Xr(){if(nn===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=un===null?Nt.memoizedState:un.next;if(e!==null)un=e,nn=t;else{if(t===null)throw Error(U(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},un===null?Nt.memoizedState=un=t:un=un.next=t}return un}function xh(t,e){return typeof e=="function"?e(t):e}function A_(t){var e=Xr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=nn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((rl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Nt.lanes|=u,il|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vi(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Nt.lanes|=s,il|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function I_(t){var e=Xr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vi(s,e.memoizedState)||(lr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function r2(){}function i2(t,e){var n=Nt,r=Xr(),i=e(),s=!vi(r.memoizedState,i);if(s&&(r.memoizedState=i,lr=!0),r=r.queue,pC(a2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,Rh(9,o2.bind(null,n,r,i,e),void 0,null),pn===null)throw Error(U(349));rl&30||s2(n,e,i)}return i}function s2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o2(t,e,n,r){e.value=n,e.getSnapshot=r,l2(e)&&c2(t)}function a2(t,e,n){return n(function(){l2(e)&&c2(t)})}function l2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vi(t,n)}catch{return!0}}function c2(t){var e=Hs(t,1);e!==null&&fi(e,t,1,-1)}function Sx(t){var e=Ci();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:t},e.queue=t,t=t.dispatch=pK.bind(null,Nt,t),[e.memoizedState,t]}function Rh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function u2(){return Xr().memoizedState}function Zp(t,e,n,r){var i=Ci();Nt.flags|=t,i.memoizedState=Rh(1|e,n,void 0,r===void 0?null:r)}function ey(t,e,n,r){var i=Xr();r=r===void 0?null:r;var s=void 0;if(nn!==null){var o=nn.memoizedState;if(s=o.destroy,r!==null&&dC(r,o.deps)){i.memoizedState=Rh(e,n,s,r);return}}Nt.flags|=t,i.memoizedState=Rh(1|e,n,s,r)}function Cx(t,e){return Zp(8390656,8,t,e)}function pC(t,e){return ey(2048,8,t,e)}function d2(t,e){return ey(4,2,t,e)}function h2(t,e){return ey(4,4,t,e)}function f2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p2(t,e,n){return n=n!=null?n.concat([t]):null,ey(4,4,f2.bind(null,e,t),n)}function mC(){}function m2(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g2(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v2(t,e,n){return rl&21?(vi(n,e)||(n=wL(),Nt.lanes|=n,il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function hK(t,e){var n=at;at=n!==0&&4>n?n:4,t(!0);var r=R_.transition;R_.transition={};try{t(!1),e()}finally{at=n,R_.transition=r}}function y2(){return Xr().memoizedState}function fK(t,e,n){var r=No(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_2(t))w2(e,n);else if(n=QL(t,e,n,r),n!==null){var i=er();fi(n,t,r,i),b2(n,e,r)}}function pK(t,e,n){var r=No(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_2(t))w2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vi(a,o)){var l=e.interleaved;l===null?(i.next=i,oC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=QL(t,e,i,r),n!==null&&(i=er(),fi(n,t,r,i),b2(n,e,r))}}function _2(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function w2(t,e){Pd=dg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YS(t,n)}}var hg={readContext:Qr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},mK={readContext:Qr,useCallback:function(t,e){return Ci().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:Cx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zp(4194308,4,f2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zp(4,2,t,e)},useMemo:function(t,e){var n=Ci();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ci();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fK.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=Ci();return t={current:t},e.memoizedState=t},useState:Sx,useDebugValue:mC,useDeferredValue:function(t){return Ci().memoizedState=t},useTransition:function(){var t=Sx(!1),e=t[0];return t=hK.bind(null,t[1]),Ci().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nt,i=Ci();if(xt){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),pn===null)throw Error(U(349));rl&30||s2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Cx(a2.bind(null,r,s,t),[t]),r.flags|=2048,Rh(9,o2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ci(),e=pn.identifierPrefix;if(xt){var n=bs,r=ws;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gK={readContext:Qr,useCallback:m2,useContext:Qr,useEffect:pC,useImperativeHandle:p2,useInsertionEffect:d2,useLayoutEffect:h2,useMemo:g2,useReducer:A_,useRef:u2,useState:function(){return A_(xh)},useDebugValue:mC,useDeferredValue:function(t){var e=Xr();return v2(e,nn.memoizedState,t)},useTransition:function(){var t=A_(xh)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:r2,useSyncExternalStore:i2,useId:y2,unstable_isNewReconciler:!1},vK={readContext:Qr,useCallback:m2,useContext:Qr,useEffect:pC,useImperativeHandle:p2,useInsertionEffect:d2,useLayoutEffect:h2,useMemo:g2,useReducer:I_,useRef:u2,useState:function(){return I_(xh)},useDebugValue:mC,useDeferredValue:function(t){var e=Xr();return nn===null?e.memoizedState=t:v2(e,nn.memoizedState,t)},useTransition:function(){var t=I_(xh)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:r2,useSyncExternalStore:i2,useId:y2,unstable_isNewReconciler:!1};function Jc(t,e){try{var n="",r=e;do n+=zq(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function M_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function X0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yK=typeof WeakMap=="function"?WeakMap:Map;function E2(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pg||(pg=!0,ab=r),X0(t,e)},n}function S2(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){X0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){X0(t,e),typeof r!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MK.bind(null,t,e,n),e.then(t,t))}function Tx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,Io(n,e,1))),n.lanes|=1),t)}var _K=Gs.ReactCurrentOwner,lr=!1;function Kn(t,e,n,r){e.child=t===null?t2(e,null,n,r):Xc(e,t.child,n,r)}function xx(t,e,n,r,i){n=n.render;var s=e.ref;return Tc(e,i),r=hC(t,e,n,r,s,i),n=fC(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(xt&&n&&eC(e),e.flags|=1,Kn(t,e,r,i),e.child)}function Rx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!SC(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,C2(t,e,s,r,i)):(t=nm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bh,n(o,r)&&t.ref===e.ref)return Vs(t,e,i)}return e.flags|=1,t=Oo(s,r),t.ref=e.ref,t.return=e,e.child=t}function C2(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bh(s,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,Vs(t,e,i)}return Z0(t,e,n,r,i)}function D2(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(uc,yr),yr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(uc,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ft(uc,yr),yr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ft(uc,yr),yr|=r;return Kn(t,e,i,n),e.child}function T2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Z0(t,e,n,r,i){var s=fr(n)?tl:zn.current;return s=Kc(e,s),Tc(e,i),n=hC(t,e,n,r,s,i),r=fC(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(xt&&r&&eC(e),e.flags|=1,Kn(t,e,n,i),e.child)}function Ax(t,e,n,r,i){if(fr(n)){var s=!0;ig(e)}else s=!1;if(Tc(e,i),e.stateNode===null)Jp(t,e),JL(e,n,r),Q0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qr(c):(c=fr(n)?tl:zn.current,c=Kc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&bx(e,o,r,c),ao=!1;var h=e.memoizedState;o.state=h,cg(e,r,o,i),l=e.memoizedState,a!==r||h!==l||hr.current||ao?(typeof u=="function"&&(K0(e,n,u,r),l=e.memoizedState),(a=ao||wx(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XL(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ti(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qr(l):(l=fr(n)?tl:zn.current,l=Kc(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&bx(e,o,r,l),ao=!1,h=e.memoizedState,o.state=h,cg(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||hr.current||ao?(typeof f=="function"&&(K0(e,n,f,r),p=e.memoizedState),(c=ao||wx(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return J0(t,e,n,r,s,i)}function J0(t,e,n,r,i,s){T2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mx(e,n,!1),Vs(t,e,s);r=e.stateNode,_K.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,s),e.child=Xc(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&mx(e,n,!0),e.child}function k2(t){var e=t.stateNode;e.pendingContext?px(t,e.pendingContext,e.pendingContext!==e.context):e.context&&px(t,e.context,!1),lC(t,e.containerInfo)}function Ix(t,e,n,r,i){return Qc(),nC(i),e.flags|=256,Kn(t,e,n,r),e.child}var eb={dehydrated:null,treeContext:null,retryLane:0};function tb(t){return{baseLanes:t,cachePool:null,transitions:null}}function x2(t,e,n){var r=e.pendingProps,i=It.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(It,i&1),t===null)return q0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ry(o,r,0,null),t=Fa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tb(n),e.memoizedState=eb,t):gC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wK(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Oo(a,s):(s=Fa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eb,r}return s=t.child,t=s.sibling,r=Oo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gC(t,e){return e=ry({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dp(t,e,n,r){return r!==null&&nC(r),Xc(e,t.child,null,n),t=gC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wK(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=M_(Error(U(422))),dp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ry({mode:"visible",children:r.children},i,0,null),s=Fa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xc(e,t.child,null,o),e.child.memoizedState=tb(o),e.memoizedState=eb,s);if(!(e.mode&1))return dp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=M_(s,r,void 0),dp(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=pn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hs(t,i),fi(r,t,i,-1))}return EC(),r=M_(Error(U(421))),dp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wr=Ao(i.nextSibling),Er=e,xt=!0,ii=null,t!==null&&(jr[Ur++]=ws,jr[Ur++]=bs,jr[Ur++]=nl,ws=t.id,bs=t.overflow,nl=e),e=gC(e,r.children),e.flags|=4096,e)}function Mx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),G0(t.return,e,n)}function N_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function R2(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=It.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mx(t,n,e);else if(t.tag===19)Mx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(It,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ug(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),N_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ug(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}N_(e,!0,n,null,s);break;case"together":N_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bK(t,e,n){switch(e.tag){case 3:k2(e),Qc();break;case 5:n2(e);break;case 1:fr(e.type)&&ig(e);break;case 4:lC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ft(ag,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ft(It,It.current&1),e.flags|=128,null):n&e.child.childLanes?x2(t,e,n):(ft(It,It.current&1),t=Vs(t,e,n),t!==null?t.sibling:null);ft(It,It.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return R2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(It,It.current),r)break;return null;case 22:case 23:return e.lanes=0,D2(t,e,n)}return Vs(t,e,n)}var A2,nb,I2,M2;A2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nb=function(){};I2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ka(Gi.current);var s=null;switch(n){case"input":i=C0(t,i),r=C0(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=k0(t,i),r=k0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ng)}R0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ph.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ph.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};M2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gu(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EK(t,e,n){var r=e.pendingProps;switch(tC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return fr(e.type)&&rg(),Nn(e),null;case 3:return r=e.stateNode,Zc(),bt(hr),bt(zn),uC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(ub(ii),ii=null))),nb(t,e),Nn(e),null;case 5:cC(e);var i=ka(Th.current);if(n=e.type,t!==null&&e.stateNode!=null)I2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Nn(e),null}if(t=ka(Gi.current),cp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ai]=e,r[Ch]=s,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<yd.length;i++)gt(yd[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":Bk(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":Vk(r,s),gt("invalid",r)}R0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lp(r.textContent,a,t),i=["children",""+a]):ph.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gt("scroll",r)}switch(n){case"input":ep(r),Hk(r,s,!0);break;case"textarea":ep(r),Wk(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ng)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ai]=e,t[Ch]=r,A2(t,e,!1,!1),e.stateNode=t;e:{switch(o=A0(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<yd.length;i++)gt(yd[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":Bk(t,r),i=C0(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),gt("invalid",t);break;case"textarea":Vk(t,r),i=k0(t,r),gt("invalid",t);break;default:i=r}R0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mh(t,l):typeof l=="number"&&mh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ph.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",t):l!=null&&$S(t,s,l,o))}switch(n){case"input":ep(t),Hk(t,r,!1);break;case"textarea":ep(t),Wk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ec(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ng)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)M2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ka(Th.current),ka(Gi.current),cp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ai]=e,(s=r.nodeValue!==n)&&(t=Er,t!==null))switch(t.tag){case 3:lp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lp(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ai]=e,e.stateNode=r}return Nn(e),null;case 13:if(bt(It),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&wr!==null&&e.mode&1&&!(e.flags&128))KL(),Qc(),e.flags|=98560,s=!1;else if(s=cp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Ai]=e}else Qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else ii!==null&&(ub(ii),ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||It.current&1?sn===0&&(sn=3):EC())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Zc(),nb(t,e),t===null&&Eh(e.stateNode.containerInfo),Nn(e),null;case 10:return sC(e.type._context),Nn(e),null;case 17:return fr(e.type)&&rg(),Nn(e),null;case 19:if(bt(It),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Gu(s,!1);else{if(sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ug(t),o!==null){for(e.flags|=128,Gu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(It,It.current&1|2),e.child}t=t.sibling}s.tail!==null&&zt()>eu&&(e.flags|=128,r=!0,Gu(s,!1),e.lanes=4194304)}else{if(!r)if(t=ug(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xt)return Nn(e),null}else 2*zt()-s.renderingStartTime>eu&&n!==1073741824&&(e.flags|=128,r=!0,Gu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zt(),e.sibling=null,n=It.current,ft(It,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return bC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function SK(t,e){switch(tC(e),e.tag){case 1:return fr(e.type)&&rg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),bt(hr),bt(zn),uC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cC(e),null;case 13:if(bt(It),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(It),null;case 4:return Zc(),null;case 10:return sC(e.type._context),null;case 22:case 23:return bC(),null;case 24:return null;default:return null}}var hp=!1,Ln=!1,CK=typeof WeakSet=="function"?WeakSet:Set,re=null;function cc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function rb(t,e,n){try{n()}catch(r){jt(t,e,r)}}var Nx=!1;function DK(t,e){if($0=Jm,t=LL(),JS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(B0={focusedElem:t,selectionRange:n},Jm=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,_=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ti(e.type,m),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){jt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return p=Nx,Nx=!1,p}function Ld(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rb(e,n,s)}i=i.next}while(i!==r)}}function ty(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ib(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N2(t){var e=t.alternate;e!==null&&(t.alternate=null,N2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ai],delete e[Ch],delete e[W0],delete e[aK],delete e[lK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O2(t){return t.tag===5||t.tag===3||t.tag===4}function Ox(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ng));else if(r!==4&&(t=t.child,t!==null))for(sb(t,e,n),t=t.sibling;t!==null;)sb(t,e,n),t=t.sibling}function ob(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ob(t,e,n),t=t.sibling;t!==null;)ob(t,e,n),t=t.sibling}var Sn=null,ni=!1;function ro(t,e,n){for(n=n.child;n!==null;)P2(t,e,n),n=n.sibling}function P2(t,e,n){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(qv,n)}catch{}switch(n.tag){case 5:Ln||cc(n,e);case 6:var r=Sn,i=ni;Sn=null,ro(t,e,n),Sn=r,ni=i,Sn!==null&&(ni?(t=Sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(ni?(t=Sn,n=n.stateNode,t.nodeType===8?T_(t.parentNode,n):t.nodeType===1&&T_(t,n),_h(t)):T_(Sn,n.stateNode));break;case 4:r=Sn,i=ni,Sn=n.stateNode.containerInfo,ni=!0,ro(t,e,n),Sn=r,ni=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rb(n,e,o),i=i.next}while(i!==r)}ro(t,e,n);break;case 1:if(!Ln&&(cc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jt(n,e,a)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,ro(t,e,n),Ln=r):ro(t,e,n);break;default:ro(t,e,n)}}function Px(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CK),e.forEach(function(r){var i=OK.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ei(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Sn=a.stateNode,ni=!1;break e;case 3:Sn=a.stateNode.containerInfo,ni=!0;break e;case 4:Sn=a.stateNode.containerInfo,ni=!0;break e}a=a.return}if(Sn===null)throw Error(U(160));P2(s,o,i),Sn=null,ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){jt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L2(e,t),e=e.sibling}function L2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),Si(t),r&4){try{Ld(3,t,t.return),ty(3,t)}catch(m){jt(t,t.return,m)}try{Ld(5,t,t.return)}catch(m){jt(t,t.return,m)}}break;case 1:ei(e,t),Si(t),r&512&&n!==null&&cc(n,n.return);break;case 5:if(ei(e,t),Si(t),r&512&&n!==null&&cc(n,n.return),t.flags&32){var i=t.stateNode;try{mh(i,"")}catch(m){jt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rL(i,s),A0(a,o);var c=A0(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?lL(i,d):u==="dangerouslySetInnerHTML"?oL(i,d):u==="children"?mh(i,d):$S(i,u,d,c)}switch(a){case"input":D0(i,s);break;case"textarea":iL(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ec(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ec(i,!!s.multiple,s.defaultValue,!0):Ec(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ch]=s}catch(m){jt(t,t.return,m)}}break;case 6:if(ei(e,t),Si(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){jt(t,t.return,m)}}break;case 3:if(ei(e,t),Si(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_h(e.containerInfo)}catch(m){jt(t,t.return,m)}break;case 4:ei(e,t),Si(t);break;case 13:ei(e,t),Si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_C=zt())),r&4&&Px(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(c=Ln)||u,ei(e,t),Ln=c):ei(e,t),Si(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(d=re=u;re!==null;){switch(h=re,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ld(4,h,h.return);break;case 1:cc(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){jt(r,n,m)}}break;case 5:cc(h,h.return);break;case 22:if(h.memoizedState!==null){Fx(d);continue}}f!==null?(f.return=h,re=f):Fx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aL("display",o))}catch(m){jt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){jt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ei(e,t),Si(t),r&4&&Px(t);break;case 21:break;default:ei(e,t),Si(t)}}function Si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(O2(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mh(i,""),r.flags&=-33);var s=Ox(t);ob(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ox(t);sb(t,a,o);break;default:throw Error(U(161))}}catch(l){jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TK(t,e,n){re=t,F2(t)}function F2(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=hp;var c=Ln;if(hp=o,(Ln=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?jx(i):l!==null?(l.return=o,re=l):jx(i);for(;s!==null;)re=s,F2(s),s=s.sibling;re=i,hp=a,Ln=c}Lx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):Lx(t)}}function Lx(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||ty(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ti(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_x(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_x(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&_h(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ln||e.flags&512&&ib(e)}catch(h){jt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Fx(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function jx(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ty(4,e)}catch(l){jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){jt(e,i,l)}}var s=e.return;try{ib(e)}catch(l){jt(e,s,l)}break;case 5:var o=e.return;try{ib(e)}catch(l){jt(e,o,l)}}}catch(l){jt(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var kK=Math.ceil,fg=Gs.ReactCurrentDispatcher,vC=Gs.ReactCurrentOwner,Kr=Gs.ReactCurrentBatchConfig,Xe=0,pn=null,Zt=null,kn=0,yr=0,uc=sa(0),sn=0,Ah=null,il=0,ny=0,yC=0,Fd=null,or=null,_C=0,eu=1/0,fs=null,pg=!1,ab=null,Mo=null,fp=!1,_o=null,mg=0,jd=0,lb=null,em=-1,tm=0;function er(){return Xe&6?zt():em!==-1?em:em=zt()}function No(t){return t.mode&1?Xe&2&&kn!==0?kn&-kn:uK.transition!==null?(tm===0&&(tm=wL()),tm):(t=at,t!==0||(t=window.event,t=t===void 0?16:kL(t.type)),t):1}function fi(t,e,n,r){if(50<jd)throw jd=0,lb=null,Error(U(185));yf(t,n,r),(!(Xe&2)||t!==pn)&&(t===pn&&(!(Xe&2)&&(ny|=n),sn===4&&mo(t,kn)),pr(t,r),n===1&&Xe===0&&!(e.mode&1)&&(eu=zt()+500,Zv&&oa()))}function pr(t,e){var n=t.callbackNode;uG(t,e);var r=Zm(t,t===pn?kn:0);if(r===0)n!==null&&qk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qk(n),e===1)t.tag===0?cK(Ux.bind(null,t)):YL(Ux.bind(null,t)),sK(function(){!(Xe&6)&&oa()}),n=null;else{switch(bL(r)){case 1:n=zS;break;case 4:n=yL;break;case 16:n=Xm;break;case 536870912:n=_L;break;default:n=Xm}n=z2(n,j2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j2(t,e){if(em=-1,tm=0,Xe&6)throw Error(U(327));var n=t.callbackNode;if(kc()&&t.callbackNode!==n)return null;var r=Zm(t,t===pn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gg(t,r);else{e=r;var i=Xe;Xe|=2;var s=$2();(pn!==t||kn!==e)&&(fs=null,eu=zt()+500,La(t,e));do try{AK();break}catch(a){U2(t,a)}while(1);iC(),fg.current=s,Xe=i,Zt!==null?e=0:(pn=null,kn=0,e=sn)}if(e!==0){if(e===2&&(i=P0(t),i!==0&&(r=i,e=cb(t,i))),e===1)throw n=Ah,La(t,0),mo(t,r),pr(t,zt()),n;if(e===6)mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!xK(i)&&(e=gg(t,r),e===2&&(s=P0(t),s!==0&&(r=s,e=cb(t,s))),e===1))throw n=Ah,La(t,0),mo(t,r),pr(t,zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:pa(t,or,fs);break;case 3:if(mo(t,r),(r&130023424)===r&&(e=_C+500-zt(),10<e)){if(Zm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){er(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V0(pa.bind(null,t,or,fs),e);break}pa(t,or,fs);break;case 4:if(mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kK(r/1960))-r,10<r){t.timeoutHandle=V0(pa.bind(null,t,or,fs),r);break}pa(t,or,fs);break;case 5:pa(t,or,fs);break;default:throw Error(U(329))}}}return pr(t,zt()),t.callbackNode===n?j2.bind(null,t):null}function cb(t,e){var n=Fd;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=gg(t,e),t!==2&&(e=or,or=n,e!==null&&ub(e)),t}function ub(t){or===null?or=t:or.push.apply(or,t)}function xK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mo(t,e){for(e&=~yC,e&=~ny,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hi(e),r=1<<n;t[n]=-1,e&=~r}}function Ux(t){if(Xe&6)throw Error(U(327));kc();var e=Zm(t,0);if(!(e&1))return pr(t,zt()),null;var n=gg(t,e);if(t.tag!==0&&n===2){var r=P0(t);r!==0&&(e=r,n=cb(t,r))}if(n===1)throw n=Ah,La(t,0),mo(t,e),pr(t,zt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,or,fs),pr(t,zt()),null}function wC(t,e){var n=Xe;Xe|=1;try{return t(e)}finally{Xe=n,Xe===0&&(eu=zt()+500,Zv&&oa())}}function sl(t){_o!==null&&_o.tag===0&&!(Xe&6)&&kc();var e=Xe;Xe|=1;var n=Kr.transition,r=at;try{if(Kr.transition=null,at=1,t)return t()}finally{at=r,Kr.transition=n,Xe=e,!(Xe&6)&&oa()}}function bC(){yr=uc.current,bt(uc)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iK(n)),Zt!==null)for(n=Zt.return;n!==null;){var r=n;switch(tC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rg();break;case 3:Zc(),bt(hr),bt(zn),uC();break;case 5:cC(r);break;case 4:Zc();break;case 13:bt(It);break;case 19:bt(It);break;case 10:sC(r.type._context);break;case 22:case 23:bC()}n=n.return}if(pn=t,Zt=t=Oo(t.current,null),kn=yr=e,sn=0,Ah=null,yC=ny=il=0,or=Fd=null,Ta!==null){for(e=0;e<Ta.length;e++)if(n=Ta[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ta=null}return t}function U2(t,e){do{var n=Zt;try{if(iC(),Xp.current=hg,dg){for(var r=Nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dg=!1}if(rl=0,un=nn=Nt=null,Pd=!1,kh=0,vC.current=null,n===null||n.return===null){sn=1,Ah=e,Zt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Tx(o);if(f!==null){f.flags&=-257,kx(f,o,a,s,e),f.mode&1&&Dx(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Dx(s,c,e),EC();break e}l=Error(U(426))}}else if(xt&&a.mode&1){var _=Tx(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),kx(_,o,a,s,e),nC(Jc(l,a));break e}}s=l=Jc(l,a),sn!==4&&(sn=2),Fd===null?Fd=[s]:Fd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=E2(s,l,e);yx(s,v);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mo===null||!Mo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=S2(s,a,e);yx(s,E);break e}}s=s.return}while(s!==null)}H2(n)}catch(T){e=T,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(1)}function $2(){var t=fg.current;return fg.current=hg,t===null?hg:t}function EC(){(sn===0||sn===3||sn===2)&&(sn=4),pn===null||!(il&268435455)&&!(ny&268435455)||mo(pn,kn)}function gg(t,e){var n=Xe;Xe|=2;var r=$2();(pn!==t||kn!==e)&&(fs=null,La(t,e));do try{RK();break}catch(i){U2(t,i)}while(1);if(iC(),Xe=n,fg.current=r,Zt!==null)throw Error(U(261));return pn=null,kn=0,sn}function RK(){for(;Zt!==null;)B2(Zt)}function AK(){for(;Zt!==null&&!tG();)B2(Zt)}function B2(t){var e=W2(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?H2(t):Zt=e,vC.current=null}function H2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SK(n,e),n!==null){n.flags&=32767,Zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Zt=null;return}}else if(n=EK(n,e,yr),n!==null){Zt=n;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);sn===0&&(sn=5)}function pa(t,e,n){var r=at,i=Kr.transition;try{Kr.transition=null,at=1,IK(t,e,n,r)}finally{Kr.transition=i,at=r}return null}function IK(t,e,n,r){do kc();while(_o!==null);if(Xe&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dG(t,s),t===pn&&(Zt=pn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fp||(fp=!0,z2(Xm,function(){return kc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kr.transition,Kr.transition=null;var o=at;at=1;var a=Xe;Xe|=4,vC.current=null,DK(t,n),L2(n,t),XG(B0),Jm=!!$0,B0=$0=null,t.current=n,TK(n),nG(),Xe=a,at=o,Kr.transition=s}else t.current=n;if(fp&&(fp=!1,_o=t,mg=i),s=t.pendingLanes,s===0&&(Mo=null),sG(n.stateNode),pr(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pg)throw pg=!1,t=ab,ab=null,t;return mg&1&&t.tag!==0&&kc(),s=t.pendingLanes,s&1?t===lb?jd++:(jd=0,lb=t):jd=0,oa(),null}function kc(){if(_o!==null){var t=bL(mg),e=Kr.transition,n=at;try{if(Kr.transition=null,at=16>t?16:t,_o===null)var r=!1;else{if(t=_o,_o=null,mg=0,Xe&6)throw Error(U(331));var i=Xe;for(Xe|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Ld(8,u,s)}var d=u.child;if(d!==null)d.return=u,re=d;else for(;re!==null;){u=re;var h=u.sibling,f=u.return;if(N2(u),u===c){re=null;break}if(h!==null){h.return=f,re=h;break}re=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ld(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,re=v;break e}re=s.return}}var y=t.current;for(re=y;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=y;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ty(9,a)}}catch(T){jt(a,a.return,T)}if(a===o){re=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,re=E;break e}re=a.return}}if(Xe=i,oa(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(qv,t)}catch{}r=!0}return r}finally{at=n,Kr.transition=e}}return!1}function $x(t,e,n){e=Jc(n,e),e=E2(t,e,1),t=Io(t,e,1),e=er(),t!==null&&(yf(t,1,e),pr(t,e))}function jt(t,e,n){if(t.tag===3)$x(t,t,n);else for(;e!==null;){if(e.tag===3){$x(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mo===null||!Mo.has(r))){t=Jc(n,t),t=S2(e,t,1),e=Io(e,t,1),t=er(),e!==null&&(yf(e,1,t),pr(e,t));break}}e=e.return}}function MK(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=er(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(kn&n)===n&&(sn===4||sn===3&&(kn&130023424)===kn&&500>zt()-_C?La(t,0):yC|=n),pr(t,e)}function V2(t,e){e===0&&(t.mode&1?(e=rp,rp<<=1,!(rp&130023424)&&(rp=4194304)):e=1);var n=er();t=Hs(t,e),t!==null&&(yf(t,e,n),pr(t,n))}function NK(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V2(t,n)}function OK(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),V2(t,n)}var W2;W2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,bK(t,e,n);lr=!!(t.flags&131072)}else lr=!1,xt&&e.flags&1048576&&qL(e,og,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jp(t,e),t=e.pendingProps;var i=Kc(e,zn.current);Tc(e,n),i=hC(null,e,r,t,i,n);var s=fC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(r)?(s=!0,ig(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aC(e),i.updater=Jv,e.stateNode=i,i._reactInternals=e,Q0(e,r,t,n),e=J0(null,e,r,!0,s,n)):(e.tag=0,xt&&s&&eC(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LK(r),t=ti(r,t),i){case 0:e=Z0(null,e,r,t,n);break e;case 1:e=Ax(null,e,r,t,n);break e;case 11:e=xx(null,e,r,t,n);break e;case 14:e=Rx(null,e,r,ti(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),Z0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),Ax(t,e,r,i,n);case 3:e:{if(k2(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,XL(t,e),cg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Jc(Error(U(423)),e),e=Ix(t,e,r,n,i);break e}else if(r!==i){i=Jc(Error(U(424)),e),e=Ix(t,e,r,n,i);break e}else for(wr=Ao(e.stateNode.containerInfo.firstChild),Er=e,xt=!0,ii=null,n=t2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qc(),r===i){e=Vs(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return n2(e),t===null&&q0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,H0(r,i)?o=null:s!==null&&H0(r,s)&&(e.flags|=32),T2(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&q0(e),null;case 13:return x2(t,e,n);case 4:return lC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xc(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),xx(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ft(ag,r._currentValue),r._currentValue=o,s!==null)if(vi(s.value,o)){if(s.children===i.children&&!hr.current){e=Vs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ks(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),G0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),G0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tc(e,n),i=Qr(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=ti(r,e.pendingProps),i=ti(r.type,i),Rx(t,e,r,i,n);case 15:return C2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),Jp(t,e),e.tag=1,fr(r)?(t=!0,ig(e)):t=!1,Tc(e,n),JL(e,r,i),Q0(e,r,i,n),J0(null,e,r,!0,t,n);case 19:return R2(t,e,n);case 22:return D2(t,e,n)}throw Error(U(156,e.tag))};function z2(t,e){return vL(t,e)}function PK(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,r){return new PK(t,e,n,r)}function SC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LK(t){if(typeof t=="function")return SC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HS)return 11;if(t===VS)return 14}return 2}function Oo(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")SC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ec:return Fa(n.children,i,s,e);case BS:o=8,i|=8;break;case w0:return t=zr(12,n,e,i|2),t.elementType=w0,t.lanes=s,t;case b0:return t=zr(13,n,e,i),t.elementType=b0,t.lanes=s,t;case E0:return t=zr(19,n,e,i),t.elementType=E0,t.lanes=s,t;case eL:return ry(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZP:o=10;break e;case JP:o=9;break e;case HS:o=11;break e;case VS:o=14;break e;case oo:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=zr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fa(t,e,n,r){return t=zr(7,t,r,e),t.lanes=n,t}function ry(t,e,n,r){return t=zr(22,t,r,e),t.elementType=eL,t.lanes=n,t.stateNode={isHidden:!1},t}function O_(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function P_(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FK(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m_(0),this.expirationTimes=m_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CC(t,e,n,r,i,s,o,a,l){return t=new FK(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aC(s),t}function jK(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y2(t){if(!t)return zo;t=t._reactInternals;e:{if(Dl(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(fr(n))return zL(t,n,e)}return e}function q2(t,e,n,r,i,s,o,a,l){return t=CC(n,r,!0,t,i,s,o,a,l),t.context=Y2(null),n=t.current,r=er(),i=No(n),s=ks(r,i),s.callback=e??null,Io(n,s,i),t.current.lanes=i,yf(t,i,r),pr(t,r),t}function iy(t,e,n,r){var i=e.current,s=er(),o=No(i);return n=Y2(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Io(i,e,o),t!==null&&(fi(t,i,o,s),Qp(t,i,o)),o}function vg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function DC(t,e){Bx(t,e),(t=t.alternate)&&Bx(t,e)}function UK(){return null}var G2=typeof reportError=="function"?reportError:function(t){console.error(t)};function TC(t){this._internalRoot=t}sy.prototype.render=TC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));iy(t,e,null,null)};sy.prototype.unmount=TC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){iy(null,t,null,null)}),e[Bs]=null}};function sy(t){this._internalRoot=t}sy.prototype.unstable_scheduleHydration=function(t){if(t){var e=CL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&TL(t)}};function kC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hx(){}function $K(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=vg(o);s.call(c)}}var o=q2(e,r,t,0,null,!1,!1,"",Hx);return t._reactRootContainer=o,t[Bs]=o.current,Eh(t.nodeType===8?t.parentNode:t),sl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=vg(l);a.call(c)}}var l=CC(t,0,!1,null,null,!1,!1,"",Hx);return t._reactRootContainer=l,t[Bs]=l.current,Eh(t.nodeType===8?t.parentNode:t),sl(function(){iy(e,l,n,r)}),l}function ay(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vg(o);a.call(l)}}iy(e,o,t,i)}else o=$K(n,e,t,i,r);return vg(o)}EL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vd(e.pendingLanes);n!==0&&(YS(e,n|1),pr(e,zt()),!(Xe&6)&&(eu=zt()+500,oa()))}break;case 13:sl(function(){var r=Hs(t,1);if(r!==null){var i=er();fi(r,t,1,i)}}),DC(t,1)}};qS=function(t){if(t.tag===13){var e=Hs(t,134217728);if(e!==null){var n=er();fi(e,t,134217728,n)}DC(t,134217728)}};SL=function(t){if(t.tag===13){var e=No(t),n=Hs(t,e);if(n!==null){var r=er();fi(n,t,e,r)}DC(t,e)}};CL=function(){return at};DL=function(t,e){var n=at;try{return at=t,e()}finally{at=n}};M0=function(t,e,n){switch(e){case"input":if(D0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xv(r);if(!i)throw Error(U(90));nL(r),D0(r,i)}}}break;case"textarea":iL(t,n);break;case"select":e=n.value,e!=null&&Ec(t,!!n.multiple,e,!1)}};dL=wC;hL=sl;var BK={usingClientEntryPoint:!1,Events:[wf,ic,Xv,cL,uL,wC]},Ku={findFiberByHostInstance:Da,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HK={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mL(t),t===null?null:t.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||UK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pp.isDisabled&&pp.supportsFiber)try{qv=pp.inject(HK),qi=pp}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BK;Ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kC(e))throw Error(U(200));return jK(t,e,null,n)};Ir.createRoot=function(t,e){if(!kC(t))throw Error(U(299));var n=!1,r="",i=G2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=CC(t,1,!1,null,null,n,!1,r,i),t[Bs]=e.current,Eh(t.nodeType===8?t.parentNode:t),new TC(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=mL(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return sl(t)};Ir.hydrate=function(t,e,n){if(!oy(e))throw Error(U(200));return ay(null,t,e,!0,n)};Ir.hydrateRoot=function(t,e,n){if(!kC(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=G2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=q2(e,null,t,1,n??null,i,!1,s,o),t[Bs]=e.current,Eh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sy(e)};Ir.render=function(t,e,n){if(!oy(e))throw Error(U(200));return ay(null,t,e,!1,n)};Ir.unmountComponentAtNode=function(t){if(!oy(t))throw Error(U(40));return t._reactRootContainer?(sl(function(){ay(null,null,t,!1,function(){t._reactRootContainer=null,t[Bs]=null})}),!0):!1};Ir.unstable_batchedUpdates=wC;Ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oy(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return ay(t,e,n,!1,r)};Ir.version="18.2.0-next-9e3b772b8-20220608";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),qP.exports=Ir;var Iu=qP.exports;const xC=F1(Iu),VK=L1({__proto__:null,default:xC},[Iu]);var Q2,Vx=Iu;Q2=Vx.createRoot,Vx.hydrateRoot;function WK(t){const[e,n]=C.useState(!1),r=C.useRef(null),i={page1:"src/audio/tutorial/page-1.mp3",page2:"src/audio/tutorial/page-2.mp3",page3:"src/audio/tutorial/page-3.mp3",page4:"src/audio/tutorial/page-4.mp3",thehardware:"src/audio/tutorial/the-hardware.mp3"},[s,o]=C.useState({thehardware:!0,page1:!0,page2:!0,page3:!0,page4:!0}),a=(l,c)=>{if(r.current&&i[l]&&s[l]){if(e){setTimeout(()=>a(l,c),1e3);return}r.current.src=i[l],r.current.play().then(()=>{setAudioPlayed(!0),r.current.onended=()=>{c&&c()}}).catch(u=>console.error("Error playing audio:",u))}};return g.jsxs("div",{className:"custom-welcome-container",children:[g.jsx("audio",{ref:r,preload:"all"}),g.jsxs("main",{className:"custom-main-welcome",children:[g.jsx("h2",{children:"Get started with the Meeting Planner"}),g.jsxs("div",{className:"custom-welcome-grid",children:[g.jsxs("div",{className:"custom-welcome-item",children:[g.jsx("h3",{className:"custom-welcome-view-heading",children:"The Hardware: The Meeting Room Controller"}),g.jsx("img",{src:"/src/styles/discussion.png",alt:"Discussion Icon",style:{width:"95px",height:"95px",display:"block",margin:"0 auto",marginTop:"0px"}}),g.jsxs("p",{className:"custom-welcome-view-paragraph",children:["The Room Display Controller is positioned at the entrance of each meeting room. On the screen, you can:",g.jsxs("ol",{children:[g.jsx("li",{children:"Check the room’s current status."}),g.jsx("li",{children:"Check for other available rooms."}),g.jsx("li",{children:"Check the current time."}),g.jsx("li",{children:"Book meetings on-the-spot with your personal access card."})]})]}),g.jsx("button",{class:"read-aloud-button",onClick:()=>a("thehardware"),children:g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})})]}),g.jsxs("div",{className:"custom-welcome-item",children:[g.jsx("h3",{className:"custom-welcome-view-heading",children:"Page 1. My Calendar"}),g.jsx("img",{src:"/src/styles/schedule.png",alt:"Schedule Icon",style:{width:"100px",height:"100px",display:"block",margin:"0 auto",marginTop:"20px"}}),g.jsx("p",{className:"custom-welcome-view-paragraph",children:"My Calendar shows all of the meetings you are attending. If you are an owner of an event, you can also modify times or add documents that you wish to share with the people attending."}),g.jsx("button",{class:"read-aloud-button",onClick:()=>a("page1"),children:g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})})]}),g.jsxs("div",{className:"custom-welcome-item",children:[g.jsx("h3",{className:"custom-welcome-view-heading",children:"Page 2. Bookable Rooms"}),g.jsx("img",{src:"/src/styles/meeting.png",alt:"Meeting Icon",style:{width:"100px",height:"100px",display:"block",margin:"0 auto",marginTop:"20px"}}),g.jsxs("p",{className:"custom-welcome-view-paragraph",children:["In the Bookable Rooms section you can find and book rooms in your organization. There are two different views, one is the grid view where you can view all rooms to quickly find a room to book. If you press book by specific view, you can see all rooms described in further detail, and of course also book them. Just like in my calendar, you can also edit events you have created here.",g.jsx("br",{}),g.jsx("br",{}),"You can filter rooms in either of these two to only show the rooms that are available at the moment of booking if you need a room immediately. You can also search for a specific room or office if your organization has multiple offices."]}),g.jsx("button",{class:"read-aloud-button",onClick:()=>a("page2"),children:g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})})]}),g.jsxs("div",{className:"custom-welcome-item",children:[g.jsx("h3",{className:"custom-welcome-view-heading",children:"Page 3. Hold a Meeting"}),g.jsx("img",{src:"/src/styles/discussion.png",alt:"Discussion Icon",style:{width:"95px",height:"95px",display:"block",margin:"0 auto",marginTop:"0px"}}),g.jsx("div",{className:"meeting-technique-guidance",children:g.jsxs("p",{className:"custom-welcome-view-paragraph",children:["The Meeting Helper optimizes and democratizes speaking times. A designated 'meeting leader' should always keep this page open, as all important announcements will be made audibly to the group. To customize the meeting for each team, the meeting leader can among other things set speaker changes to occur automatically or manually and decide whether the page should announce when it's time for the next person to speak. There are three meeting technique presets:",g.jsxs("ol",{children:[g.jsx("li",{children:"Regular Meeting"}),g.jsx("li",{children:"Briefing/presentation meeting"}),g.jsx("li",{children:"Negotiation Meeting"})]})]})}),g.jsx("div",{className:"meeting-technique-guidance",children:g.jsx("p",{className:"custom-welcome-view-paragraph",children:g.jsx("b",{children:"Note: This page can, unlike Pages 1 and 2, be used independently of any meeting rooms."})})}),g.jsx("button",{class:"read-aloud-button",onClick:()=>a("page4"),children:g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})})]})]})]})]})}if(!C.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!QH)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function zK(t){t()}function YK(t){t||(t=zK),RI({reactionScheduler:t})}function qK(t){return VH(t)}var GK=1e4,KK=1e4,QK=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=GK),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,KK))}}),t}(),XK=typeof FinalizationRegistry<"u"?FinalizationRegistry:QK,db=new XK(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Wx=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function zx(t){return"observer".concat(t)}var ZK=function(){function t(){}return t}();function JK(){return new ZK}function eQ(t,e){e===void 0&&(e="observed");var n=Wx(I.useState(JK),1),r=n[0],i=Wx(I.useState(),2),s=i[1],o=function(){return s([])},a=I.useRef(null);a.current||(a.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=a.current;l.reaction||(l.reaction=new Gd(zx(e),function(){l.mounted?o():l.changedBeforeMount=!0}),db.register(r,l,l)),I.useDebugValue(l.reaction,qK),I.useEffect(function(){return db.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,o()):(l.reaction=new Gd(zx(e),function(){o()}),o()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}},[]);var c,u;if(l.reaction.track(function(){try{c=t()}catch(d){u=d}}),u)throw u;return c}var X2=typeof Symbol=="function"&&Symbol.for,Yx=X2?Symbol.for("react.forward_ref"):typeof C.forwardRef=="function"&&C.forwardRef(function(t){return null}).$$typeof,qx=X2?Symbol.for("react.memo"):typeof C.memo=="function"&&C.memo(function(t){return null}).$$typeof;function Tl(t,e){var n;if(qx&&t.$$typeof===qx)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=e?.forwardRef)!==null&&n!==void 0?n:!1,i=t,s=t.displayName||t.name;if(Yx&&t.$$typeof===Yx&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(a,l){return eQ(function(){return i(a,l)},s)};return s!==""&&(o.displayName=s),t.contextTypes&&(o.contextTypes=t.contextTypes),r&&(o=C.forwardRef(o)),o=C.memo(o),nQ(t,o),o}var tQ={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function nQ(t,e){Object.keys(t).forEach(function(n){tQ[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}globalThis&&globalThis.__read;var L_;YK(Iu.unstable_batchedUpdates);L_=db.finalizeAllImmediately;const rQ=Tl(function(e){return g.jsx(WK,{})});function iQ(t){return g.jsxs("nav",{className:"nav",children:[g.jsxs("div",{className:"nav-section links-nav-section",children:[g.jsx("button",{onClick:t.handleResetButtonClick,children:g.jsx("h4",{children:"Welcome Page"})}),t.isLoggedIn&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>window.location.hash="#/myCalendar",children:g.jsx("h4",{children:"My Calendar"})}),g.jsx("button",{onClick:()=>{window.location.hash="#/bookableRooms",t.onSearchButton()},children:g.jsx("h4",{children:"Bookable Rooms"})}),g.jsx("button",{onClick:()=>window.location.hash="#/meeting",children:g.jsx("h4",{children:"Hold a Meeting"})})]})]}),g.jsx("div",{className:"nav-section log-in-nav-section",children:t.renderLoggedInContent&&t.renderLoggedInContent()})]})}const sQ=Tl(({model:t})=>{C.useEffect(()=>{t.doSearch()});const e=()=>{t.roomListDone.done=!0,t.getInfoOfArray(t.favouriteRooms)},n=()=>{t.logInOrOutWithGoogle()},r=()=>t.userState.isLoggedIn?g.jsx(g.Fragment,{children:g.jsx("li",{children:g.jsx("button",{onClick:n,children:g.jsx("h5",{children:"Log out"})})})}):g.jsx("li",{children:g.jsx("button",{onClick:n,children:g.jsx("h5",{children:"Log in with Google"})})}),i=s=>{t.doSearch(s)};return g.jsx(iQ,{onSearchButton:i,handleResetButtonClick:()=>window.location.hash="#/",onRoomListClicked:e,isLoggedIn:t.userState.isLoggedIn,query:t.searchParams.q,doneSearch:t.searchDone,renderLoggedInContent:r})}),Gx="@firebase/database",Kx="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z2="";function oQ(t){Z2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aQ(e)}}catch{}return new lQ},xa=J2("localStorage"),hb=J2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new pv("@firebase/database"),cQ=function(){let t=1;return function(){return t++}}(),eF=function(t){const e=PV(t),n=new AV;n.update(e);const r=n.digest();return bE.encodeByteArray(r)},Ef=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ef.apply(null,r):typeof r=="object"?e+=Dn(r):e+=r,e+=" "}return e};let ja=null,Qx=!0;const uQ=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xc.logLevel=Ke.VERBOSE,ja=xc.log.bind(xc),e&&hb.set("logging_enabled",!0)):typeof t=="function"?ja=t:(ja=null,hb.remove("logging_enabled"))},Fn=function(...t){if(Qx===!0&&(Qx=!1,ja===null&&hb.get("logging_enabled")===!0&&uQ(!0)),ja){const e=Ef.apply(null,t);ja(e)}},Sf=function(t){return function(...e){Fn(t,...e)}},fb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ef(...t);xc.error(e)},ol=function(...t){const e=`FIREBASE FATAL ERROR: ${Ef(...t)}`;throw xc.error(e),new Error(e)},Sr=function(...t){const e="FIREBASE WARNING: "+Ef(...t);xc.warn(e)},dQ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tF=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hQ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},tu="[MIN_NAME]",al="[MAX_NAME]",Mu=function(t,e){if(t===e)return 0;if(t===tu||e===al)return-1;if(e===tu||t===al)return 1;{const n=Xx(t),r=Xx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},fQ=function(t,e){return t===e?0:t<e?-1:1},Qu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dn(e))},RC=function(t){if(typeof t!="object"||t===null)return Dn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dn(e[r]),n+=":",n+=RC(t[e[r]]);return n+="}",n},nF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Zr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rF=function(t){G(!tF(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},pQ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mQ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},gQ=new RegExp("^-?(0*)\\d{1,10}$"),vQ=-2147483648,yQ=2147483647,Xx=function(t){if(gQ.test(t)){const e=Number(t);if(e>=vQ&&e<=yQ)return e}return null},Cf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Sr("Exception was thrown by user callback.",n),e},Math.floor(0))}},_Q=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ud=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sr(e)}}class pb{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}pb.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="5",iF="v",sF="s",oF="r",aF="f",lF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cF="ls",uF="p",mb="ac",dF="websocket",hF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function SQ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fF(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===dF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===hF)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SQ(t)&&(n.ns=t.namespace);const i=[];return Zr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(){this.counters_={}}incrementCounter(e,n=1){qs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={},j_={};function IC(t){const e=t.toString();return F_[e]||(F_[e]=new CQ),F_[e]}function DQ(t,e){const n=t.toString();return j_[n]||(j_[n]=e()),j_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="start",kQ="close",xQ="pLPCommand",RQ="pRTLPCB",pF="id",mF="pw",gF="ser",AQ="cb",IQ="seg",MQ="ts",NQ="d",OQ="dframe",vF=1870,yF=30,PQ=vF-yF,LQ=25e3,FQ=3e4;class dc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sf(e),this.stats_=IC(n),this.urlFn=l=>(this.appCheckToken&&(l[mb]=this.appCheckToken),fF(n,hF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TQ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FQ)),hQ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new MC((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Zx)this.id=a,this.password=l;else if(o===kQ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Zx]="t",r[gF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AQ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[iF]=AC,this.transportSessionId&&(r[sF]=this.transportSessionId),this.lastSessionId&&(r[cF]=this.lastSessionId),this.applicationId&&(r[uF]=this.applicationId),this.appCheckToken&&(r[mb]=this.appCheckToken),typeof location<"u"&&location.hostname&&lF.test(location.hostname)&&(r[oF]=aF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dc.forceAllow_=!0}static forceDisallow(){dc.forceDisallow_=!0}static isAvailable(){return dc.forceAllow_?!0:!dc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pQ()&&!mQ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qI(n),i=nF(r,PQ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[OQ]="t",r[pF]=e,r[mF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class MC{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cQ(),window[xQ+this.uniqueCallbackIdentifier]=e,window[RQ+this.uniqueCallbackIdentifier]=n,this.myIFrame=MC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[pF]=this.myID,e[mF]=this.myPW,e[gF]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yF+r.length<=vF;){const o=this.pendingSegs.shift();r=r+"&"+IQ+i+"="+o.seg+"&"+MQ+i+"="+o.ts+"&"+NQ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(LQ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=16384,UQ=45e3;let yg=null;typeof MozWebSocket<"u"?yg=MozWebSocket:typeof WebSocket<"u"&&(yg=WebSocket);class si{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sf(this.connId),this.stats_=IC(n),this.connURL=si.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[iF]=AC,typeof location<"u"&&location.hostname&&lF.test(location.hostname)&&(o[oF]=aF),n&&(o[sF]=n),r&&(o[cF]=r),i&&(o[mb]=i),s&&(o[uF]=s),fF(e,dF,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xa.set("previous_websocket_failure",!0);try{let r;tM(),this.mySock=new yg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){si.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&yg!==null&&!si.forceDisallow_}static previouslyFailed(){return xa.isInMemoryStorage||xa.get("previous_websocket_failure")===!0}markConnectionHealthy(){xa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nF(n,jQ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UQ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}si.responsesRequiredToBeHealthy=2;si.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dc,si]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=si&&si.isAvailable();let r=n&&!si.previouslyFailed();if(e.webSocketOnly&&(n||Sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[si];else{const i=this.transports_=[];for(const s of Ih.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ih.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ih.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=6e4,BQ=5e3,HQ=10*1024,VQ=100*1024,U_="t",Jx="d",WQ="s",eR="r",zQ="e",tR="o",nR="a",rR="n",iR="p",YQ="h";class qQ{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sf("c:"+this.id+":"),this.transportManager_=new Ih(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ud(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VQ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HQ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(U_ in e){const n=e[U_];n===nR?this.upgradeIfSecondaryHealthy_():n===eR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qu("t",e),r=Qu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qu("t",e),r=Qu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qu(U_,e);if(Jx in e){const r=e[Jx];if(n===YQ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WQ?this.onConnectionShutdown_(r):n===eR?this.onReset_(r):n===zQ?fb("Server Error: "+r):n===tR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),AC!==r&&Sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ud(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($Q))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ud(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BQ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends wF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!SE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _g}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=32,oR=768;class Dt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ut(){return new Dt("")}function qe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yo(t){return t.pieces_.length-t.pieceNum_}function yt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Dt(t.pieces_,e)}function bF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function GQ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function EF(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function SF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Dt(e,0)}function fn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Dt(n,0)}function We(t){return t.pieceNum_>=t.pieces_.length}function Yr(t,e){const n=qe(t),r=qe(e);if(n===null)return e;if(n===r)return Yr(yt(t),yt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function CF(t,e){if(Yo(t)!==Yo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function oi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yo(t)>Yo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class KQ{constructor(e,n){this.errorPrefix_=n,this.parts_=EF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fv(this.parts_[r]);DF(this)}}function QQ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fv(e),DF(t)}function XQ(t){const e=t.parts_.pop();t.byteLength_-=fv(e),t.parts_.length>0&&(t.byteLength_-=1)}function DF(t){if(t.byteLength_>oR)throw new Error(t.errorPrefix_+"has a key path longer than "+oR+" bytes ("+t.byteLength_+").");if(t.parts_.length>sR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sR+") or object contains a cycle "+ma(t))}function ma(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC extends wF{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new NC}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=1e3,ZQ=60*5*1e3,aR=30*1e3,JQ=1.3,e8=3e4,t8="server_kill",lR=3;class xs extends _F{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xs.nextPersistentConnectionId_++,this.log_=Sf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xu,this.maxReconnectDelay_=ZQ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!tM())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_g.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Dn(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new EE,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;xs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qs(e,"w")){const r=jc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RV(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=aR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xV(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):fb("Unrecognized action received from server: "+Dn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>e8&&(this.reconnectDelay_=Xu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JQ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new qQ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Sr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(t8)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Sr(d),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Aw(this.interruptReasons_)&&(this.reconnectDelay_=Xu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>RC(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Dt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lR&&(this.reconnectDelay_=aR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Z2.replace(/\./g,"-")]=1,SE()?e["framework.cordova"]=1:eM()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_g.getInstance().currentlyOnline();return Aw(this.interruptReasons_)&&e}}xs.nextPersistentConnectionId_=0;xs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ge(tu,e),i=new Ge(tu,n);return this.compare(r,i)!==0}minPost(){return Ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp;class TF extends ly{static get __EMPTY_NODE(){return mp}static set __EMPTY_NODE(e){mp=e}compare(e,n){return Mu(e.name,n.name)}isDefinedOn(e){throw yu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(al,mp)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Ge(e,mp)}toString(){return".key"}}const Rc=new TF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??cr.EMPTY_NODE,this.right=s??cr.EMPTY_NODE}copy(e,n,r,i,s){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return cr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return cr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dn.RED=!0;dn.BLACK=!1;class n8{copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class cr{constructor(e,n=cr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new cr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,dn.BLACK,null,null))}remove(e){return new cr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new gp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new gp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new gp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new gp(this.root_,null,this.comparator_,!0,e)}}cr.EMPTY_NODE=new n8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t,e){return Mu(t.name,e.name)}function OC(t,e){return Mu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gb;function i8(t){gb=t}const kF=function(t){return typeof t=="number"?"number:"+rF(t):"string:"+t},xF=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qs(e,".sv"),"Priority must be a string or number.")}else G(t===gb||t.isEmpty(),"priority of unexpected type.");G(t===gb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cR;class ln{constructor(e,n=ln.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xF(this.priorityNode_)}static set __childrenNodeConstructor(e){cR=e}static get __childrenNodeConstructor(){return cR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ln(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ln.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return We(e)?this:qe(e)===".priority"?this.priorityNode_:ln.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ln.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=qe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||Yo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ln.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kF(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rF(this.value_):e+=this.value_,this.lazyHash_=eF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ln.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ln.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ln.VALUE_TYPE_ORDER.indexOf(n),s=ln.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ln.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RF,AF;function s8(t){RF=t}function o8(t){AF=t}class a8 extends ly{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Mu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(al,new ln("[PRIORITY-POST]",AF))}makePost(e,n){const r=RF(e);return new Ge(n,new ln("[PRIORITY-POST]",r))}toString(){return".priority"}}const Bn=new a8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=Math.log(2);class c8{constructor(e){const n=s=>parseInt(Math.log(s)/l8,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wg=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new dn(h,d.node,dn.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new dn(h,d.node,dn.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const _=d-p,v=d;d-=p;const y=i(_+1,v),w=t[_],E=n?n(w):w;f(new dn(E,w.node,m,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));m?h(_,dn.BLACK):(h(_,dn.BLACK),h(_,dn.RED))}return u},o=new c8(t.length),a=s(o);return new cr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_;const Vl={};class Es{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Vl&&Bn,"ChildrenNode.ts has not been loaded"),$_=$_||new Es({".priority":Vl},{".priority":Bn}),$_}get(e){const n=jc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof cr?n:null}hasIndex(e){return qs(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Rc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ge.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=wg(r,e.getCompare()):a=Vl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Es(u,c)}addToIndexes(e,n){const r=Sm(this.indexes_,(i,s)=>{const o=jc(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Vl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ge.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),wg(a,o.getCompare())}else return Vl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ge(e.name,a))),l.insert(e,e.node)}});return new Es(r,this.indexSet_)}removeFromIndexes(e,n){const r=Sm(this.indexes_,i=>{if(i===Vl)return i;{const s=n.get(e.name);return s?i.remove(new Ge(e.name,s)):i}});return new Es(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;class rt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&xF(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zu||(Zu=new rt(new cr(OC),null,Es.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zu}updatePriority(e){return this.children_.isEmpty()?this:new rt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zu:n}}getChild(e){const n=qe(e);return n===null?this:this.getImmediateChild(n).getChild(yt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ge(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Zu:this.priorityNode_;return new rt(i,o,s)}}updateChild(e,n){const r=qe(e);if(r===null)return n;{G(qe(e)!==".priority"||Yo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(yt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Bn,(o,a)=>{n[o]=a.val(e),r++,s&&rt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+kF(this.getPriority().val())+":"),this.forEachChild(Bn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":eF(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ge(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ge(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ge.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Df?-1:0}withIndex(e){if(e===Rc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new rt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Bn),i=n.getIterator(Bn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Rc?null:this.indexMap_.get(e.toString())}}rt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class u8 extends rt{constructor(){super(new cr(OC),rt.EMPTY_NODE,Es.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return rt.EMPTY_NODE}isEmpty(){return!1}}const Df=new u8;Object.defineProperties(Ge,{MIN:{value:new Ge(tu,rt.EMPTY_NODE)},MAX:{value:new Ge(al,Df)}});TF.__EMPTY_NODE=rt.EMPTY_NODE;ln.__childrenNodeConstructor=rt;i8(Df);o8(Df);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=!0;function jn(t,e=null){if(t===null)return rt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ln(n,jn(e))}if(!(t instanceof Array)&&d8){const n=[];let r=!1;if(Zr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=jn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ge(o,l)))}}),n.length===0)return rt.EMPTY_NODE;const s=wg(n,r8,o=>o.name,OC);if(r){const o=wg(n,Bn.getCompare());return new rt(s,jn(e),new Es({".priority":o},{".priority":Bn}))}else return new rt(s,jn(e),Es.Default)}else{let n=rt.EMPTY_NODE;return Zr(t,(r,i)=>{if(qs(t,r)&&r.substring(0,1)!=="."){const s=jn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(jn(e))}}s8(jn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8 extends ly{constructor(e){super(),this.indexPath_=e,G(!We(e)&&qe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Mu(e.name,n.name):s}makePost(e,n){const r=jn(e),i=rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ge(n,i)}maxPost(){const e=rt.EMPTY_NODE.updateChild(this.indexPath_,Df);return new Ge(al,e)}toString(){return EF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8 extends ly{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Mu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,n){const r=jn(e);return new Ge(n,r)}toString(){return".value"}}const p8=new f8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){return{type:"value",snapshotNode:t}}function g8(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function v8(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function uR(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function y8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tu}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:al}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bn}copy(){const e=new PC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Bn?n="$priority":t.index_===p8?n="$value":t.index_===Rc?n="$key":(G(t.index_ instanceof h8,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Bn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends _F{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=bg.getListenId_(e,r),a={};this.listens_[o]=a;const l=dR(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),jc(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=bg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=dR(e._queryParams),r=e._path.toString(),i=new EE;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_u(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jd(a.responseText)}catch{Sr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Sr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.rootNode_=rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){return{value:null,children:new Map}}function IF(t,e,n){if(We(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=qe(e);t.children.has(r)||t.children.set(r,Eg());const i=t.children.get(r);e=yt(e),IF(i,e,n)}}function vb(t,e,n){t.value!==null?n(e,t.value):w8(t,(r,i)=>{const s=new Dt(e.toString()+"/"+r);vb(i,s,n)})}function w8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Zr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=10*1e3,E8=30*1e3,S8=5*60*1e3;class C8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new b8(e);const r=fR+(E8-fR)*Math.random();Ud(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Zr(e,(i,s)=>{s>0&&qs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ud(this.reportStats_.bind(this),Math.floor(Math.random()*2*S8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ji||(ji={}));function MF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function NF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function OF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ji.ACK_USER_WRITE,this.source=MF()}operationForChild(e){if(We(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Dt(e));return new Sg(ut(),n,this.revert)}}else return G(qe(this.path)===e,"operationForChild called for unrelated child."),new Sg(yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ji.OVERWRITE}operationForChild(e){return We(this.path)?new ll(this.source,ut(),this.snap.getImmediateChild(e)):new ll(this.source,yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ji.MERGE}operationForChild(e){if(We(this.path)){const n=this.children.subtree(new Dt(e));return n.isEmpty()?null:n.value?new ll(this.source,ut(),n.value):new Mh(this.source,ut(),n)}else return G(qe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mh(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const n=qe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function D8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(y8(o.childName,o.snapshotNode))}),Ju(t,i,"child_removed",e,r,n),Ju(t,i,"child_added",e,r,n),Ju(t,i,"child_moved",s,r,n),Ju(t,i,"child_changed",e,r,n),Ju(t,i,"value",e,r,n),i}function Ju(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>k8(t,a,l)),o.forEach(a=>{const l=T8(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function T8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function k8(t,e,n){if(e.childName==null||n.childName==null)throw yu("Should only compare child_ events.");const r=new Ge(e.childName,e.snapshotNode),i=new Ge(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t,e){return{eventCache:t,serverCache:e}}function $d(t,e,n,r){return PF(new LC(e,n,r),t.serverCache)}function LF(t,e,n,r){return PF(t.eventCache,new LC(e,n,r))}function yb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B_;const x8=()=>(B_||(B_=new cr(fQ)),B_);class vt{constructor(e,n=x8()){this.value=e,this.children=n}static fromObject(e){let n=new vt(null);return Zr(e,(r,i)=>{n=n.set(new Dt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(We(e))return null;{const r=qe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(yt(e),n);return s!=null?{path:fn(new Dt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const n=qe(e),r=this.children.get(n);return r!==null?r.subtree(yt(e)):new vt(null)}}set(e,n){if(We(e))return new vt(n,this.children);{const r=qe(e),s=(this.children.get(r)||new vt(null)).set(yt(e),n),o=this.children.insert(r,s);return new vt(this.value,o)}}remove(e){if(We(e))return this.children.isEmpty()?new vt(null):new vt(null,this.children);{const n=qe(e),r=this.children.get(n);if(r){const i=r.remove(yt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new vt(null):new vt(this.value,s)}else return this}}get(e){if(We(e))return this.value;{const n=qe(e),r=this.children.get(n);return r?r.get(yt(e)):null}}setTree(e,n){if(We(e))return n;{const r=qe(e),s=(this.children.get(r)||new vt(null)).setTree(yt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new vt(this.value,o)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(We(e))return null;{const s=qe(e),o=this.children.get(s);return o?o.findOnPath_(yt(e),fn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,r){if(We(e))return this;{this.value&&r(n,this.value);const i=qe(e),s=this.children.get(i);return s?s.foreachOnPath_(yt(e),fn(n,i),r):new vt(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.writeTree_=e}static empty(){return new pi(new vt(null))}}function Bd(t,e,n){if(We(e))return new pi(new vt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Yr(i,e);return s=s.updateChild(o,n),new pi(t.writeTree_.set(i,s))}else{const i=new vt(n),s=t.writeTree_.setTree(e,i);return new pi(s)}}}function pR(t,e,n){let r=t;return Zr(n,(i,s)=>{r=Bd(r,fn(e,i),s)}),r}function mR(t,e){if(We(e))return pi.empty();{const n=t.writeTree_.setTree(e,new vt(null));return new pi(n)}}function _b(t,e){return kl(t,e)!=null}function kl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yr(n.path,e)):null}function gR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Bn,(r,i)=>{e.push(new Ge(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ge(r,i.value))}),e}function Po(t,e){if(We(e))return t;{const n=kl(t,e);return n!=null?new pi(new vt(n)):new pi(t.writeTree_.subtree(e))}}function wb(t){return t.writeTree_.isEmpty()}function nu(t,e){return FF(ut(),t.writeTree_,e)}function FF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=FF(fn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e){return VF(e,t)}function R8(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Bd(t.visibleWrites,e,n)),t.lastWriteId=r}function A8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function I8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&M8(a,r.path)?i=!1:oi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return N8(t),!0;if(r.snap)t.visibleWrites=mR(t.visibleWrites,r.path);else{const a=r.children;Zr(a,l=>{t.visibleWrites=mR(t.visibleWrites,fn(r.path,l))})}return!0}else return!1}function M8(t,e){if(t.snap)return oi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&oi(fn(t.path,n),e))return!0;return!1}function N8(t){t.visibleWrites=UF(t.allWrites,O8,ut()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function O8(t){return t.visible}function UF(t,e,n){let r=pi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)oi(n,o)?(a=Yr(n,o),r=Bd(r,a,s.snap)):oi(o,n)&&(a=Yr(o,n),r=Bd(r,ut(),s.snap.getChild(a)));else if(s.children){if(oi(n,o))a=Yr(n,o),r=pR(r,a,s.children);else if(oi(o,n))if(a=Yr(o,n),We(a))r=pR(r,ut(),s.children);else{const l=jc(s.children,qe(a));if(l){const c=l.getChild(yt(a));r=Bd(r,ut(),c)}}}else throw yu("WriteRecord should have .snap or .children")}}return r}function $F(t,e,n,r,i){if(!r&&!i){const s=kl(t.visibleWrites,e);if(s!=null)return s;{const o=Po(t.visibleWrites,e);if(wb(o))return n;if(n==null&&!_b(o,ut()))return null;{const a=n||rt.EMPTY_NODE;return nu(o,a)}}}else{const s=Po(t.visibleWrites,e);if(!i&&wb(s))return n;if(!i&&n==null&&!_b(s,ut()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(oi(c.path,e)||oi(e,c.path))},a=UF(t.allWrites,o,e),l=n||rt.EMPTY_NODE;return nu(a,l)}}}function P8(t,e,n){let r=rt.EMPTY_NODE;const i=kl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Bn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Po(t.visibleWrites,e);return n.forEachChild(Bn,(o,a)=>{const l=nu(Po(s,new Dt(o)),a);r=r.updateImmediateChild(o,l)}),gR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Po(t.visibleWrites,e);return gR(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function L8(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=fn(e,n);if(_b(t.visibleWrites,s))return null;{const o=Po(t.visibleWrites,s);return wb(o)?i.getChild(n):nu(o,i.getChild(n))}}function F8(t,e,n,r){const i=fn(e,n),s=kl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Po(t.visibleWrites,i);return nu(o,r.getNode().getImmediateChild(n))}else return null}function j8(t,e){return kl(t.visibleWrites,e)}function U8(t,e,n,r,i,s,o){let a;const l=Po(t.visibleWrites,e),c=kl(l,ut());if(c!=null)a=c;else if(n!=null)a=nu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function $8(){return{visibleWrites:pi.empty(),allWrites:[],lastWriteId:-1}}function bb(t,e,n,r){return $F(t.writeTree,t.treePath,e,n,r)}function BF(t,e){return P8(t.writeTree,t.treePath,e)}function vR(t,e,n,r){return L8(t.writeTree,t.treePath,e,n,r)}function Cg(t,e){return j8(t.writeTree,fn(t.treePath,e))}function B8(t,e,n,r,i,s){return U8(t.writeTree,t.treePath,e,n,r,i,s)}function FC(t,e,n){return F8(t.writeTree,t.treePath,e,n)}function HF(t,e){return VF(fn(t.treePath,e),t.writeTree)}function VF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,uR(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,v8(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,g8(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,uR(r,e.snapshotNode,i.oldSnap));else throw yu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const WF=new V8;class jC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new LC(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cl(this.viewCache_),s=B8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function W8(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function z8(t,e,n,r,i){const s=new H8;let o,a;if(n.type===ji.OVERWRITE){const c=n;c.source.fromUser?o=Eb(t,e,c.path,c.snap,r,i,s):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!We(c.path),o=Dg(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===ji.MERGE){const c=n;c.source.fromUser?o=q8(t,e,c.path,c.children,r,i,s):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Sb(t,e,c.path,c.children,r,i,a,s))}else if(n.type===ji.ACK_USER_WRITE){const c=n;c.revert?o=Q8(t,e,c.path,r,i,s):o=G8(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===ji.LISTEN_COMPLETE)o=K8(t,e,n.path,r,s);else throw yu("Unknown operation type: "+n.type);const l=s.getChanges();return Y8(e,o,l),{viewCache:o,changes:l}}function Y8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(m8(yb(e)))}}function zF(t,e,n,r,i,s){const o=e.eventCache;if(Cg(r,n)!=null)return e;{let a,l;if(We(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=cl(e),u=c instanceof rt?c:rt.EMPTY_NODE,d=BF(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=bb(r,cl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=qe(n);if(c===".priority"){G(Yo(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=vR(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=yt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=vR(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=FC(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return $d(e,a,o.isFullyInitialized()||We(n),t.filter.filtersNodes())}}function Dg(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(We(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=qe(n);if(!l.isCompleteForPath(n)&&Yo(n)>1)return e;const p=yt(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),f,_,p,WF,null)}const d=LF(e,c,l.isFullyInitialized()||We(n),u.filtersNodes()),h=new jC(i,d,s);return zF(t,d,n,i,h,a)}function Eb(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new jC(i,e,s);if(We(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$d(e,c,!0,t.filter.filtersNodes());else{const d=qe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=$d(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=yt(n),f=a.getNode().getImmediateChild(d);let p;if(We(h))p=r;else{const m=u.getCompleteChild(d);m!=null?bF(h)===".priority"&&m.getChild(SF(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=rt.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=$d(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function yR(t,e){return t.eventCache.isCompleteForChild(e)}function q8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=fn(n,l);yR(e,qe(u))&&(a=Eb(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=fn(n,l);yR(e,qe(u))||(a=Eb(t,a,u,c,i,s,o))}),a}function _R(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Sb(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;We(n)?c=r:c=new vt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=_R(t,f,h);l=Dg(t,l,new Dt(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=_R(t,p,h);l=Dg(t,l,new Dt(d),m,i,s,o,a)}}),l}function G8(t,e,n,r,i,s,o){if(Cg(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(We(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Dg(t,e,n,l.getNode().getChild(n),i,s,a,o);if(We(n)){let c=new vt(null);return l.getNode().forEachChild(Rc,(u,d)=>{c=c.set(new Dt(u),d)}),Sb(t,e,n,c,i,s,a,o)}else return e}else{let c=new vt(null);return r.foreach((u,d)=>{const h=fn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Sb(t,e,n,c,i,s,a,o)}}function K8(t,e,n,r,i){const s=e.serverCache,o=LF(e,s.getNode(),s.isFullyInitialized()||We(n),s.isFiltered());return zF(t,o,n,r,WF,i)}function Q8(t,e,n,r,i,s){let o;if(Cg(r,n)!=null)return e;{const a=new jC(r,e,i),l=e.eventCache.getNode();let c;if(We(n)||qe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=bb(r,cl(e));else{const d=e.serverCache.getNode();G(d instanceof rt,"serverChildren would be complete if leaf node"),u=BF(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=qe(n);let d=FC(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,yt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,rt.EMPTY_NODE,yt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=bb(r,cl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Cg(r,ut())!=null,$d(e,c,o,t.filter.filtersNodes())}}function X8(t,e){const n=cl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!We(e)&&!n.getImmediateChild(qe(e)).isEmpty())?n.getChild(e):null}function wR(t,e,n,r){e.type===ji.MERGE&&e.source.queryId!==null&&(G(cl(t.viewCache_),"We should always have a full cache before handling merges"),G(yb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=z8(t.processor_,i,e,n,r);return W8(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Z8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Z8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return D8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bR;function J8(t){G(!bR,"__referenceConstructor has already been defined"),bR=t}function UC(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),wR(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(wR(o,e,n,r));return s}}function $C(t,e){let n=null;for(const r of t.views.values())n=n||X8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ER;function e7(t){G(!ER,"__referenceConstructor has already been defined"),ER=t}class SR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vt(null),this.pendingWriteTree_=$8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function t7(t,e,n,r,i){return R8(t.pendingWriteTree_,e,n,r,i),i?uy(t,new ll(MF(),e,n)):[]}function hc(t,e,n=!1){const r=A8(t.pendingWriteTree_,e);if(I8(t.pendingWriteTree_,e)){let s=new vt(null);return r.snap!=null?s=s.set(ut(),!0):Zr(r.children,o=>{s=s.set(new Dt(o),!0)}),uy(t,new Sg(r.path,s,n))}else return[]}function cy(t,e,n){return uy(t,new ll(NF(),e,n))}function n7(t,e,n){const r=vt.fromObject(n);return uy(t,new Mh(NF(),e,r))}function r7(t,e,n,r){const i=KF(t,r);if(i!=null){const s=QF(i),o=s.path,a=s.queryId,l=Yr(o,e),c=new ll(OF(a),l,n);return XF(t,o,c)}else return[]}function i7(t,e,n,r){const i=KF(t,r);if(i){const s=QF(i),o=s.path,a=s.queryId,l=Yr(o,e),c=vt.fromObject(n),u=new Mh(OF(a),l,c);return XF(t,o,u)}else return[]}function YF(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Yr(o,e),c=$C(a,l);if(c)return c});return $F(i,e,s,n,!0)}function uy(t,e){return qF(e,t.syncPointTree_,null,jF(t.pendingWriteTree_,ut()))}function qF(t,e,n,r){if(We(t.path))return GF(t,e,n,r);{const i=e.get(ut());n==null&&i!=null&&(n=$C(i,ut()));let s=[];const o=qe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=HF(r,o);s=s.concat(qF(a,l,c,u))}return i&&(s=s.concat(UC(i,t,r,n))),s}}function GF(t,e,n,r){const i=e.get(ut());n==null&&i!=null&&(n=$C(i,ut()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=HF(r,o),u=t.operationForChild(o);u&&(s=s.concat(GF(u,a,l,c)))}),i&&(s=s.concat(UC(i,t,r,n))),s}function KF(t,e){return t.tagToQueryMap.get(e)}function QF(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Dt(t.substr(0,e))}}function XF(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=jF(t.pendingWriteTree_,e);return UC(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new BC(n)}node(){return this.node_}}class HC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=fn(this.path_,e);return new HC(this.syncTree_,n)}node(){return YF(this.syncTree_,this.path_)}}const s7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},CR=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return o7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return a7(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},o7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},a7=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},l7=function(t,e,n,r){return VC(e,new HC(n,t),r)},c7=function(t,e,n){return VC(t,new BC(e),n)};function VC(t,e,n){const r=t.getPriority().val(),i=CR(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=CR(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ln(a,jn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ln(i))),o.forEachChild(Bn,(a,l)=>{const c=VC(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zC(t,e){let n=e instanceof Dt?e:new Dt(e),r=t,i=qe(n);for(;i!==null;){const s=jc(r.node.children,i)||{children:{},childCount:0};r=new WC(i,r,s),n=yt(n),i=qe(n)}return r}function Nu(t){return t.node.value}function ZF(t,e){t.node.value=e,Cb(t)}function JF(t){return t.node.childCount>0}function u7(t){return Nu(t)===void 0&&!JF(t)}function dy(t,e){Zr(t.node.children,(n,r)=>{e(new WC(n,t,r))})}function ej(t,e,n,r){n&&!r&&e(t),dy(t,i=>{ej(i,e,!0,r)}),n&&r&&e(t)}function d7(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Tf(t){return new Dt(t.parent===null?t.name:Tf(t.parent)+"/"+t.name)}function Cb(t){t.parent!==null&&h7(t.parent,t.name,t)}function h7(t,e,n){const r=u7(n),i=qs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Cb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Cb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=/[\[\].#$\/\u0000-\u001F\u007F]/,p7=/[\[\].#$\u0000-\u001F\u007F]/,H_=10*1024*1024,tj=function(t){return typeof t=="string"&&t.length!==0&&!f7.test(t)},m7=function(t){return typeof t=="string"&&t.length!==0&&!p7.test(t)},g7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),m7(t)},nj=function(t,e,n){const r=n instanceof Dt?new KQ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ma(r));if(typeof e=="function")throw new Error(t+"contains a function "+ma(r)+" with contents = "+e.toString());if(tF(e))throw new Error(t+"contains "+e.toString()+" "+ma(r));if(typeof e=="string"&&e.length>H_/3&&fv(e)>H_)throw new Error(t+"contains a string greater than "+H_+" utf8 bytes "+ma(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Zr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!tj(o)))throw new Error(t+" contains an invalid key ("+o+") "+ma(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QQ(r,o),nj(t,a,r),XQ(r)}),i&&s)throw new Error(t+' contains ".value" child '+ma(r)+" in addition to actual children.")}},v7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!g7(n))throw new Error(OV(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _7(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!CF(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function xl(t,e,n){_7(t,n),w7(t,r=>oi(r,e)||oi(e,r))}function w7(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(b7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function b7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ja&&Fn("event: "+n.toString()),Cf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="repo_interrupt",S7=25;class C7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new y7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eg(),this.transactionQueueTree_=new WC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D7(t,e,n){if(t.stats_=IC(t.repoInfo_),t.forceRestClient_||_Q())t.server_=new bg(t.repoInfo_,(r,i,s,o)=>{DR(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>TR(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xs(t.repoInfo_,e,(r,i,s,o)=>{DR(t,r,i,s,o)},r=>{TR(t,r)},r=>{k7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DQ(t.repoInfo_,()=>new C8(t.stats_,t.server_)),t.infoData_=new _8,t.infoSyncTree_=new SR({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=cy(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),YC(t,"connected",!1),t.serverSyncTree_=new SR({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);xl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function T7(t){const n=t.infoData_.getNode(new Dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rj(t){return s7({timestamp:T7(t)})}function DR(t,e,n,r,i){t.dataUpdateCount++;const s=new Dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Sm(n,c=>jn(c));o=i7(t.serverSyncTree_,s,l,i)}else{const l=jn(n);o=r7(t.serverSyncTree_,s,l,i)}else if(r){const l=Sm(n,c=>jn(c));o=n7(t.serverSyncTree_,s,l)}else{const l=jn(n);o=cy(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=GC(t,s)),xl(t.eventQueue_,a,o)}function TR(t,e){YC(t,"connected",e),e===!1&&R7(t)}function k7(t,e){Zr(e,(n,r)=>{YC(t,n,r)})}function YC(t,e,n){const r=new Dt("/.info/"+e),i=jn(n);t.infoData_.updateSnapshot(r,i);const s=cy(t.infoSyncTree_,r,i);xl(t.eventQueue_,r,s)}function x7(t){return t.nextWriteId_++}function R7(t){ij(t,"onDisconnectEvents");const e=rj(t),n=Eg();vb(t.onDisconnect_,ut(),(i,s)=>{const o=l7(i,s,t.serverSyncTree_,e);IF(n,i,o)});let r=[];vb(n,ut(),(i,s)=>{r=r.concat(cy(t.serverSyncTree_,i,s));const o=N7(t,i);GC(t,o)}),t.onDisconnect_=Eg(),xl(t.eventQueue_,ut(),r)}function A7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(E7)}function ij(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function sj(t,e,n){return YF(t.serverSyncTree_,e,n)||rt.EMPTY_NODE}function qC(t,e=t.transactionQueueTree_){if(e||hy(t,e),Nu(e)){const n=aj(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&I7(t,Tf(e),n)}else JF(e)&&dy(e,n=>{qC(t,n)})}function I7(t,e,n){const r=n.map(c=>c.currentWriteId),i=sj(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Yr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ij(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(hc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();hy(t,zC(t.transactionQueueTree_,e)),qC(t,t.transactionQueueTree_),xl(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Cf(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Sr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}GC(t,e)}},o)}function GC(t,e){const n=oj(t,e),r=Tf(n),i=aj(t,n);return M7(t,i,r),r}function M7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Yr(n,l.path);let u=!1,d;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(hc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=S7)u=!0,d="maxretry",i=i.concat(hc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=sj(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){nj("transaction failed: Data returned ",f,l.path);let p=jn(f);typeof f=="object"&&f!=null&&qs(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=rj(t),y=c7(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=x7(t),o.splice(o.indexOf(_),1),i=i.concat(t7(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(hc(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(hc(t.serverSyncTree_,l.currentWriteId,!0))}xl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}hy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Cf(r[a]);qC(t,t.transactionQueueTree_)}function oj(t,e){let n,r=t.transactionQueueTree_;for(n=qe(e);n!==null&&Nu(r)===void 0;)r=zC(r,n),e=yt(e),n=qe(e);return r}function aj(t,e){const n=[];return lj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function lj(t,e,n){const r=Nu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dy(e,i=>{lj(t,i,n)})}function hy(t,e){const n=Nu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZF(e,n.length>0?n:void 0)}dy(e,r=>{hy(t,r)})}function N7(t,e){const n=Tf(oj(t,e)),r=zC(t.transactionQueueTree_,e);return d7(r,i=>{V_(t,i)}),V_(t,r),ej(r,i=>{V_(t,i)}),n}function V_(t,e){const n=Nu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ZF(e,void 0):n.length=s+1,xl(t.eventQueue_,Tf(e),i);for(let o=0;o<r.length;o++)Cf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function P7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Sr(`Invalid query segment '${n}' in query '${t}'`)}return e}const kR=function(t,e){const n=L7(t),r=n.namespace;n.domain==="firebase.com"&&ol(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ol("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dQ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new EQ(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Dt(n.pathString)}},L7=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=O7(t.substring(u,d)));const h=P7(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return We(this._path)?null:bF(this._path)}get ref(){return new Ou(this._repo,this._path)}get _queryIdentifier(){const e=hR(this._queryParams),n=RC(e);return n==="{}"?"default":n}get _queryObject(){return hR(this._queryParams)}isEqual(e){if(e=$t(e),!(e instanceof KC))return!1;const n=this._repo===e._repo,r=CF(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+GQ(this._path)}}class Ou extends KC{constructor(e,n){super(e,n,new PC,!1)}get parent(){const e=SF(this._path);return e===null?null:new Ou(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}J8(Ou);e7(Ou);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7="FIREBASE_DATABASE_EMULATOR_HOST",Db={};let j7=!1;function U7(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ol("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=kR(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[F7]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=kR(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new pb(pb.OWNER):new bQ(t.name,t.options,e);v7("Invalid Firebase Database URL",o),We(o.path)||ol("Database URL must point to the root of a Firebase Database (not including a child path).");const d=B7(a,t,u,new wQ(t.name,n));return new H7(d,t)}function $7(t,e){const n=Db[e];(!n||n[t.key]!==t)&&ol(`Database ${e}(${t.repoInfo_}) has already been deleted.`),A7(t),delete n[t.key]}function B7(t,e,n,r){let i=Db[e.name];i||(i={},Db[e.name]=i);let s=i[t.toURLString()];return s&&ol("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new C7(t,j7,n,r),i[t.toURLString()]=s,s}class H7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(D7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ou(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&($7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ol("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){oQ(ea),$o(new Os("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return U7(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),qr(Gx,Kx,t),qr(Gx,Kx,"esm2017")}xs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};V7();var fy,pe,cj,uj,ru,wa,xR,dj,hj,Tg={},fj=[],W7=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function wo(t,e){for(var n in e)t[n]=e[n];return t}function pj(t){var e=t.parentNode;e&&e.removeChild(t)}function D(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?fy.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return rm(t,o,r,i,null)}function rm(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++cj};return i==null&&pe.vnode!=null&&pe.vnode(s),s}function tr(){return{current:null}}function dt(t){return t.children}function z7(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||kg(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||kg(t,s,e[s],n[s],r)}function RR(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||W7.test(e)?n:n+"px"}function kg(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||RR(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||RR(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?IR:AR,s):t.removeEventListener(e,s?IR:AR,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function AR(t){ru=!0;try{return this.l[t.type+!1](pe.event?pe.event(t):t)}finally{ru=!1}}function IR(t){ru=!0;try{return this.l[t.type+!0](pe.event?pe.event(t):t)}finally{ru=!1}}function Cr(t,e){this.props=t,this.context=e}function Nh(t,e){if(e==null)return t.__?Nh(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Nh(t):null}function mj(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return mj(t)}}function Y7(t){ru?setTimeout(t):dj(t)}function Tb(t){(!t.__d&&(t.__d=!0)&&wa.push(t)&&!xg.__r++||xR!==pe.debounceRendering)&&((xR=pe.debounceRendering)||Y7)(xg)}function xg(){var t,e,n,r,i,s,o,a;for(wa.sort(function(l,c){return l.__v.__b-c.__v.__b});t=wa.shift();)t.__d&&(e=wa.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=wo({},s)).__v=s.__v+1,QC(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Nh(s),s.__h),wj(r,s),s.__e!=o&&mj(s)),wa.length>e&&wa.sort(function(l,c){return l.__v.__b-c.__v.__b}));xg.__r=0}function gj(t,e,n,r,i,s,o,a,l,c){var u,d,h,f,p,m,_,v=r&&r.__k||fj,y=v.length;for(n.__k=[],u=0;u<e.length;u++)if((f=n.__k[u]=(f=e[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?rm(null,f,null,null,f):Array.isArray(f)?rm(dt,{children:f},null,null,null):f.__b>0?rm(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(h=v[u])===null||h&&f.key==h.key&&f.type===h.type)v[u]=void 0;else for(d=0;d<y;d++){if((h=v[d])&&f.key==h.key&&f.type===h.type){v[d]=void 0;break}h=null}QC(t,f,h=h||Tg,i,s,o,a,l,c),p=f.__e,(d=f.ref)&&h.ref!=d&&(_||(_=[]),h.ref&&_.push(h.ref,null,f),_.push(d,f.__c||p,f)),p!=null?(m==null&&(m=p),typeof f.type=="function"&&f.__k===h.__k?f.__d=l=vj(f,l,t):l=yj(t,f,h,v,p,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Nh(h))}for(n.__e=m,u=y;u--;)v[u]!=null&&(typeof n.type=="function"&&v[u].__e!=null&&v[u].__e==n.__d&&(n.__d=_j(r).nextSibling),Ej(v[u],v[u]));if(_)for(u=0;u<_.length;u++)bj(_[u],_[++u],_[++u])}function vj(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?vj(r,e,n):yj(n,r,r,i,r.__e,e));return e}function Rg(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Rg(n,e)}):e.push(t)),e}function yj(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function _j(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=_j(n)))return r}return null}function QC(t,e,n,r,i,s,o,a,l){var c,u,d,h,f,p,m,_,v,y,w,E,T,b,k,x=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(c=pe.__b)&&c(e);try{e:if(typeof x=="function"){if(_=e.props,v=(c=x.contextType)&&r[c.__c],y=c?v?v.props.value:c.__:r,n.__c?m=(u=e.__c=n.__c).__=u.__E:("prototype"in x&&x.prototype.render?e.__c=u=new x(_,y):(e.__c=u=new Cr(_,y),u.constructor=x,u.render=G7),v&&v.sub(u),u.props=_,u.state||(u.state={}),u.context=y,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),x.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=wo({},u.__s)),wo(u.__s,x.getDerivedStateFromProps(_,u.__s))),h=u.props,f=u.state,u.__v=e,d)x.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(x.getDerivedStateFromProps==null&&_!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(_,y),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(_,u.__s,y)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=_,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(L){L&&(L.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(_,u.__s,y),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,f,p)})}if(u.context=y,u.props=_,u.__P=t,E=pe.__r,T=0,"prototype"in x&&x.prototype.render){for(u.state=u.__s,u.__d=!1,E&&E(e),c=u.render(u.props,u.state,u.context),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[]}else do u.__d=!1,E&&E(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++T<25);u.state=u.__s,u.getChildContext!=null&&(r=wo(wo({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(h,f)),k=c!=null&&c.type===dt&&c.key==null?c.props.children:c,gj(t,Array.isArray(k)?k:[k],e,n,r,i,s,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),m&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=q7(n.__e,e,n,r,i,s,o,l);(c=pe.diffed)&&c(e)}catch(L){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),pe.__e(L,e,n)}}function wj(t,e){pe.__c&&pe.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){pe.__e(r,n.__v)}})}function q7(t,e,n,r,i,s,o,a){var l,c,u,d=n.props,h=e.props,f=e.type,p=0;if(f==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((l=s[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){t=l,s[p]=null;break}}if(t==null){if(f===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),s=null,a=!1}if(f===null)d===h||a&&t.data===h||(t.data=h);else{if(s=s&&fy.call(t.childNodes),c=(d=n.props||Tg).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(z7(t,h,d,i,a),u)e.__k=[];else if(p=e.props.children,gj(t,Array.isArray(p)?p:[p],e,n,r,i&&f!=="foreignObject",s,o,s?s[0]:n.__k&&Nh(n,0),a),s!=null)for(p=s.length;p--;)s[p]!=null&&pj(s[p]);a||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||f==="progress"&&!p||f==="option"&&p!==d.value)&&kg(t,"value",p,d.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&kg(t,"checked",p,d.checked,!1))}return t}function bj(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){pe.__e(r,n)}}function Ej(t,e,n){var r,i;if(pe.unmount&&pe.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||bj(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){pe.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Ej(r[i],e,n||typeof t.type!="function");n||t.__e==null||pj(t.__e),t.__=t.__e=t.__d=void 0}function G7(t,e,n){return this.constructor(t,n)}function Oh(t,e,n){var r,i,s;pe.__&&pe.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],QC(e,t=(!r&&n||e).__k=D(dt,null,[t]),i||Tg,Tg,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?fy.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),wj(s,t)}function K7(t,e){var n={__c:e="__cC"+hj++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Tb(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}fy=fj.slice,pe={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},cj=0,uj=function(t){return t!=null&&t.constructor===void 0},ru=!1,Cr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wo({},this.state),typeof t=="function"&&(t=t(wo({},n),this.props)),t&&wo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Tb(this))},Cr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Tb(this))},Cr.prototype.render=dt,wa=[],dj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xg.__r=0,hj=0;var Ti,W_,MR,Sj=[],z_=[],NR=pe.__b,OR=pe.__r,PR=pe.diffed,LR=pe.__c,FR=pe.unmount;function Q7(){for(var t;t=Sj.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(im),t.__H.__h.forEach(kb),t.__H.__h=[]}catch(e){t.__H.__h=[],pe.__e(e,t.__v)}}pe.__b=function(t){Ti=null,NR&&NR(t)},pe.__r=function(t){OR&&OR(t);var e=(Ti=t.__c).__H;e&&(W_===Ti?(e.__h=[],Ti.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=z_,n.__N=n.i=void 0})):(e.__h.forEach(im),e.__h.forEach(kb),e.__h=[])),W_=Ti},pe.diffed=function(t){PR&&PR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Sj.push(e)!==1&&MR===pe.requestAnimationFrame||((MR=pe.requestAnimationFrame)||X7)(Q7)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==z_&&(n.__=n.__V),n.i=void 0,n.__V=z_})),W_=Ti=null},pe.__c=function(t,e){e.some(function(n){try{n.__h.forEach(im),n.__h=n.__h.filter(function(r){return!r.__||kb(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],pe.__e(r,n.__v)}}),LR&&LR(t,e)},pe.unmount=function(t){FR&&FR(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{im(r)}catch(i){e=i}}),n.__H=void 0,e&&pe.__e(e,n.__v))};var jR=typeof requestAnimationFrame=="function";function X7(t){var e,n=function(){clearTimeout(r),jR&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);jR&&(e=requestAnimationFrame(n))}function im(t){var e=Ti,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ti=e}function kb(t){var e=Ti;t.__c=t.__(),Ti=e}function Z7(t,e){for(var n in e)t[n]=e[n];return t}function UR(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function $R(t){this.props=t}($R.prototype=new Cr).isPureReactComponent=!0,$R.prototype.shouldComponentUpdate=function(t,e){return UR(this.props,t)||UR(this.state,e)};var BR=pe.__b;pe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),BR&&BR(t)};var J7=pe.__e;pe.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}J7(t,e,n,r)};var HR=pe.unmount;function Cj(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Z7({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Cj(r,e,n)})),t}function Dj(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Dj(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Y_(){this.__u=0,this.t=null,this.__b=null}function Tj(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function vp(){this.u=null,this.o=null}pe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),HR&&HR(t)},(Y_.prototype=new Cr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Tj(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=Dj(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Y_.prototype.componentWillUnmount=function(){this.t=[]},Y_.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Cj(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&D(dt,null,t.fallback);return i&&(i.__h=null),[D(dt,null,e.__a?null:t.children),i]};var VR=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function eX(t){return this.getChildContext=function(){return t.context},t.children}function tX(t){var e=this,n=t.i;e.componentWillUnmount=function(){Oh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Oh(D(eX,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function nX(t,e){var n=D(tX,{__v:t,i:e});return n.containerInfo=e,n}(vp.prototype=new Cr).__a=function(t){var e=this,n=Tj(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),VR(e,t,r)):i()};n?n(s):s()}},vp.prototype.render=function(t){this.u=null,this.o=new Map;var e=Rg(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},vp.prototype.componentDidUpdate=vp.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){VR(t,n,e)})};var rX=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,iX=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,sX=typeof document<"u",oX=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Cr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Cr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var WR=pe.event;function aX(){}function lX(){return this.cancelBubble}function cX(){return this.defaultPrevented}pe.event=function(t){return WR&&(t=WR(t)),t.persist=aX,t.isPropagationStopped=lX,t.isDefaultPrevented=cX,t.nativeEvent=t};var zR={configurable:!0,get:function(){return this.class}},YR=pe.vnode;pe.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];sX&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!oX(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&iX.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Rg(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Rg(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(zR.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",zR))}t.$$typeof=rX,YR&&YR(t)};var qR=pe.__r;pe.__r=function(t){qR&&qR(t),t.__c};const kj=[],xb=new Map;function py(t){kj.push(t),xb.forEach(e=>{Rj(e,t)})}function uX(t){t.isConnected&&t.getRootNode&&xj(t.getRootNode())}function xj(t){let e=xb.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=hX();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}xb.set(t,e),dX(e)}}function dX(t){for(const e of kj)Rj(t,e)}function Rj(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let q_;function hX(){return q_===void 0&&(q_=fX()),q_}function fX(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&xj(document);var pX=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';py(pX);class XC{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function ZC(t){t.parentNode&&t.parentNode.removeChild(t)}function $n(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(mX(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function mX(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function gX(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const vX=/(top|left|right|bottom|width|height)$/i;function Hd(t,e){for(let n in e)Aj(t,n,e[n])}function Aj(t,e,n){n==null?t.style[e]="":typeof n=="number"&&vX.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Ij(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let GR=0;function Lo(){return GR+=1,"fc-dom-"+GR}function my(t){t.preventDefault()}function yX(t,e){return n=>{let r=$n(n.target,t);r&&e.call(r,n,r)}}function Mj(t,e,n,r){let i=yX(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function _X(t,e,n,r){let i;return Mj(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const KR=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function wX(t,e){let n=r=>{e(r),KR.forEach(i=>{t.removeEventListener(i,n)})};KR.forEach(r=>{t.addEventListener(r,n)})}function Nj(t){return Object.assign({onClick:t},Oj(t))}function Oj(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let QR=0;function Rl(){return QR+=1,String(QR)}function JC(){document.body.classList.add("fc-not-allowed")}function eD(){document.body.classList.remove("fc-not-allowed")}function bX(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",my)}function EX(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",my)}function SX(t){t.addEventListener("contextmenu",my)}function CX(t){t.removeEventListener("contextmenu",my)}function DX(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function TX(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=kX(t,e,n[r]),i)return i;return 0}function kX(t,e,n){return n.func?n.func(t,e):xX(t[n.field],e[n.field])*(n.order||1)}function xX(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Ac(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Vd(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function RX(t,e){return t-e}function sm(t){return t%1===0}function AX(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const XR=["years","months","days","milliseconds"],IX=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ve(t,e){return typeof t=="string"?MX(t):typeof t=="object"&&t?ZR(t):typeof t=="number"?ZR({[e||"milliseconds"]:t}):null}function MX(t){let e=IX.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function ZR(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function NX(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Rb(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function OX(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function PX(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function LX(t){return Ic(t)/365}function FX(t){return Ic(t)/30}function Ic(t){return ai(t)/864e5}function ai(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function tD(t,e){let n=null;for(let r=0;r<XR.length;r+=1){let i=XR[r];if(e[i]){let s=t[i]/e[i];if(!sm(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function Ab(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function qo(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const jX=["sun","mon","tue","wed","thu","fri","sat"];function JR(t,e){let n=bo(t);return n[2]+=e*7,ur(n)}function mn(t,e){let n=bo(t);return n[2]+=e,ur(n)}function Go(t,e){let n=bo(t);return n[6]+=e,ur(n)}function UX(t,e){return aa(t,e)/7}function aa(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function $X(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function BX(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function HX(t,e){return(e.valueOf()-t.valueOf())/1e3}function VX(t,e){let n=ht(t),r=ht(e);return{years:0,months:0,days:Math.round(aa(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function WX(t,e){let n=Ag(t,e);return n!==null&&n%7===0?n/7:null}function Ag(t,e){return Eo(t)===Eo(e)?Math.round(aa(t,e)):null}function ht(t){return ur([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function zX(t){return ur([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function YX(t){return ur([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function qX(t){return ur([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function GX(t,e,n){let r=t.getUTCFullYear(),i=G_(t,r,e,n);if(i<1)return G_(t,r-1,e,n);let s=G_(t,r+1,e,n);return s>=1?Math.min(i,s):i}function G_(t,e,n,r){let i=ur([e,0,1+KX(e,n,r)]),s=ht(t),o=Math.round(aa(i,s));return Math.floor(o/7)+1}function KX(t,e,n){let r=7+e-n;return-((7+ur([t,0,r]).getUTCDay()-e)%7)+r-1}function eA(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function tA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function bo(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function ur(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Pj(t){return!isNaN(t.valueOf())}function Eo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Lj(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",nD(e,!0)))),r}function kf(t){return t.toISOString().replace(/T.*$/,"")}function QX(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function XX(t){return Ac(t.getUTCHours(),2)+":"+Ac(t.getUTCMinutes(),2)+":"+Ac(t.getUTCSeconds(),2)}function nD(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+Ac(i,2)}:${Ac(s,2)}`:`GMT${n}${i}${s?`:${Ac(s,2)}`:""}`}function fe(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!qo(r,s)){n&&n(i);let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function om(t,e,n){let r,i;return s=>{if(!r)i=t.call(this,s);else if(!ss(r,s)){n&&n(i);let o=t.call(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}const nA={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ig={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},yp=/\s*([ap])\.?m\.?/i,ZX=/,/g,JX=/\s+/g,eZ=/\u200e/g,tZ=/UTC|GMT/;class nZ{constructor(e){let n={},r={},i=0;for(let s in e)s in nA?(r[s]=e[s],i=Math.max(nA[s],i)):(n[s]=e[s],s in Ig&&(i=Math.max(Ig[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=fe(rA)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=lZ(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let d=cZ(s,l),h=rA(d,o,r),f=h(e),p=h(n),m=uZ(c,f,u,p),_=o.separator||i||r.defaultSeparator||"";return m?m.before+f+_+p+m.after:c+_+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function rA(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>nD(i.timeZoneOffset):r===0&&e.week?i=>aZ(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):rZ(t,e,n)}function rZ(t,e,n){t=Object.assign({},t),e=Object.assign({},e),iZ(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return sZ(l,s,t,e,n)}}function iZ(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function sZ(t,e,n,r,i){return t=t.replace(eZ,""),n.timeZoneName==="short"&&(t=oZ(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":nD(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(ZX,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(yp,"").trim():r.meridiem==="narrow"?t=t.replace(yp,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(yp,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(yp,s=>s.toLocaleLowerCase())),t=t.replace(JX," "),t=t.trim(),t}function oZ(t,e){let n=!1;return t=t.replace(tZ,()=>(n=!0,e)),n||(t+=` ${e}`),t}function aZ(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function lZ(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Eo(t)!==Eo(e)?1:0}function cZ(t,e){let n={};for(let r in t)(!(r in Ig)||Ig[r]<=e)&&(n[r]=t[r]);return n}function uZ(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let d=n.substr(l);if(o===u&&a===d)return{before:o,after:a}}}return null}function iA(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Mg(t,e,n,r){let i=iA(t,n.calendarSystem),s=e?iA(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class dZ{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Mg(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Mg(e,n,r,i))}}class hZ{constructor(e){this.func=e}format(e,n,r){return this.func(Mg(e,null,n,r))}formatRange(e,n,r,i){return this.func(Mg(e,n,r,i))}}function wt(t){return typeof t=="object"&&t?new nZ(t):typeof t=="string"?new dZ(t):typeof t=="function"?new hZ(t):null}const sA={navLinkDayClick:M,navLinkWeekClick:M,duration:Ve,bootstrapFontAwesome:M,buttonIcons:M,customButtons:M,defaultAllDayEventDuration:Ve,defaultTimedEventDuration:Ve,nextDayThreshold:Ve,scrollTime:Ve,scrollTimeReset:Boolean,slotMinTime:Ve,slotMaxTime:Ve,dayPopoverFormat:wt,slotDuration:Ve,snapDuration:Ve,headerToolbar:M,footerToolbar:M,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:wt,dayHeaderClassNames:M,dayHeaderContent:M,dayHeaderDidMount:M,dayHeaderWillUnmount:M,dayCellClassNames:M,dayCellContent:M,dayCellDidMount:M,dayCellWillUnmount:M,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:M,weekNumbers:Boolean,weekNumberClassNames:M,weekNumberContent:M,weekNumberDidMount:M,weekNumberWillUnmount:M,editable:Boolean,viewClassNames:M,viewDidMount:M,viewWillUnmount:M,nowIndicator:Boolean,nowIndicatorClassNames:M,nowIndicatorContent:M,nowIndicatorDidMount:M,nowIndicatorWillUnmount:M,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:M,locale:M,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:M,eventOrder:DX,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:M,contentHeight:M,direction:String,weekNumberFormat:wt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:M,initialDate:M,now:M,eventDataTransform:M,stickyHeaderDates:M,stickyFooterScrollbar:M,viewHeight:M,defaultAllDay:Boolean,eventSourceFailure:M,eventSourceSuccess:M,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:M,eventConstraint:M,eventAllow:M,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:M,eventContent:M,eventDidMount:M,eventWillUnmount:M,selectConstraint:M,selectOverlap:M,selectAllow:M,droppable:Boolean,unselectCancel:String,slotLabelFormat:M,slotLaneClassNames:M,slotLaneContent:M,slotLaneDidMount:M,slotLaneWillUnmount:M,slotLabelClassNames:M,slotLabelContent:M,slotLabelDidMount:M,slotLabelWillUnmount:M,dayMaxEvents:M,dayMaxEventRows:M,dayMinWidth:Number,slotLabelInterval:Ve,allDayText:String,allDayClassNames:M,allDayContent:M,allDayDidMount:M,allDayWillUnmount:M,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:wt,rerenderDelay:Number,moreLinkText:M,moreLinkHint:M,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:M,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ve,hiddenDays:M,fixedWeekCount:Boolean,validRange:M,visibleRange:M,titleFormat:M,eventInteractive:Boolean,noEventsText:String,viewHint:M,navLinkHint:M,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:M,moreLinkClassNames:M,moreLinkContent:M,moreLinkDidMount:M,moreLinkWillUnmount:M,monthStartFormat:wt,handleCustomRendering:M,customRenderingMetaMap:M,customRenderingReplaces:Boolean},Wd={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},oA={datesSet:M,eventsSet:M,eventAdd:M,eventChange:M,eventRemove:M,windowResize:M,eventClick:M,eventMouseEnter:M,eventMouseLeave:M,select:M,unselect:M,loading:M,_unmount:M,_beforeprint:M,_afterprint:M,_noEventDrop:M,_noEventResize:M,_resize:M,_scrollRequest:M},aA={buttonText:M,buttonHints:M,views:M,plugins:M,initialEvents:M,events:M,eventSources:M},ga={headerToolbar:va,footerToolbar:va,buttonText:va,buttonHints:va,buttonIcons:va,dateIncrement:va,plugins:_p,events:_p,eventSources:_p,resources:_p};function va(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?ss(t,e):t===e}function _p(t,e){return Array.isArray(t)&&Array.isArray(e)?qo(t,e):t===e}const fZ={type:String,component:M,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:M,usesMinMaxTime:Boolean,classNames:M,content:M,didMount:M,willUnmount:M};function K_(t){return iD(t,ga)}function rD(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function M(t){return t}const{hasOwnProperty:Ng}=Object.prototype;function iD(t,e){let n={};if(e){for(let r in e)if(e[r]===va){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=iD(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function ul(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Ws(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Fj(t){let e={};for(let n of t)e[n]=!0;return e}function sD(t){let e=[];for(let n in t)e.push(t[n]);return e}function ss(t,e){if(t===e)return!0;for(let n in t)if(Ng.call(t,n)&&!(n in e))return!1;for(let n in e)if(Ng.call(e,n)&&t[n]!==e[n])return!1;return!0}const pZ=/^on[A-Z]/;function mZ(t,e){const n=Ib(t,e);for(let r of n)if(!pZ.test(r))return!1;return!0}function Ib(t,e){let n=[];for(let r in t)Ng.call(t,r)&&(r in e||n.push(r));for(let r in e)Ng.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Q_(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&gZ(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function gZ(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function vZ(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let jj={};function yZ(t,e){jj[t]=e}function _Z(t){return new jj[t]}class wZ{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return ur(e)}markerToArray(e){return bo(e)}}yZ("gregory",wZ);const bZ=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function EZ(t){let e=bZ.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Pj(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class SZ{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=_Z(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ur(eA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=ur(e)),n===null||!Pj(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=EZ(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Eo(e)===Eo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Eo(e)===Eo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=WX(e,n),r!==null?{unit:"week",value:r}:(r=Ag(e,n),r!==null?{unit:"day",value:r}:(r=$X(e,n),sm(r)?{unit:"hour",value:r}:(r=BX(e,n),sm(r)?{unit:"minute",value:r}:(r=HX(e,n),sm(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/LX(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/FX(r):r.days&&(i=Ag(e,n),i!==null)?i/Ic(r):(n.valueOf()-e.valueOf())/ai(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?ht(e):n==="hour"?zX(e):n==="minute"?YX(e):n==="second"?qX(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):GX(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Go(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),Lj(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?ur(eA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ur(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-tA(bo(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(bo(e)):null}toDate(e,n){return this.timeZone==="local"?tA(bo(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(bo(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class xf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}xf.prototype.classes={};xf.prototype.iconClasses={};xf.prototype.baseIconClass="";xf.prototype.iconOverridePrefix="";function Og(t){t();let e=pe.debounceRendering,n=[];function r(i){n.push(i)}for(pe.debounceRendering=r,Oh(D(CZ,{}),document.createElement("div"));n.length;)n.shift()();pe.debounceRendering=e}class CZ extends Cr{render(){return D("div",{})}componentDidMount(){this.setState({})}}function Uj(t){let e=K7(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}class DZ{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ks=Uj({});function TZ(t,e,n,r,i,s,o,a,l,c,u,d,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(f){c.on("_resize",f)},removeResizeHandler(f){c.off("_resize",f)},createScrollResponder(f){return new DZ(f,c,Ve(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:h}}class Al extends Cr{shouldComponentUpdate(e,n){return this.debug&&console.log(Ib(e,this.props),Ib(n,this.state)),!Q_(this.props,e,this.propEquality)||!Q_(this.state,n,this.stateEquality)}safeSetState(e){Q_(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Al.addPropsEquality=kZ;Al.addStateEquality=xZ;Al.contextType=Ks;Al.prototype.propEquality={};Al.prototype.stateEquality={};class Je extends Al{}Je.contextType=Ks;function kZ(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function xZ(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function zs(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class oD extends Je{constructor(){super(...arguments),this.id=Rl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Mb(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&zs(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=$j(e,[],this.handleEl);let l=!1,c,u=[],d;if(i!=null){const h=typeof i=="function"?i(o,D):i;if(h===!0)l=!0;else{const f=h&&typeof h=="object";f&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(f?uj(h):typeof h!="function")?c=h:d=h}}else l=!Mb(e.generatorName,r);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,D(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(RZ)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!qo(e,n)){n.forEach(ZC);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}oD.addPropsEquality({elClasses:qo,elStyle:ss,elAttrs:mZ,renderProps:ss});function Mb(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function $j(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function RZ(t){return!!t}const Bj=Uj(0);class Yn extends Cr{constructor(){super(...arguments),this.InnerContent=AZ.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(zs(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=IZ(e.classNameGenerator,e.renderProps);if(e.children){const r=$j(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?D(e.elTag,r,i):i}else return D(oD,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Yn.contextType=Bj;function AZ(t,e){const n=t.props;return D(oD,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function IZ(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Ph extends Je{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return D(Yn,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Hj(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function Hj(t){return[`fc-${t.type}-view`,"fc-view"]}function MZ(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function lA(t,e){let n=[],{start:r}=e,i,s;for(t.sort(NZ),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function NZ(t,e){return t.start.valueOf()-e.start.valueOf()}function Ko(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function OZ(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function aD(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function gy(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Rs(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function PZ(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Vj(t){let e=Math.floor(aa(t.start,t.end))||1,n=ht(t.start),r=mn(n,e);return{start:n,end:r}}function lD(t,e=Ve(0)){let n=null,r=null;if(t.end){r=ht(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=ai(e)&&(r=mn(r,1))}return t.start&&(n=ht(t.start),r&&r<=n&&(r=mn(n,1))),{start:n,end:r}}function LZ(t){let e=lD(t);return aa(e.start,e.end)>1}function fc(t,e,n,r){return r==="year"?Ve(n.diffWholeYears(t,e),"year"):r==="month"?Ve(n.diffWholeMonths(t,e),"month"):VX(t,e)}function FZ(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function jZ(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Rf(t.now,e)}function Rf(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class Wj{constructor(e){this.props=e,this.nowDate=Rf(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=PZ(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=Ko(c,o.range)),c=this.adjustActiveRange(c),c=Ko(c,s),u=aD(o.range,s),Rs(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=Ab(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return Ve({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(Ic(i)<0&&(o=ht(o),o=n.add(o,i)),Ic(s)>1&&(a=ht(a),a=mn(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:d}=this.props;d&&ai(d)<ai(r)?o=Ab(d).unit:o=i}Ic(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=ht(a));function u(){a=s.startOf(e,o),l=s.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=ht(a),a=this.skipHiddenDays(a,n),l=a;do l=mn(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Ve(1,r):e||Ve({days:1}))}refineRange(e){if(e){let n=MZ(e,this.props.dateEnv);return n&&(n=lD(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=mn(e,n);return e}}function cD(t,e,n,r){return{instanceId:Rl(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function UZ(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function dl(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=ul(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let d=$Z(c,u,e,r,i.recurringTypes);for(let h of d){let f=cD(l,{start:h,end:r.add(h,u)});a[f.instanceId]=f}}}return{defs:o,instances:a}}function $Z(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(ht)),o}const am={id:String,groupId:String,title:String,url:String,interactive:Boolean},zj={start:M,end:M,date:M,allDay:Boolean},BZ=Object.assign(Object.assign(Object.assign({},am),zj),{extendedProps:M});function Yj(t,e,n,r,i=uD(n),s,o){let{refined:a,extra:l}=qj(t,n,i),c=VZ(e,n),u=UZ(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=Nb(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,s);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=HZ(a,c,n,r);if(d){let h=Nb(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,s),f=cD(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(f.instanceId=o[h.publicId]),{def:h,instance:f}}return null}function qj(t,e,n=uD(e)){return rD(t,n)}function uD(t){return Object.assign(Object.assign(Object.assign({},Pg),BZ),t.pluginHooks.eventRefiners)}function Nb(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Rl(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Lg(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function HZ(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=ht(o)),l&&(c=l.marker,i&&(c=ht(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function VZ(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Lh(t,e,n,r,i,s){let o=Dr(),a=uD(n);for(let l of t){let c=Yj(l,e,n,r,a,i,s);c&&Ob(c,o)}return o}function Ob(t,e=Dr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function dD(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=vy(t,s=>WZ(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Dr()}function WZ(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Dr(){return{defs:{},instances:{}}}function hD(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function vy(t,e){let n=ul(t.defs,e),r=ul(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function zZ(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function YZ(t,e){return Array.isArray(t)?Lh(t,null,e,!0):typeof t=="object"&&t?Lh([t],null,e,!0):t!=null?String(t):null}function cA(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Pg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:M,overlap:M,allow:M,className:cA,classNames:cA,color:String,backgroundColor:String,borderColor:String,textColor:String},qZ={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Lg(t,e){let n=YZ(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Gj(t){return t.reduce(GZ,qZ)}function GZ(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const KZ={id:String,defaultAllDay:Boolean,url:String,format:String,events:M,eventDataTransform:M,success:M,failure:M};function Kj(t,e,n=Qj(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=rD(r,n),o=QZ(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Rl(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Lg(i,e),extendedProps:s}}return null}function Qj(t){return Object.assign(Object.assign(Object.assign({},Pg),KZ),t.pluginHooks.eventSourceRefiners)}function QZ(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function XZ(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return ZZ(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return JZ(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return eJ(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return hD(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?dl(t,r.activeRange,i):t;case"REMOVE_EVENTS":return zZ(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Zj(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return vy(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Dr();default:return t}}function ZZ(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Lh(Xj(i,e,s),e,s);return r&&(o=dl(o,r,s)),hD(Zj(t,e.sourceId),o)}return t}function JZ(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=nJ(t);let a=Lh(Xj(n,e,i),e,i,!1,s,o);return dl(a,r,i)}function Xj(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=uA(t,i)),r&&(t=uA(t,r)),t}function uA(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function eJ(t,e,n,r){return n&&(e=dl(e,n,r)),hD(t,e)}function dA(t,e,n){let{defs:r}=t,i=Ws(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function Zj(t,e){return vy(t,n=>n.sourceId!==e)}function tJ(t,e){return{defs:t.defs,instances:ul(t.instances,n=>!e[n.instanceId])}}function nJ(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){const o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}class yy{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){rJ(this.handlers,e,n)}off(e,n){iJ(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function rJ(t,e,n){(t[e]||(t[e]=[])).push(n)}function iJ(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const sJ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function oJ(t,e){return Lh(aJ(t),null,e)}function aJ(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},sJ),n)),e}function Jj(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},fD(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function lJ(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function fD(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,EJ(t,e.dateEnv)),n}function hA(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=ht(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function pD(t,e,n,r){let i=Fg(t.defs,e),s=Dr();for(let o in t.defs){let a=t.defs[o];s.defs[o]=cJ(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=uJ(a,l,i[a.defId],n,r)}return s}function cJ(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function uJ(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=Vj(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:hA(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:ht(l.range.start),end:ht(l.range.end)}),l.range.end<l.range.start&&(l.range.end=hA(e.allDay,l.range.start,i)),l}class ql{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Rt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in zj)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=am[e](n),this.mutate({standardProps:{publicId:n}});else if(e in am)n=am[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Pg){let r=Pg[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=fc(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=fc(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=Vj(l));let c=fc(l.start,o,i,r.granularity);if(a){let u=fc(l.end,a,i,r.granularity);NX(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let n=Ve(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Ve(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Ve(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=wt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=dD(s,n.instanceId);o=pD(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Rt(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ua(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=eU(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new ql(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function eU(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ua(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==o&&s.push(new Rt(e,c,l))}return s}function Pb(t,e,n,r){let i={},s={},o={},a=[],l=[],c=Fg(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):s[u]=[])}for(let u in t.instances){let d=t.instances[u],h=t.defs[d.defId],f=c[h.defId],p=d.range,m=!h.allDay&&r?lD(p,r):p,_=Ko(m,n);_&&(f.display==="inverse-background"?h.groupId?i[h.groupId].push(_):s[d.defId].push(_):f.display!=="none"&&(f.display==="background"?a:l).push({def:h,ui:f,instance:d,range:_,isStart:m.start&&m.start.valueOf()===_.start.valueOf(),isEnd:m.end&&m.end.valueOf()===_.end.valueOf()}))}for(let u in i){let d=i[u],h=lA(d,n);for(let f of h){let p=o[u],m=c[p.defId];a.push({def:p,ui:m,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let u in s){let d=s[u],h=lA(d,n);for(let f of h)a.push({def:t.defs[u],ui:c[u],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function dJ(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function fA(t,e){t.fcSeg=e}function iu(t){return t.fcSeg||t.parentNode.fcSeg||null}function Fg(t,e){return Ws(t,n=>tU(n,e))}function tU(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),Gj(n)}function mD(t,e){let n=t.map(hJ);return n.sort((r,i)=>TX(r,i,e)),n.map(r=>r._seg)}function hJ(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function fJ(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function pJ(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function mJ(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function zd(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let f=h.range.start,p=h.range.end,m=s||t.start||t.eventRange.range.start,_=o||t.end||t.eventRange.range.end,v=ht(f).valueOf()===ht(m).valueOf(),y=ht(Go(p,-1)).valueOf()===ht(Go(_,-1)).valueOf();return c&&!d.allDay&&(v||y)?(m=v?f:m,_=y?p:_,u&&d.hasEnd?a.formatRange(m,_,e,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):a.format(m,e,{forcedTzo:s?null:h.forcedStartTzo})):""}function As(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Rs(e,r.start)}}function gJ(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function nU(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function gD(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?Oj(l=>{s.trigger("eventClick",{el:l.target,event:new Rt(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const vJ={start:M,end:M,allDay:Boolean};function yJ(t,e,n){let r=_J(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function _J(t,e){let{refined:n,extra:r}=rD(t,vJ),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function wJ(t,e){return OZ(t.range,e.range)&&t.allDay===e.allDay&&bJ(t,e)}function bJ(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function EJ(t,e){return Object.assign(Object.assign({},iU(t.range,e,t.allDay)),{allDay:t.allDay})}function rU(t,e,n){return Object.assign(Object.assign({},iU(t,e,n)),{timeZone:e.timeZone})}function iU(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function SJ(t,e,n){let r=qj({editable:!1},n),i=Nb(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:tU(i,e),instance:cD(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function CJ(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class pA extends Error{constructor(e,n){super(e),this.response=n}}function DJ(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new pA("Failure parsing JSON",i)});throw new pA("Request failed",i)})}let X_;function sU(){return X_==null&&(X_=TJ()),X_}function TJ(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class kJ extends Je{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Og(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Og(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return sU()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Pu{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function xJ(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function vD(t){return{[t.component.uid]:t}}const Lb={};class RJ{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Rf(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Ve(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),wt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),wt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=yJ(r,i.dateEnv,Ve({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),Jj(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),lJ(e,n))}addEvent(e,n){if(e instanceof Rt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ob({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof ql)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=sD(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=Yj(e,i,r,!1);if(s){let o=new Rt(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ob(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:eU(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new Rt(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new Rt(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ua(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new ql(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new ql(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof ql)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Kj(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new ql(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Ve(e);n&&this.trigger("_scrollRequest",{time:n})}}function AJ(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function oU(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function IJ(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function MJ(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function NJ(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Z_=Dr();class OJ{constructor(){this.getKeysForEventDefs=fe(this._getKeysForEventDefs),this.splitDateSelection=fe(this._splitDateSpan),this.splitEventStore=fe(this._splitEventStore),this.splitIndividualUi=fe(this._splitIndividualUi),this.splitEventDrag=fe(this._splitInteraction),this.splitEventResize=fe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Ws(n,(u,d)=>this.eventUiBuilders[d]||fe(PJ));for(let u in n){let d=n[u],h=o[u]||Z_,f=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:i[u]||null,eventStore:h,eventUiBases:f(e.eventUiBases[""],d.ui,s[u]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return Ws(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let a of n[o])s[a]||(s[a]=Dr()),s[a].defs[o]=r[o];for(let o in i){let a=i[o];for(let l of n[a.defId])s[l]&&(s[l].instances[o]=a)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=a=>{n[a]||(n[a]={affectedEvents:r[a]||Z_,mutatedEvents:s[a]||Z_,isEvent:e.isEvent})};for(let a in r)o(a);for(let a in s)o(a)}return n}}function PJ(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":Gj(r)};return n&&Object.assign(i,n),i}function yD(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Rs(r.activeRange,t)),isOther:!!(r&&!Rs(r.currentRange,t)),isToday:!!(e&&Rs(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function _y(t,e){let n=["fc-day",`fc-day-${jX[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const LJ=wt({year:"numeric",month:"long",day:"numeric"}),FJ=wt({week:"long"});function su(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let a=i.format(e,n==="week"?FJ:LJ);if(s.navLinks){let l=i.toDate(e);const c=u=>{let d=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof d=="function"?d.call(o,i.toDate(e),u):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:Vd(s.navLinkHint,[a,l],a),"data-navlink":""},r?Nj(c):{onClick:c})}return{"aria-label":a}}let J_=null;function jJ(){return J_===null&&(J_=UJ()),J_}function UJ(){let t=document.createElement("div");Hd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return ZC(t),n}let ew;function $J(){return ew||(ew=BJ()),ew}function BJ(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=aU(t);return document.body.removeChild(t),e}function aU(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function HJ(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=aU(t),l=a.y-r-i,c=a.x-s-o,u={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return jJ()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function VJ(t,e=!1,n){let r=n?t.getBoundingClientRect():_D(t),i=HJ(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function _D(t){let e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function WJ(t){let e=lU(t),n=t.getBoundingClientRect();for(let r of e){let i=oU(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function lU(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class ou{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return wp(this.tops||[],e.tops||[])&&wp(this.bottoms||[],e.bottoms||[])&&wp(this.lefts||[],e.lefts||[])&&wp(this.rights||[],e.rights||[])}}function wp(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class wD{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class zJ extends wD{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class YJ extends wD{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class bi extends Je{constructor(){super(...arguments),this.uid=Rl()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!$n(e,".fc-event-mirror")}isValidDateDownEl(e){return!$n(e,".fc-event:not(.fc-bg-event)")&&!$n(e,".fc-more-link")&&!$n(e,"a[data-navlink]")&&!$n(e,".fc-popover")}}class cU{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:bD(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(tw(i,n.level,n.levelCoord),tw(r,n.level,[e])):tw(r[n.level],n.lateral,e),this.stackCnts[$a(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,u=null,d=0;for(let p=0;p<o;p+=1){const m=n[p];if(!i&&m>=a+this.getEntryThickness(e))break;let _=r[p],v,y=jb(_,e.span.start,Fb),w=y[0]+y[1];for(;(v=_[w])&&v.span.start<e.span.end;){let E=m+this.getEntryThickness(v);E>a&&(a=E,u=v,l=p,c=w),E===a&&(d=Math.max(d,s[$a(v)]+1)),w+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let f=-1;return h<o&&n[h]===a&&(f=jb(r[h],e.span.end,Fb)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:a,level:h,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function Fb(t){return t.span.end}function $a(t){return t.index+":"+t.span.start}function qJ(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)bD(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:GJ(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function GJ(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function bD(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function tw(t,e,n){t.splice(e,0,n)}function jb(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class KJ{constructor(e,n){this.emitter=new yy}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const ED={};function QJ(t,e){return!t||e>10?wt({weekday:"short"}):e>1?wt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):wt({weekday:"long"})}const uU="fc-col-header-cell";function dU(t){return t.text}class XJ extends Je{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=yD(o,s.todayRange,null,a),c=[uU].concat(_y(l,r)),u=e.format(o,s.dayHeaderFormat),d=!l.isDisabled&&s.colCnt>1?su(this.context,o):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:u}),l);return D(Yn,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:kf(o)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:dU,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},f=>D("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&D(f,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const ZJ=wt({weekday:"long"});class JJ extends Je{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=mn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return D(Yn,{elTag:"th",elClasses:[uU,..._y(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:dU,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>D("div",{className:"fc-scrollgrid-sync-inner"},D(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,ZJ)}})))}}class Lu extends Cr{constructor(e,n){super(e,n),this.initialNowDate=Rf(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=Go(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,Ve(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:mA(i)},nextState:{nowDate:s,todayRange:mA(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Lu.contextType=Ks;function mA(t){let e=ht(t),n=mn(e,1);return{start:e,end:n}}class hU extends Je{constructor(){super(...arguments),this.createDayHeaderFormatter=fe(eee)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return D(Lu,{unit:"day"},(a,l)=>D("tr",{role:"row"},s&&s("day"),n.map(c=>i?D(XJ,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):D(JJ,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function eee(t,e,n){return t||QJ(e,n)}class fU{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=mn(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(mn(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(aa(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class pU{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&c-1===o}),a=c}}return i}}class mU{constructor(){this.sliceBusinessHours=fe(this._sliceBusinessHours),this.sliceDateSelection=fe(this._sliceDateSpan),this.sliceEventStore=fe(this._sliceEventStore),this.sliceEventDrag=fe(this._sliceInteraction),this.sliceEventResize=fe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Go(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(dl(e,bp(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=Pb(e,n,bp(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=Pb(e.mutatedEvents,n,bp(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=bp(n,!!r),l=Ko(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=SJ(e,i,s),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:mn(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function bp(t,e){let n=t.activeRange;return e?n:{start:Go(n.start,t.slotMinTime.milliseconds),end:Go(n.end,t.slotMaxTime.milliseconds-864e5)}}function gU(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!gy(e.validRange,r[i].range))return!1;return vU({eventDrag:t},n)}function tee(t,e,n){return gy(e.validRange,t.range)?vU({dateSelection:t},n):!1}function vU(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||nee)(r,e)}function nee(t,e,n={},r){return!(t.eventDrag&&!ree(t,e,n,r)||t.dateSelection&&!iee(t,e,n,r))}function ree(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=Fg(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=Ws(c,r));let u=tJ(t.eventStore,s.affectedEvents.instances),d=u.defs,h=u.instances,f=Fg(d,t.eventUiBases);for(let p in l){let m=l[p],_=m.range,v=c[m.defId],y=a[m.defId];if(!yU(v.constraints,_,u,t.businessHours,e))return!1;let{eventOverlap:w}=e.options,E=typeof w=="function"?w:null;for(let b in h){let k=h[b];if(aD(_,k.range)&&(f[k.defId].overlap===!1&&s.isEvent||v.overlap===!1||E&&!E(new Rt(e,d[k.defId],k),new Rt(e,y,m))))return!1}let T=i.eventStore;for(let b of v.allows){let k=Object.assign(Object.assign({},n),{range:m.range,allDay:y.allDay}),x=T.defs[y.defId],L=T.instances[p],$;if(x?$=new Rt(e,x,L):$=new Rt(e,y),!b(fD(k,e),$))return!1}}return!0}function iee(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!yU(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let h in o){let f=o[h];if(aD(l,f.range)&&(c.overlap===!1||d&&!d(new Rt(e,s[f.defId],f),null)))return!1}for(let h of c.allows){let f=Object.assign(Object.assign({},n),a);if(!h(fD(f,e),null))return!1}return!0}function yU(t,e,n,r,i){for(let s of t)if(!oee(see(s,e,n,r,i),e))return!1;return!0}function see(t,e,n,r,i){return t==="businessHours"?nw(dl(r,e,i)):typeof t=="string"?nw(vy(n,s=>s.groupId===t)):typeof t=="object"&&t?nw(dl(t,e,i)):[]}function nw(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function oee(t,e){for(let n of t)if(gy(n,e))return!0;return!1}const Ep=/^(visible|hidden)$/;class _U extends Je{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,zs(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),D("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Ep.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Ep.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Ep.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Ep.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ss{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return vZ(this.currentMap,e,n,r)}getAll(){return sD(this.currentMap)}}function aee(t){let e=gX(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,AX(r));return Math.ceil(n)}function wU(t,e){return t.liquid&&e.liquid}function lee(t,e){return e.maxHeight!=null||wU(t,e)}function cee(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):D("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,D(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function uee(t,e){return qo(t,e,ss)}function dee(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(D("col",{style:{width:r.width==="shrink"?hee(e):r.width||"",minWidth:r.minWidth||""}}))}return D("colgroup",{},...n)}function hee(t){return t??4}function fee(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function pee(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function mee(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Ub(t){return D("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function jg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function bU(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class SD extends Je{constructor(){super(...arguments),this.processCols=fe(e=>e,uee),this.renderMicroColGroup=fe(dee),this.scrollerRefs=new Ss,this.scrollerElRefs=new Ss(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=pee(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],h=[],f=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)f.push(this.renderSection(u,o,!0)),c+=1;let p=!sU();const m={role:"rowgroup"};return D("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!p&&d.length)&&D("thead",m,...d),!!(!p&&h.length)&&D("tbody",m,...h),!!(!p&&f.length)&&D("tfoot",m,...f),p&&D("tbody",m,...d,...h,...f))}renderSection(e,n,r){return"outerContent"in e?D(dt,{key:e.key},e.outerContent):D("tr",{key:e.key,role:"presentation",className:mee(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=lee(s,e),u=wU(s,e),d=s.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,f=cee(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return D(i?"th":"td",{ref:r.elRef,role:"presentation"},D("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},D(_U,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,n){let r=gee(this.props.sections,n);r&&zs(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return fee(this.props.cols)?aee(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=$J(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}SD.addStateEquality({scrollerClientWidths:ss,scrollerClientHeights:ss});function gee(t,e){for(let n of t)if(n.key===e)return n;return null}class wy extends Je{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&fA(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new Rt(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&fJ(i,n),isStartResizable:!e.disableResizing&&pJ(i,n),isEndResizable:!e.disableResizing&&mJ(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return D(Yn,Object.assign({},e,{elRef:this.handleEl,elClasses:[...gJ(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&fA(this.el,this.props.seg)}}class EU extends Je{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=zd(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return D(wy,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:gD(i,n),defaultGenerator:vee,timeText:a}),(l,c)=>D(dt,null,D(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&D("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&D("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function vee(t){return D("div",{className:"fc-event-main-frame"},t.timeText&&D("div",{className:"fc-event-time"},t.timeText),D("div",{className:"fc-event-title-container"},D("div",{className:"fc-event-title fc-sticky"},t.event.title||D(dt,null," "))))}const CD=t=>D(Ks.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return D(Yn,Object.assign({},t,{elTag:t.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),yee=wt({day:"numeric"});class DD extends Je{constructor(){super(...arguments),this.refineRenderProps=om(_ee)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return D(Yn,Object.assign({},e,{elClasses:[..._y(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":kf(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function TD(t){return!!(t.dayCellContent||Mb("dayCellContent",t))}function _ee(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=yD(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:yee):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class SU extends Je{render(){let{props:e}=this,{seg:n}=e;return D(wy,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:wee,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function wee(t){let{title:e}=t.event;return e&&D("div",{className:"fc-event-title"},t.event.title)}function CU(t){return D("div",{className:`fc-${t}`})}const DU=t=>D(Ks.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return D(Yn,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:bee,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function bee(t){return t.text}const rw=10;class Eee extends Je{constructor(){super(...arguments),this.state={titleId:Lo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&zs(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=Ij(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return nX(D("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),D("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},D("span",{className:"fc-popover-title",id:i.titleId},r.title),D("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),D("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=WJ(n);if(s){let o=i.getBoundingClientRect(),a=r?$n(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,rw),l=Math.min(l,document.documentElement.clientWidth-rw-o.width),l=Math.max(l,rw);let c=i.offsetParent.getBoundingClientRect();Hd(i,{top:a-c.top,left:l-c.left})}}}class See extends bi{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return D(DD,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,c,u)=>D(Eee,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},TD(e)&&D(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class TU extends Je{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Lo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&zs(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=gA(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new Rt(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return D(Ks.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,c=gA(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,d=Vd(s.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:i};return D(dt,null,!!e.moreCnt&&D(Yn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Nj(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||Cee,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&D(See,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=$n(this.linkEl,".fc-view-harness"))}}function Cee(t){return t.text}function gA(t){if(t.allDayDate)return{start:t.allDayDate,end:mn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:kU(e),end:Tee(e)}}function kU(t){return t.reduce(Dee).eventRange.range.start}function Dee(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Tee(t){return t.reduce(kee).eventRange.range.end}function kee(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}const xee=[],xU={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},RU=Object.assign(Object.assign({},xU),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Ree(t){let e=t.length>0?t[0].code:"en",n=xee.concat(t),r={en:RU};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function AU(t,e){return typeof t=="object"&&!Array.isArray(t)?IU(t.code,[t.code],t):Aee(t,e)}function Aee(t,e){let n=[].concat(t||[]),r=Iee(n,e)||RU;return IU(t,n,r)}function Iee(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function IU(t,e,n){let r=iD([xU,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function ls(t){return{id:Rl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Mee(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=Oee(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function Nee(){let t=[],e=[],n;return(r,i)=>((!n||!qo(r,t)||!qo(i,e))&&(n=Mee(r,i)),t=r,e=i,n)}function Oee(t,e){return{premiumReleaseDate:Pee(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Pee(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class la extends xf{}la.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};la.prototype.baseIconClass="fc-icon";la.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};la.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};la.prototype.iconOverrideOption="buttonIcons";la.prototype.iconOverrideCustomButtonOption="icon";la.prototype.iconOverridePrefix="fc-icon-";function Lee(t,e){let n={},r;for(r in t)$b(r,n,t,e);for(r in e)$b(r,n,t,e);return n}function $b(t,e,n,r){if(e[t])return e[t];let i=Fee(t,e,n,r);return i&&(e[t]=i),i}function Fee(t,e,n,r){let i=n[t],s=r[t],o=u=>i&&i[u]!==null?i[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=$b(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function vA(t){return Ws(t,jee)}function jee(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=yA(e):n&&!(n.prototype instanceof Je)&&(n=yA(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function yA(t){return e=>D(Ks.Consumer,null,n=>D(Yn,{elTag:"div",elClasses:Hj(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Uee(t,e,n,r){let i=vA(t),s=vA(e.views),o=Lee(i,s);return Ws(o,a=>$ee(a,s,e,n,r))}function $ee(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=Bee(s),o)){let h=Ab(o);a=h.unit,h.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let f=h.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&f[p]!=null?f[p]:f[t.type]!=null?f[t.type]:f[l]!=null?f[l]:null},d=h=>{let f=h.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&f[p]!=null?f[p]:f[t.type]!=null?f[t.type]:f[l]!=null?f[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(Wd)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(Wd)}}let _A={};function Bee(t){let e=JSON.stringify(t),n=_A[e];return n===void 0&&(n=Ve(t),_A[e]=n),n}function Hee(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Vee(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Wee(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function zee(t,e,n){let r=e?e.activeRange:null;return NU({},Zee(t,n),r,n)}function Yee(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return NU(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Gee(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?OU(t,i,r):t;case"FETCH_EVENT_SOURCES":return kD(t,e.sourceIds?Fj(e.sourceIds):PU(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Xee(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function qee(t,e,n){let r=e?e.activeRange:null;return kD(t,PU(t,n),r,!0,n)}function MU(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function NU(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=OU(i,n,r)),Object.assign(Object.assign({},t),i)}function Gee(t,e){return ul(t,n=>n.sourceId!==e)}function OU(t,e,n){return kD(t,ul(t,r=>Kee(r,e,n)),e,!1,n)}function Kee(t,e,n){return LU(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function kD(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=Qee(a,n,r,i):s[o]=a}return s}function Qee(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Rl();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,l.response)||c),t.success&&(c=t.success.call(s,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function Xee(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function PU(t,e){return ul(t,n=>LU(n,e))}function Zee(t,e){let n=Qj(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=Kj(s,e,n);o&&i.push(o)}return i}function LU(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Jee(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function ete(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function tte(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function nte(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function rte(t,e,n,r,i){let s=t.headerToolbar?wA(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?wA(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function wA(t,e,n,r,i,s){let o={},a=[],l=!1;for(let c in t){let u=t[c],d=ite(u,e,n,r,i,s);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function ite(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},h=t?t.split(" "):[],f=[],p=!1;return{widgets:h.map(_=>_.split(",").map(v=>{if(v==="title")return p=!0,{buttonName:v};let y,w,E,T,b,k;if(y=a[v])E=x=>{y.click&&y.click.call(x.target,x,x.target)},(T=r.getCustomButtonIconClass(y))||(T=r.getIconClass(v,o))||(b=y.text),k=y.hint||y.text;else if(w=i[v]){f.push(v),E=()=>{s.changeView(v)},(b=w.buttonTextOverride)||(T=r.getIconClass(v,o))||(b=w.buttonTextDefault);let x=w.buttonTextOverride||w.buttonTextDefault;k=Vd(w.buttonTitleOverride||w.buttonTitleDefault||e.viewHint,[x,v],x)}else if(s[v])if(E=()=>{s[v]()},(b=l[v])||(T=r.getIconClass(v,o))||(b=c[v]),v==="prevYear"||v==="nextYear"){let x=v==="prevYear"?"prev":"next";k=Vd(u[x]||d[x],[c.year||"year","year"],c[v])}else k=x=>Vd(u[v]||d[v],[c[x]||x,x],c[v]);return{buttonName:v,buttonClick:E,buttonIcon:T,buttonText:b,buttonHint:k}})),viewsWithButtons:f,hasTitle:p}}class ste{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let ote={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const ate=ls({name:"array-event-source",eventSourceDefs:[ote]});let lte={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;CJ(i.bind(null,rU(t.range,r)),s=>e({rawEvents:s}),n)}};const cte=ls({name:"func-event-source",eventSourceDefs:[lte]}),ute={method:String,extraParams:M,startParam:String,endParam:String,timeZoneParam:String};let dte={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=fte(r,t.range,t.context);DJ(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const hte=ls({name:"json-event-source",eventSourceRefiners:ute,eventSourceDefs:[dte]});function fte(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,c={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[s]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const pte={daysOfWeek:M,startTime:Ve,endTime:Ve,duration:Ve,startRecur:M,endRecur:M};let mte={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=OX(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Ko(e,{start:t.startRecur,end:t.endRecur});return r?vte(t.daysOfWeek,t.startTime,r,n):[]}};const gte=ls({name:"simple-recurring-event",recurringTypes:[mte],eventRefiners:pte});function vte(t,e,n,r){let i=t?Fj(t):null,s=ht(n.start),o=n.end,a=[];for(;s<o;){let l;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=mn(s,1)}return a}const yte=ls({name:"change-handler",optionChangeHandlers:{events(t,e){bA([t],e)},eventSources:bA}});function bA(t,e){let n=sD(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function _te(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},rU(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function wte(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ua(t,e))}const bte=[ate,cte,hte,gte,yte,ls({name:"misc",isLoadingFuncs:[t=>MU(t.eventSources)],propSetHandlers:{dateProfile:_te,eventStore:wte}})];class Ete{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new XC(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Ste(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,wt(e.titleFormat||Cte(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Cte(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Ag(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Dte{constructor(e){this.computeCurrentViewData=fe(this._computeCurrentViewData),this.organizeRawLocales=fe(Ree),this.buildLocale=fe(AU),this.buildPluginHooks=Nee(),this.buildDateEnv=fe(Tte),this.buildTheme=fe(kte),this.parseToolbars=fe(rte),this.buildViewSpecs=fe(Uee),this.buildDateProfileGenerator=om(xte),this.buildViewApi=fe(Rte),this.buildViewUiProps=om(Mte),this.buildEventUiBySource=fe(Ate,ss),this.buildEventUiBases=fe(Ite),this.parseContextBusinessHours=om(Nte),this.buildTitle=fe(Ste),this.emitter=new yy,this.actionRunner=new Ete(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=jZ(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);Rs(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of r.pluginHooks.contextInit)h(l);let c=zee(r.calendarOptions,a,l),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:Dr(),renderableEventStore:Dr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},d=Object.assign(Object.assign({},l),u);for(let h of r.pluginHooks.reducers)Object.assign(u,h(null,null,d));iw(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=Vee(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=Hee(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=FZ(u,e),d=Wee(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Rs(d.currentRange,u))&&(u=d.currentRange.start);let h=Yee(r.eventSources,e,d,c),f=XZ(r.eventStore,e,h,d,c),m=MU(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||f,{eventUiSingleBase:_,selectionConfig:v}=this.buildViewUiProps(c),y=this.buildEventUiBySource(h),w=this.buildEventUiBases(m.defs,_,y),E={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:m,selectionConfig:v,eventUiBases:w,businessHours:this.parseContextBusinessHours(c),dateSelection:Jee(r.dateSelection,e),eventSelection:ete(r.eventSelection,e),eventDrag:tte(r.eventDrag,e),eventResize:nte(r.eventResize,e)},T=Object.assign(Object.assign({},c),E);for(let x of o.pluginHooks.reducers)Object.assign(E,x(r,e,T));let b=iw(r,c),k=iw(E,c);!b&&k?i.trigger("loading",!0):b&&!k&&i.trigger("loading",!1),this.state=E,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=qee(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=dA(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=dA(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);EA(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,d,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=K_([Wd,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],bte),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},sA),oA),aA),l.listenerRefiners),l.optionRefiners),u={},d=K_([Wd,a,e,n]),h={},f=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,m=!1;for(let _ in d)this.optionsForRefining.indexOf(_)===-1&&(d[_]===f[_]||ga[_]&&_ in f&&ga[_](f[_],d[_]))?h[_]=p[_]:c[_]?(h[_]=c[_](d[_]),m=!0):u[_]=f[_];return m&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);EA(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,s){let o=K_([Wd,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},sA),oA),aA),fZ),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let f in o)o[f]===c[f]||ga[f]&&ga[f](o[f],c[f])?l[f]=u[f]:(o[f]===this.currentCalendarOptionsInput[f]||ga[f]&&ga[f](o[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](o[f]):h[f]=o[f],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function Tte(t,e,n,r,i,s,o,a){let l=AU(e||o.defaultCode,o.map);return new SZ({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function kte(t,e){let n=e.themeClasses[t.themeSystem]||la;return new n(t)}function xte(t){let e=t.dateProfileGeneratorClass||Wj;return new e(t)}function Rte(t,e,n){return new ste(t,e,n)}function Ate(t){return Ws(t,e=>e.ui)}function Ite(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function Mte(t){let{options:e}=t;return{eventUiSingleBase:Lg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Lg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function iw(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function Nte(t){return oJ(t.options.businessHours,t)}function EA(t,e){for(let n in t)console.warn(`Unknown option '${n}'`+(e?` for view '${e}'`:""))}class Ote extends Je{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return D("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(a==="title")s=!1,i.push(D("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,f=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",p=[`fc-${a}-button`,r.getClass("button")];h&&p.push(r.getClass("buttonActive")),i.push(D("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:f,"aria-pressed":h,className:p.join(" "),onClick:l},c||(u?D("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return D("div",{className:o},...i)}return i[0]}}class SA extends Je{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,D("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return D(Ote,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Pte extends Je{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,zs(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",D("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Lte extends Pu{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=iu(r);if(o&&i.isValidSegDownEl(n.target)){let a=$n(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Rt(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=Mj(e.el,"click",".fc-event",this.handleSegClick)}}class Fte extends Pu{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{iu(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=_X(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=iu(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Rt(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class jte extends Al{constructor(){super(...arguments),this.buildViewContext=fe(TZ),this.buildViewPropTransformers=fe($te),this.buildToolbarProps=fe(Ute),this.headerRef=tr(),this.footerRef=tr(),this.interactionsStore={},this.state={viewLabelId:Lo()},this.registerInteractiveComponent=(e,n)=>{let r=xJ(e,n),o=[Lte,Fte].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,Lb[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete Lb[e.uid]},this.resizeRunner=new XC(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Rf(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return D(Ks.Provider,{value:l},n.header&&D(SA,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},i)),D(Pte,{liquid:s,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&D(SA,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return D(dt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return D(o,Object.assign({},i))}}function Ute(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Rs(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function $te(t){return t.map(e=>new e)}let by=class extends RJ{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Og(()=>{Oh(D(kJ,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),D(Bj.Provider,{value:this.customContentRenderId},D(jte,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Oh(null,this.el),this.setClassNames([]),this.setHeight(""))},uX(e),this.el=e,this.renderRunner=new XC(this.handleRenderRequest),new Dte({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Og(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!qo(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Aj(this.el,"height",e)}};class Bte extends bi{constructor(){super(...arguments),this.headerElRef=tr()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=jg(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),D(Ph,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},D(SD,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&jg(a.options),c=!o.forPrint&&bU(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ub}]}),D(Ph,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},D(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}}function Sp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Cp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function CA(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const FU=wt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function jU(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class UU extends Je{render(){let{props:e}=this;return D(EU,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:FU,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class $U extends Je{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||FU,o=zd(i,s,n,!0,e.defaultDisplayEventEnd);return D(wy,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:gD(e.seg,n),defaultGenerator:Hte,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function Hte(t){return D(dt,null,D("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&D("div",{className:"fc-event-time"},t.timeText),D("div",{className:"fc-event-title"},t.event.title||D(dt,null," ")))}class Vte extends Je{constructor(){super(...arguments),this.compileSegs=fe(Wte)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return D(TU,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return D(dt,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return D("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},jU(s)?D($U,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},As(s,e.todayRange))):D(UU,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},As(s,e.todayRange))))}))}})}}function Wte(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const zte=wt({week:"narrow"});class Yte extends bi{constructor(){super(...arguments),this.rootElRef=tr(),this.state={dayNumberId:Lo()},this.handleRootEl=e=>{zs(this.rootElRef,e),zs(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&Gte(a,l.currentRange,o);return D(DD,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:qte,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>D("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&D(DU,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:su(e,a,"week"),date:a,defaultFormat:zte}),!d.isDisabled&&(n.showDayNumber||TD(s)||n.forceDayTop)?D("div",{className:"fc-daygrid-day-top"},D(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},su(e,a)),{id:r.dayNumberId})})):n.showDayNumber?D("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},D("a",{className:"fc-daygrid-day-number"}," ")):void 0,D("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,D("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},D(Vte,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),D("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function qte(t){return t.dayNumberText||D(dt,null," ")}function Gte(t,e,n){const{start:r,end:i}=e,s=Go(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function BU(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function HU(t){return BU(t)+":"+t.lastCol}function Kte(t,e,n,r,i,s,o){let a=new Zte(v=>{let y=t[v.index].eventRange.instance.instanceId+":"+v.span.start+":"+(v.span.end-1);return i[y]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let v=0;v<t.length;v+=1){let y=t[v],w=HU(y);i[w]!=null?l.push({index:v,span:{start:y.firstCol,end:y.lastCol+1}}):c.push(y)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:p}=Qte(d,t,o),m=[],_=[];for(let v of c){f[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=v.firstCol;y<=v.lastCol;y+=1)h[y].push({seg:Mc(v,y,y+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<o.length;v+=1)m.push(0);for(let v of u){let y=t[v.index],w=v.span;f[w.start].push({seg:Mc(y,w.start,w.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=w.start;E<w.end;E+=1)m[E]+=1,h[E].push({seg:Mc(y,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<o.length;v+=1)_.push(p[v]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:m,moreMarginTops:_}}function Qte(t,e,n){let r=Xte(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,d=0;for(let f of l){let p=e[f.index];c.push({seg:Mc(p,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-u}),u=f.levelCoord+f.thickness}let h=[];u=0,d=0;for(let f of l){let p=e[f.index],m=f.span.end-f.span.start>1,_=f.span.start===a;d+=f.levelCoord-u,u=f.levelCoord+f.thickness,m?(d+=f.thickness,_&&h.push({seg:Mc(p,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):_&&(h.push({seg:Mc(p,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:d}),d=0)}i.push(c),s.push(h),o.push(d)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function Xte(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Mc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=Ko(s,{start:r[e].date,end:mn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class Zte extends cU{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[$a(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=$a(o);if(!s[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:bD(o.span,n.span)}),d=$a(u);s[d]=!0,i[a][l]=u,r.push(u),this.splitEntry(o,n,r)}else s[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class VU extends bi{constructor(){super(...arguments),this.cellElRefs=new Ss,this.frameElRefs=new Ss,this.fgElRefs=new Ss,this.segHarnessRefs=new Ss,this.rootElRef=tr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=Cp(e.businessHourSegs,s),a=Cp(e.bgEventSegs,s),l=Cp(this.getHighlightSegs(),s),c=Cp(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:d,moreCnts:h,moreMarginTops:f}=Kte(mD(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return D("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((m,_)=>{let v=this.renderFgSegs(_,e.forPrint?u[_]:d[_],e.todayRange,p),y=this.renderFgSegs(_,Jte(c[_],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return D(Yte,{key:m.key,elRef:this.cellElRefs.createRef(m.key),innerElRef:this.frameElRefs.createRef(m.key),dateProfile:e.dateProfile,date:m.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&_===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,moreCnt:h[_],moreMarginTop:f[_],singlePlacements:u[_],fgContentElRef:this.fgElRefs.createRef(m.key),fgContent:D(dt,null,D(dt,null,v),D(dt,null,y)),bgContent:D(dt,null,this.renderFillSegs(l[_],"highlight"),this.renderFillSegs(o[_],"non-business"),this.renderFillSegs(a[_],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!ss(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,h=s||o||a,f=[];if(u)for(let p of n){let{seg:m}=p,{instanceId:_}=m.eventRange.instance,v=p.isVisible&&!i[_],y=p.isAbsolute,w="",E="";y&&(l.isRtl?(E=0,w=u.lefts[m.lastCol]-u.lefts[m.firstCol]):(w=0,E=u.rights[m.firstCol]-u.rights[m.lastCol])),f.push(D("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:BU(m),ref:h?null:this.segHarnessRefs.createRef(HU(m)),style:{visibility:v?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:w,right:E}},jU(m)?D($U,Object.assign({seg:m,isDragging:s,isSelected:_===c,defaultDisplayEventEnd:d},As(m,r))):D(UU,Object.assign({seg:m,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:_===c,defaultDisplayEventEnd:d},As(m,r)))))}return f}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(D("div",{key:nU(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?D(SU,Object.assign({seg:a},As(a,i))):CU(n)))}return D(dt,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new ou(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new ou(c,l,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}VU.addStateEquality({segHeights:ss});function Jte(t,e){if(!t.length)return[];let n=ene(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function ene(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class tne extends bi{constructor(){super(...arguments),this.splitBusinessHourSegs=fe(Sp),this.splitBgEventSegs=fe(Sp),this.splitFgEventSegs=fe(Sp),this.splitDateSelectionSegs=fe(Sp),this.splitEventDrag=fe(CA),this.splitEventResize=fe(CA),this.rowRefs=new Ss}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return D(Lu,{unit:"day"},(d,h)=>D(dt,null,e.cells.map((f,p)=>D(VU,{ref:this.rowRefs.createRef(p),key:f.length?f[0].date.toISOString():p,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:s[p].filter(nne),fgEventSegs:o[p],dateSelectionSegs:a[p],eventDrag:l[p],eventResize:c[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ou(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new ou(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=mn(r,1);return{start:r,end:i}}}function nne(t){return t.eventRange.def.allDay}class rne extends bi{constructor(){super(...arguments),this.elRef=tr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return D("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},D("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,D("tbody",{role:"presentation"},D(tne,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=ine(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function ine(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${QX(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${kf(e.currentDate)}"]`)),n}class sne extends mU{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class WU extends bi{constructor(){super(...arguments),this.slicer=new sne,this.tableRef=tr()}render(){let{props:e,context:n}=this;return D(rne,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class one extends Bte{constructor(){super(...arguments),this.buildDayTableModel=fe(ane),this.headerRef=tr(),this.tableRef=tr()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&D(hU,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>D(WU,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function ane(t,e){let n=new fU(t.renderRange,e);return new pU(n,/year|month|week/.test(t.currentRangeUnit))}class lne extends Wj{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return cne({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function cne(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=JR(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(mn(n.end,-1))),a=Math.ceil(UX(o,i));i=JR(i,6-a)}return{start:r,end:i}}var une=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';py(une);var Ey=ls({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:one,dateProfileGeneratorClass:lne},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class dne extends OJ{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?dJ(e)?["timed","allDay"]:["allDay"]:["timed"]}}const hne=wt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function zU(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return D(Ks.Consumer,null,n=>{if(!t.isLabeled)return D("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?hne:Array.isArray(i.slotLabelFormat)?wt(i.slotLabelFormat[0]):wt(i.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return D(Yn,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:fne,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>D("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},D(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function fne(t){return t.text}class pne extends Je{render(){return this.props.slatMetas.map(e=>D("tr",{key:e.key},D(zU,Object.assign({},e))))}}const mne=wt({week:"short"}),gne=5;class vne extends bi{constructor(){super(...arguments),this.allDaySplitter=new dne,this.headerElRef=tr(),this.rootElRef=tr(),this.scrollerElRef=tr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,a=aa(s.start,s.end)===1?su(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?D(DU,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:mne},l=>D("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},D(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):D("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},D("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return D(Yn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:yne,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>D("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},D(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],a=jg(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:D("tr",{role:"presentation",className:"fc-scrollgrid-section"},D("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),D(Ph,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},D(SD,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,d=!u.forPrint&&jg(c.options),h=!u.forPrint&&bU(c.options),f=[];e&&f.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>D("tr",{role:"presentation"},this.renderHeadAxis("day",m.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:m=>D("tr",{role:"presentation"},this.renderTableRowAxis(m.rowSyncHeights[0]))},{key:"cols",content:n}]}),f.push({key:"all-day-divider",type:"body",outerContent:D("tr",{role:"presentation",className:"fc-scrollgrid-section"},D("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let p=c.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:m=>D("div",{className:"fc-timegrid-axis-chunk"},D("table",{"aria-hidden":!0,style:{height:m.expandRows?m.clientHeight:""}},m.tableColGroupNode,D("tbody",null,D(pne,{slatMetas:o}))),D("div",{className:"fc-timegrid-now-indicator-container"},D(Lu,{unit:p?"minute":"day"},_=>{let v=p&&a&&a.safeComputeTop(_);return typeof v=="number"?D(CD,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:v},isAxis:!0,date:_}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ub},{key:"cols",content:Ub}]}),D(Ph,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},D(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=gne),{dayMaxEvents:e,dayMaxEventRows:n}}}function yne(t){return t.text}class _ne{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Rs(n.currentRange,e)){let r=ht(e),i=e.valueOf()-r.valueOf();if(i>=ai(n.slotMinTime)&&i<ai(n.slotMaxTime))return this.computeTimeTop(Ve(i))}return null}computeDateTop(e,n){return n||(n=ht(e)),this.computeTimeTop(Ve(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-ai(r.slotMinTime))/ai(this.slotDuration),o,a;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),a=s-o,n.tops[o]+n.getHeight(o)*a}}class wne extends Je{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return D("tbody",null,e.slatMetas.map((s,o)=>{let a={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return D("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&D(zU,Object.assign({},s)),D(Yn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class bne extends Je{constructor(){super(...arguments),this.rootElRef=tr(),this.slatElRefs=new Ss}render(){let{props:e,context:n}=this;return D("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},D("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,D(wne,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new _ne(new ou(this.rootElRef.current,Ene(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Ene(t,e){return e.map(n=>t[n.key])}function ed(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function DA(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class Sne extends Je{render(){let{props:e}=this;return D(TU,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>qU(e.hiddenSegs,e),defaultGenerator:Cne,forceTimed:!0},n=>D(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Cne(t){return t.shortText}function Dne(t,e,n){let r=new cU;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=qJ(i),o=Tne(r);return o=Ane(o,1),{segRects:Ine(o),hiddenGroups:s}}function Tne(t){const{entriesByLevel:e}=t,n=xD((r,i)=>r+":"+i,(r,i)=>{let s=Rne(t,r,i),o=TA(s,n),a=e[r][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return TA(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function TA(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(kne),[o.map(xne),o[0][1]]}function kne(t,e){return e[1]-t[1]}function xne(t){return t[0]}function Rne(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,a=r.length,l=e;for(;l<a&&r[l]<o;l+=1);for(;l<a;l+=1){let c=i[l],u,d=jb(c,s.span.start,Fb),h=d[0]+d[1],f=h;for(;(u=c[f])&&u.span.start<s.span.end;)f+=1;if(h<f)return{level:l,lateralStart:h,lateralEnd:f}}return null}function Ane(t,e){const n=xD((r,i,s)=>$a(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:a}=r,l=a+s,c=a/l,u,d=[];if(!o.length)u=e;else for(let f of o)if(u===void 0){let p=n(f,i,l);u=p[0],d.push(p[1])}else{let p=n(f,u,0);d.push(p[1])}let h=(u-i)*c;return[u-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:d})]});return t.map(r=>n(r,0,0)[1])}function Ine(t){let e=[];const n=xD((i,s,o)=>$a(i),(i,s,o)=>{let a=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let a=0;for(let l of i)a=Math.max(n(l,s,o),a);return a}return r(t,0,0),e}function xD(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function kA(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],a=n.computeDateTop(o.start,e),l=Math.max(a+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(a),end:Math.round(l)})}return i}function Mne(t,e,n,r){let i=[],s=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?i.push({index:c,thickness:1,span:u}):s.push(t[c])}let{segRects:o,hiddenGroups:a}=Dne(i,n,r),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of s)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}const Nne=wt({hour:"numeric",minute:"2-digit",meridiem:!1});class YU extends Je{render(){return D(EU,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Nne}))}}class One extends Je{constructor(){super(...arguments),this.sortEventSegs=fe(mD)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return D(DD,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>D("div",{className:"fc-timegrid-col-frame"},D("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),D("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),D("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),D("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),TD(r)&&D(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:a}=this;return a.forPrint?qU(e,a):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:d,slatCoords:h,eventSelection:f,todayRange:p,nowDate:m}=this.props,_=r||i||s,v=kA(e,d,h,u),{segPlacements:y,hiddenGroups:w}=Mne(e,v,c,a);return D(dt,null,this.renderHiddenGroups(w,e),y.map(E=>{let{seg:T,rect:b}=E,k=T.eventRange.instance.instanceId,x=_||!!(!n[k]&&b),L=sw(b&&b.span),$=!_&&b?this.computeSegHStyle(b):{left:0,right:0},ee=!!b&&b.stackForward>0,se=!!b&&b.span.end-b.span.start<l;return D("div",{className:"fc-timegrid-event-harness"+(ee?" fc-timegrid-event-harness-inset":""),key:o||k,style:Object.assign(Object.assign({visibility:x?"":"hidden"},L),$)},D(YU,Object.assign({seg:T,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:k===f,isShort:se},As(T,p,m))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return D(dt,null,e.map(u=>{let d=sw(u.span),h=Pne(u.entries,n);return D(Sne,{key:Lj(kU(h)),hiddenSegs:h,top:d.top,bottom:d.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=kA(e,r.date,r.slatCoords,i.options.eventMinHeight).map((a,l)=>{let c=e[l];return D("div",{key:nU(c.eventRange),className:"fc-timegrid-bg-harness",style:sw(a)},n==="bg-event"?D(SU,Object.assign({seg:c},As(c,r.todayRange,r.nowDate))):CU(n))});return D(dt,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>D(CD,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,a,l;i&&(o=Math.min(1,s+(o-s)*2)),n?(a=1-o,l=s):(a=s,l=1-o);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}}function qU(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return D(dt,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return D("div",{key:l,style:{visibility:o[l]?"hidden":""}},D(YU,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===r,isShort:!1},As(a,e,n))))}))}function sw(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Pne(t,e){return t.map(n=>e[n.index])}class Lne extends Je{constructor(){super(...arguments),this.splitFgEventSegs=fe(ed),this.splitBgEventSegs=fe(ed),this.splitBusinessHourSegs=fe(ed),this.splitNowIndicatorSegs=fe(ed),this.splitDateSelectionSegs=fe(ed),this.splitEventDrag=fe(DA),this.splitEventResize=fe(DA),this.rootElRef=tr(),this.cellElRefs=new Ss}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i);return D("div",{className:"fc-timegrid-cols",ref:this.rootElRef},D("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,D("tbody",{role:"presentation"},D("tr",{role:"row"},e.axis&&D("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},D("div",{className:"fc-timegrid-col-frame"},D("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&D(CD,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((h,f)=>D(One,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[f],bgEventSegs:o[f],businessHourSegs:a[f],nowIndicatorSegs:l[f],dateSelectionSegs:c[f],eventDrag:u[f],eventResize:d[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new ou(this.rootElRef.current,Fne(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Fne(t,e){return e.map(n=>t[n.key])}class jne extends bi{constructor(){super(...arguments),this.processSlotOptions=fe(Une),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return D("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},D(bne,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),D(Lne,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=s.leftToIndex(e),d=a.positions.topToIndex(n);if(u!=null&&d!=null){let h=this.props.cells[u],f=a.positions.tops[d],p=a.positions.getHeight(d),m=(n-f)/p,_=Math.floor(m*c),v=d*c+_,y=this.props.cells[u].date,w=Rb(o.slotMinTime,PX(l,v)),E=r.add(y,w),T=r.add(E,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:E,end:T},allDay:!1},h.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:f,bottom:f+p},layer:0}}return null}}function Une(t,e){let n=e||t,r=tD(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class $ne extends mU{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=Ko(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class Bne extends bi{constructor(){super(...arguments),this.buildDayRanges=fe(Hne),this.slicer=new $ne,this.timeColsRef=tr()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,a=this.buildDayRanges(i,r,n.dateEnv);return D(Lu,{unit:s?"minute":"day"},(l,c)=>D(jne,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:s&&this.slicer.sliceNowDate(l,r,o,n,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Hne(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const xA=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Vne(t,e,n,r,i){let s=new Date(0),o=t,a=Ve(0),l=n||Wne(r),c=[];for(;ai(o)<ai(e);){let u=i.add(s,o),d=tD(a,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:XX(u),isLabeled:d}),o=Rb(o,r),a=Rb(a,r)}return c}function Wne(t){let e,n,r;for(e=xA.length-1;e>=0;e-=1)if(n=Ve(xA[e]),r=tD(n,t),r!==null&&r>1)return n;return t}class zne extends vne{constructor(){super(...arguments),this.buildTimeColsModel=fe(Yne),this.buildSlatMetas=fe(Vne)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),a=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:c}=e,u=!c,d=c,h=e.dayHeaders&&D(hU,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(m=>D(WU,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:m.tableMinWidth,colGroupNode:m.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:m.clientWidth,clientHeight:m.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),p=m=>D(Bne,Object.assign({},a.timed,{dayTableModel:o,dateProfile:s,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:m.tableColGroupNode,tableMinWidth:m.tableMinWidth,clientWidth:m.clientWidth,clientHeight:m.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:m.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,f,p,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(h,f,p)}}function Yne(t,e){let n=new fU(t.renderRange,e);return new pU(n,!1)}var qne='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';py(qne);const Gne={allDaySlot:Boolean};var Sy=ls({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Gne,views:{timeGrid:{component:zne,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class Kne extends Je{constructor(){super(...arguments),this.state={textId:Lo()}}render(){let{theme:e,dateEnv:n,options:r,viewApi:i}=this.context,{cellId:s,dayDate:o,todayRange:a}=this.props,{textId:l}=this.state,c=yD(o,a),u=r.listDayFormat?n.format(o,r.listDayFormat):"",d=r.listDaySideFormat?n.format(o,r.listDaySideFormat):"",h=Object.assign({date:n.toDate(o),view:i,textId:l,text:u,sideText:d,navLinkAttrs:su(this.context,o),sideNavLinkAttrs:su(this.context,o,"day",!1)},c);return D(Yn,{elTag:"tr",elClasses:["fc-list-day",..._y(c,e)],elAttrs:{"data-date":kf(o)},renderProps:h,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:Qne,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},f=>D("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":l},D(f,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Qne(t){return D(dt,null,t.text&&D("a",Object.assign({id:t.textId,className:"fc-list-day-text"},t.navLinkAttrs),t.text),t.sideText&&D("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},t.sideNavLinkAttrs),t.sideText))}const Xne=wt({hour:"numeric",minute:"2-digit",meridiem:"short"});class Zne extends Je{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i,timeHeaderId:s,eventHeaderId:o,dateHeaderId:a}=e,l=r.eventTimeFormat||Xne;return D(wy,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",i.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Jne(i,n),seg:i,timeText:"",disableDragging:!0,disableResizing:!0}),(c,u)=>D(dt,null,ere(i,l,n,s,a),D("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},D("span",{className:"fc-list-event-dot",style:{borderColor:u.borderColor||u.backgroundColor}})),D(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${a}`}})))}}function Jne(t,e){let n=gD(t,e);return D("a",Object.assign({},n),t.eventRange.def.title)}function ere(t,e,n,r,i){let{options:s}=n;if(s.displayEventTime!==!1){let o=t.eventRange.def,a=t.eventRange.instance,l=!1,c;if(o.allDay?l=!0:LZ(t.eventRange.range)?t.isStart?c=zd(t,e,n,null,null,a.range.start,t.end):t.isEnd?c=zd(t,e,n,null,null,t.start,a.range.end):l=!0:c=zd(t,e,n),l){let u={text:n.options.allDayText,view:n.viewApi};return D(Yn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${i}`},renderProps:u,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:tre,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return D("td",{className:"fc-list-event-time"},c)}return null}function tre(t){return t.text}class nre extends bi{constructor(){super(...arguments),this.computeDateVars=fe(ire),this.eventStoreToSegs=fe(this._eventStoreToSegs),this.state={timeHeaderId:Lo(),eventHeaderId:Lo(),dateHeaderIdRoot:Lo()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:n}=this,{dayDates:r,dayRanges:i}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i);return D(Ph,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},D(_U,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,r):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:n}=this.context,r={text:e.noEventsText,view:n};return D(Yn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:rre,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},i=>D(i,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,n){let{theme:r,options:i}=this.context,{timeHeaderId:s,eventHeaderId:o,dateHeaderIdRoot:a}=this.state,l=sre(e);return D(Lu,{unit:"day"},(c,u)=>{let d=[];for(let h=0;h<l.length;h+=1){let f=l[h];if(f){let p=kf(n[h]),m=a+"-"+p;d.push(D(Kne,{key:p,cellId:m,dayDate:n[h],todayRange:u})),f=mD(f,i.eventOrder);for(let _ of f)d.push(D(Zne,Object.assign({key:p+":"+_.eventRange.instance.instanceId,seg:_,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:o,dateHeaderId:m},As(_,u,c))))}}return D("table",{className:"fc-list-table "+r.getClass("table")},D("thead",null,D("tr",null,D("th",{scope:"col",id:s},i.timeHint),D("th",{scope:"col","aria-hidden":!0}),D("th",{scope:"col",id:o},i.eventHint))),D("tbody",null,d))})}_eventStoreToSegs(e,n,r){return this.eventRangesToSegs(Pb(e,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,r)}eventRangesToSegs(e,n){let r=[];for(let i of e)r.push(...this.eventRangeToSegs(i,n));return r}eventRangeToSegs(e,n){let{dateEnv:r}=this.context,{nextDayThreshold:i}=this.context.options,s=e.range,o=e.def.allDay,a,l,c,u=[];for(a=0;a<n.length;a+=1)if(l=Ko(s,n[a]),l&&(c={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===s.end.valueOf(),dayIndex:a},u.push(c),!c.isEnd&&!o&&a+1<n.length&&s.end<r.add(n[a+1].start,i))){c.end=s.end,c.isEnd=!0;break}return u}}function rre(t){return t.text}function ire(t){let e=ht(t.renderRange.start),n=t.renderRange.end,r=[],i=[];for(;e<n;)r.push(e),i.push({start:e,end:mn(e,1)}),e=mn(e,1);return{dayDates:r,dayRanges:i}}function sre(t){let e=[],n,r;for(n=0;n<t.length;n+=1)r=t[n],(e[r.dayIndex]||(e[r.dayIndex]=[])).push(r);return e}var ore=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';py(ore);const are={listDayFormat:RA,listDaySideFormat:RA,noEventsClassNames:M,noEventsContent:M,noEventsDidMount:M,noEventsWillUnmount:M};function RA(t){return t===!1?null:wt(t)}var Cy=ls({name:"@fullcalendar/list",optionRefiners:are,views:{list:{component:nre,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});ED.touchMouseIgnoreWait=500;let Bb=0,Ug=0,Hb=!1;class GU{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&lre(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,cre()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.pageXOffset-this.prevScrollX+this.prevPageX,i=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new yy,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),ure()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),dre()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||$n(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Hb=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?$n(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Bb||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Hb=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}}function lre(t){return t.button===0&&!t.ctrlKey}function cre(){Bb+=1,setTimeout(()=>{Bb-=1},ED.touchMouseIgnoreWait)}function ure(){Ug+=1,Ug===1&&window.addEventListener("touchmove",KU,{passive:!1})}function dre(){Ug-=1,Ug||window.removeEventListener("touchmove",KU,{passive:!1})}function KU(t){Hb&&t.preventDefault()}class hre{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Hd(r,{left:i.left,top:i.top}),wX(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(ZC(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Hd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.classList.add("fc-event-dragging"),Hd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class QU extends wD{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class XU extends QU{constructor(e,n){super(new zJ(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return VJ(this.scrollController.el)}}class fre extends QU{constructor(e){super(new YJ,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const AA=typeof performance=="function"?performance.now:Date.now;class pre{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let n=AA();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.pageXOffset,i=n-window.pageYOffset,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(AA()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,d=a.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),d<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new fre(!1):new XU(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Af extends KJ{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,bX(document.body),SX(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,EX(document.body),CX(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new GU(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new hre,this.autoScroller=new pre}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class mre{constructor(e){this.origRect=_D(e),this.scrollCaches=lU(e).map(n=>new XU(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!gre(i.getEventTarget())&&!AJ(r,i.clientRect))return!1;return!0}}function gre(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Dy{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new yy}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=_D(i),r=IJ(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=oU(s,o.rect);a&&(r=MJ(a))}this.coordAdjust=NJ(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Ty(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Ws(this.droppableStore,e=>(e.component.prepareHits(),new mre(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,h=n-u,{origRect:f}=l,p=f.right-f.left,m=f.bottom-f.top;if(d>=0&&d<p&&h>=0&&h<m){let _=a.queryHit(d,h,p,m);_&&gy(_.dateProfile.activeRange,_.dateSpan.range)&&(!s||_.layer>s.layer)&&(_.componentId=o,_.context=a.context,_.rect.left+=c,_.rect.right+=c,_.rect.top+=u,_.rect.bottom+=u,s=_)}}}return s}}function Ty(t,e){return!t&&!e?!0:!!t!=!!e?!1:wJ(t.dateSpan,e.dateSpan)}function ZU(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,vre(t,e.dateEnv)),n}function vre(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class yre extends Pu{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Ty(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},ZU(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Af(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Dy(this.dragging,vD(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class _re extends Pu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?wre(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=bre(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!tee(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?JC():eD(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(Jj(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Af(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Dy(this.dragging,vD(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function wre(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function bre(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(RX);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class If extends Pu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,h=l.context;this.subjectEl=o.subjectEl;let f=this.subjectSeg=iu(o.subjectEl),m=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=dD(h.getCurrentData().eventStore,m),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&m!==l.props.eventSelection?Sre(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=$n(a,".fc"),u.revertDuration=d.dragRevertDuration;let _=l.isValidSegDownEl(a)&&!$n(a,".fc-event-resizer");c.setIgnoreMove(!_),this.isDragging=_&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Rt(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,h=null,f=null,p=!1,m={affectedEvents:l,mutatedEvents:Dr(),isEvent:!0};if(o){d=o.context;let _=d.options;u===d||_.editable&&_.droppable?(h=Ere(c,o,d.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(f=pD(l,d.getCurrentData().eventUiBases,h,d),m.mutatedEvents=f,gU(m,o.dateProfile,d)||(p=!0,h=null,f=null,m.mutatedEvents=Dr()))):d=null}this.displayDrag(d,m),p?JC():eD(),a||(u===d&&Ty(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=h,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,h=this.eventRange.instance,f=new Rt(a,d,h),p=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:_}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:o.origEvent,view:l}),u){if(c===a){let v=new Rt(a,m.defs[d.defId],h?m.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:f,event:v,relatedEvents:Ua(m,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:p})}},w={};for(let E of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,E(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),w),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",y)}else if(c){let v={event:f,relatedEvents:Ua(p,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:p})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},v),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:p}),a.emitter.trigger("eventRemove",v);let y=m.defs[d.defId],w=m.instances[h.instanceId],E=new Rt(c,y,w);c.dispatch({type:"MERGE_EVENTS",eventStore:m});let T={event:E,relatedEvents:Ua(m,c,w),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};c.emitter.trigger("eventAdd",T),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},ZU(_.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:_.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:o.subjectEl,view:_.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Af(e.el);i.pointer.selector=If.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Dy(this.dragging,Lb);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Dr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}If.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Ere(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=r.range.start,o=i.range.start,a={};r.allDay!==i.allDay&&(a.allDay=i.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(s=ht(s)));let l=fc(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);l.milliseconds&&(a.allDay=!1);let c={datesDelta:l,standardProps:a};for(let u of n)u(c,t,e);return c}function Sre(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class Cre extends Pu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=iu(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=dD(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=iu(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Rt(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,f=null,p=!1,m={affectedEvents:c,mutatedEvents:Dr(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(h=Dre(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(f=pD(c,l.getCurrentData().eventUiBases,h,l),m.mutatedEvents=f,gU(m,s.dateProfile,l)||(p=!0,h=null,f=null,m.mutatedEvents=null)),f?l.dispatch({type:"SET_EVENT_RESIZE",state:m}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?JC():eD(),o||(h&&Ty(u,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Rt(o,a,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new Rt(o,d.defs[a.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let f={oldEvent:c,event:h,relatedEvents:Ua(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Ve(0),endDelta:this.validMutation.endDelta||Ve(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",f)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Af(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Dy(this.dragging,vD(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return $n(e.subjectEl,".fc-event")}}function Dre(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=fc(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class Tre{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=Ij(r.origEvent);this.matchesCancel=!!$n(s,i),this.matchesEvent=!!$n(s,If.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new GU(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const kre={fixedMirrorParent:M},xre={dateClick:M,eventDragStart:M,eventDragStop:M,eventDrop:M,eventResizeStart:M,eventResizeStop:M,eventResize:M,drop:M,eventReceive:M,eventLeave:M};ED.dataAttrPrefix="";var ky=ls({name:"@fullcalendar/interaction",componentInteractions:[yre,_re,If,Cre],calendarInteractions:[Tre],elementDraggingImpl:Af,optionRefiners:kre,listenerRefiners:xre});function Yd(){return Yd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}var Rre=function(e,n){n===void 0&&(n=!0),C.useEffect(function(){if(n){var r=function(s){s.key==="Escape"&&e(s)};return document.addEventListener("keyup",r),function(){n&&document.removeEventListener("keyup",r)}}},[e,n])},Are=function(e,n){n===void 0&&(n=!0),C.useEffect(function(){if(n){var r=function(){e()};return window.addEventListener("resize",r),function(){n&&window.removeEventListener("resize",r)}}},[e,n])},Ire=function(e,n,r){r===void 0&&(r=!0),C.useEffect(function(){if(r){var i=function(o){var a=Array.isArray(e)?e:[e],l=!1;a.forEach(function(c){if(!c.current||c.current.contains(o.target)){l=!0;return}}),o.stopPropagation(),l||n(o)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),function(){r&&(document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i))}}},[e,n,r])},Mre=function(e,n){n===void 0&&(n=!0),C.useEffect(function(){if(n){var r=function(s){if(s.keyCode===9){var o,a=e==null||(o=e.current)===null||o===void 0?void 0:o.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),l=Array.prototype.slice.call(a);if(l.length===1){s.preventDefault();return}var c=l[0],u=l[l.length-1];s.shiftKey&&document.activeElement===c?(s.preventDefault(),u.focus()):document.activeElement===u&&(s.preventDefault(),c.focus())}};return document.addEventListener("keydown",r),function(){n&&document.removeEventListener("keydown",r)}}},[e,n])},Nre=typeof window<"u"?C.useLayoutEffect:C.useEffect,td={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},Ore=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],Pre=function(e,n,r,i,s){var o=s.offsetX,a=s.offsetY,l=i?8:0,c=r.split(" "),u=e.top+e.height/2,d=e.left+e.width/2,h=n.height,f=n.width,p=u-h/2,m=d-f/2,_="",v="0%",y="0%";switch(c[0]){case"top":p-=h/2+e.height/2+l,_="rotate(180deg)  translateX(50%)",v="100%",y="50%";break;case"bottom":p+=h/2+e.height/2+l,_="rotate(0deg) translateY(-100%) translateX(-50%)",y="50%";break;case"left":m-=f/2+e.width/2+l,_=" rotate(90deg)  translateY(50%) translateX(-25%)",y="100%",v="50%";break;case"right":m+=f/2+e.width/2+l,_="rotate(-90deg)  translateY(-150%) translateX(25%)",v="50%";break}switch(c[1]){case"top":p=e.top,v=e.height/2+"px";break;case"bottom":p=e.top-h+e.height,v=h-e.height/2+"px";break;case"left":m=e.left,y=e.width/2+"px";break;case"right":m=e.left-f+e.width,y=f-e.width/2+"px";break}return p=c[0]==="top"?p-a:p+a,m=c[0]==="left"?m-o:m+o,{top:p,left:m,transform:_,arrowLeft:y,arrowTop:v}},Lre=function(e){var n={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if(typeof e=="string"){var r=document.querySelector(e);r!==null&&(n=r.getBoundingClientRect())}return n},Fre=function(e,n,r,i,s,o){var a=s.offsetX,l=s.offsetY,c={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},u=0,d=Lre(o),h=Array.isArray(r)?r:[r];for((o||Array.isArray(r))&&(h=[].concat(h,Ore));u<h.length;){c=Pre(e,n,h[u],i,{offsetX:a,offsetY:l});var f={top:c.top,left:c.left,width:n.width,height:n.height};if(f.top<=d.top||f.left<=d.left||f.top+f.height>=d.top+d.height||f.left+f.width>=d.left+d.width)u++;else break}return c},jre=0,Ure=function(){var e=document.getElementById("popup-root");return e===null&&(e=document.createElement("div"),e.setAttribute("id","popup-root"),document.body.appendChild(e)),e},li=C.forwardRef(function(t,e){var n=t.trigger,r=n===void 0?null:n,i=t.onOpen,s=i===void 0?function(){}:i,o=t.onClose,a=o===void 0?function(){}:o,l=t.defaultOpen,c=l===void 0?!1:l,u=t.open,d=u===void 0?void 0:u,h=t.disabled,f=h===void 0?!1:h,p=t.nested,m=p===void 0?!1:p,_=t.closeOnDocumentClick,v=_===void 0?!0:_,y=t.repositionOnResize,w=y===void 0?!0:y,E=t.closeOnEscape,T=E===void 0?!0:E,b=t.on,k=b===void 0?["click"]:b,x=t.contentStyle,L=x===void 0?{}:x,$=t.arrowStyle,ee=$===void 0?{}:$,se=t.overlayStyle,de=se===void 0?{}:se,De=t.className,we=De===void 0?"":De,Pe=t.position,oe=Pe===void 0?"bottom center":Pe,V=t.modal,X=V===void 0?!1:V,Z=t.lockScroll,Ae=Z===void 0?!1:Z,Ie=t.arrow,ae=Ie===void 0?!0:Ie,J=t.offsetX,F=J===void 0?0:J,W=t.offsetY,P=W===void 0?0:W,z=t.mouseEnterDelay,te=z===void 0?100:z,be=t.mouseLeaveDelay,Ee=be===void 0?100:be,je=t.keepTooltipInside,mt=je===void 0?!1:je,Jr=t.children,Re=C.useState(d||c),Vt=Re[0],ir=Re[1],an=C.useRef(null),en=C.useRef(null),Nr=C.useRef(null),Or=C.useRef(null),Xs=C.useRef("popup-"+ ++jre),At=X?!0:!r,An=C.useRef(0);Nre(function(){return Vt?(Or.current=document.activeElement,Nl(),ju(),Js()):Ml(),function(){clearTimeout(An.current)}},[Vt]),C.useEffect(function(){typeof d=="boolean"&&(d?mr():gr())},[d,f]);var mr=function(le){Vt||f||(ir(!0),setTimeout(function(){return s(le)},0))},gr=function(le){var R;!Vt||f||(ir(!1),At&&((R=Or.current)===null||R===void 0||R.focus()),setTimeout(function(){return a(le)},0))},vr=function(le){le?.stopPropagation(),Vt?gr(le):mr(le)},ua=function(le){clearTimeout(An.current),An.current=setTimeout(function(){return mr(le)},te)},En=function(le){le?.preventDefault(),vr()},Zs=function(le){clearTimeout(An.current),An.current=setTimeout(function(){return gr(le)},Ee)},Js=function(){At&&Ae&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},Ml=function(){At&&Ae&&(document.getElementsByTagName("body")[0].style.overflow="auto")},ju=function(){var le,R=en==null||(le=en.current)===null||le===void 0?void 0:le.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),A=Array.prototype.slice.call(R)[0];A?.focus()};C.useImperativeHandle(e,function(){return{open:function(){mr()},close:function(){gr()},toggle:function(){vr()}}});var Nl=function(){if(!(At||!Vt)&&!(!an?.current||!an?.current||!en?.current)){var le=an.current.getBoundingClientRect(),R=en.current.getBoundingClientRect(),A=Fre(le,R,oe,ae,{offsetX:F,offsetY:P},mt);if(en.current.style.top=A.top+window.scrollY+"px",en.current.style.left=A.left+window.scrollX+"px",ae&&Nr.current){var O,Y;Nr.current.style.transform=A.transform,Nr.current.style.setProperty("-ms-transform",A.transform),Nr.current.style.setProperty("-webkit-transform",A.transform),Nr.current.style.top=((O=ee.top)===null||O===void 0?void 0:O.toString())||A.arrowTop,Nr.current.style.left=((Y=ee.left)===null||Y===void 0?void 0:Y.toString())||A.arrowLeft}}};Rre(gr,T),Mre(en,Vt&&At),Are(Nl,w),Ire(r?[en,an]:[en],gr,v&&!m);var Pr=function(){for(var le={key:"T",ref:an,"aria-describedby":Xs.current},R=Array.isArray(k)?k:[k],A=0,O=R.length;A<O;A++)switch(R[A]){case"click":le.onClick=vr;break;case"right-click":le.onContextMenu=En;break;case"hover":le.onMouseEnter=ua,le.onMouseLeave=Zs;break;case"focus":le.onFocus=ua,le.onBlur=Zs;break}if(typeof r=="function"){var Y=r(Vt);return!!r&&I.cloneElement(Y,le)}return!!r&&I.cloneElement(r,le)},Ol=function(){var le=At?td.popupContent.modal:td.popupContent.tooltip,R={className:"popup-content "+(we!==""?we.split(" ").map(function(A){return A+"-content"}).join(" "):""),style:Yd({},le,L,{pointerEvents:"auto"}),ref:en,onClick:function(O){O.stopPropagation()}};return!X&&k.indexOf("hover")>=0&&(R.onMouseEnter=ua,R.onMouseLeave=Zs),R},eo=function(){return I.createElement("div",Object.assign({},Ol(),{key:"C",role:At?"dialog":"tooltip",id:Xs.current}),ae&&!At&&I.createElement("div",{ref:Nr,style:td.popupArrow},I.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(we!==""?we.split(" ").map(function(le){return le+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:Yd({position:"absolute"},ee)},I.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),Jr&&typeof Jr=="function"?Jr(gr,Vt):Jr)},Pl=!(k.indexOf("hover")>=0),Ll=At?td.overlay.modal:td.overlay.tooltip,da=[Pl&&I.createElement("div",{key:"O","data-testid":"overlay","data-popup":At?"modal":"tooltip",className:"popup-overlay "+(we!==""?we.split(" ").map(function(Lt){return Lt+"-overlay"}).join(" "):""),style:Yd({},Ll,de,{pointerEvents:v&&m||At?"auto":"none"}),onClick:v&&m?gr:void 0,tabIndex:-1},At&&eo()),!At&&eo()];return I.createElement(I.Fragment,null,Pr(),Vt&&xC.createPortal(da,Ure()))});function JU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JU(t))&&(r&&(r+=" "),r+=e);return r}function hl(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ne(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Fh(t){if(!hl(t)&&typeof t!="number")return!1;const e=ne(t);return!isNaN(Number(e))}const $re={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bre=(t,e,n)=>{let r;const i=$re[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ow(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Hre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zre={date:ow({formats:Hre,defaultWidth:"full"}),time:ow({formats:Vre,defaultWidth:"full"}),dateTime:ow({formats:Wre,defaultWidth:"full"})},Yre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qre=(t,e,n,r)=>Yre[t];function nd(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Gre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eie=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tie={ordinalNumber:eie,era:nd({values:Gre,defaultWidth:"wide"}),quarter:nd({values:Kre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nd({values:Qre,defaultWidth:"wide"}),day:nd({values:Xre,defaultWidth:"wide"}),dayPeriod:nd({values:Zre,defaultWidth:"wide",formattingValues:Jre,defaultFormattingWidth:"wide"})};function rd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?rie(a,d=>d.test(o)):nie(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function nie(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rie(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iie(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const sie=/^(\d+)(th|st|nd|rd)?/i,oie=/\d+/i,aie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lie={any:[/^b/i,/^(a|c)/i]},cie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uie={any:[/1/i,/2/i,/3/i,/4/i]},die={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vie={ordinalNumber:iie({matchPattern:sie,parsePattern:oie,valueCallback:t=>parseInt(t,10)}),era:rd({matchPatterns:aie,defaultMatchWidth:"wide",parsePatterns:lie,defaultParseWidth:"any"}),quarter:rd({matchPatterns:cie,defaultMatchWidth:"wide",parsePatterns:uie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rd({matchPatterns:die,defaultMatchWidth:"wide",parsePatterns:hie,defaultParseWidth:"any"}),day:rd({matchPatterns:fie,defaultMatchWidth:"wide",parsePatterns:pie,defaultParseWidth:"any"}),dayPeriod:rd({matchPatterns:mie,defaultMatchWidth:"any",parsePatterns:gie,defaultParseWidth:"any"})},e$={code:"en-US",formatDistance:Bre,formatLong:zre,formatRelative:qre,localize:tie,match:vie,options:{weekStartsOn:0,firstWeekContainsDate:1}};let yie={};function Il(){return yie}const t$=6048e5,_ie=864e5,xy=6e4,Ry=36e5,wie=1e3;function Ki(t){const e=ne(t);return e.setHours(0,0,0,0),e}function $g(t){const e=ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jh(t,e){const n=Ki(t),r=Ki(e),i=+n-$g(n),s=+r-$g(r);return Math.round((i-s)/_ie)}function st(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ay(t){const e=ne(t),n=st(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bie(t){const e=ne(t);return jh(e,Ay(e))+1}function Ys(t,e){const n=Il(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ne(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function au(t){return Ys(t,{weekStartsOn:1})}function n$(t){const e=ne(t),n=e.getFullYear(),r=st(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=au(r),s=st(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=au(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Eie(t){const e=n$(t),n=st(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),au(n)}function RD(t){const e=ne(t),n=+au(e)-+Eie(e);return Math.round(n/t$)+1}function AD(t,e){const n=ne(t),r=n.getFullYear(),i=Il(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=st(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Ys(o,e),l=st(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ys(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Sie(t,e){const n=Il(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=AD(t,e),s=st(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ys(s,e)}function r$(t,e){const n=ne(t),r=+Ys(n,e)-+Sie(n,e);return Math.round(r/t$)+1}function it(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return it(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):it(n+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return it(i,e.length)}},Wl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return io.y(t,e)},Y:function(t,e,n,r){const i=AD(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return it(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):it(s,e.length)},R:function(t,e){const n=n$(t);return it(n,e.length)},u:function(t,e){const n=t.getFullYear();return it(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=r$(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):it(i,e.length)},I:function(t,e,n){const r=RD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,n){const r=bie(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return it(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return it(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return it(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Wl.noon:r===0?i=Wl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Wl.evening:r>=12?i=Wl.afternoon:r>=4?i=Wl.morning:i=Wl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return NA(r);case"XXXX":case"XX":return ya(r);case"XXXXX":case"XXX":default:return ya(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return NA(r);case"xxxx":case"xx":return ya(r);case"xxxxx":case"xxx":default:return ya(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MA(r,":");case"OOOO":default:return"GMT"+ya(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MA(r,":");case"zzzz":default:return"GMT"+ya(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return it(r,e.length)},T:function(t,e,n){const r=t.getTime();return it(r,e.length)}};function MA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+it(s,2)}function NA(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):ya(t,e)}function ya(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=it(Math.trunc(r/60),2),s=it(r%60,2);return n+i+e+s}const OA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},i$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cie=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return OA(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",OA(r,e)).replace("{{time}}",i$(i,e))},Bg={p:i$,P:Cie},Die=/^D+$/,Tie=/^Y+$/,kie=["D","DD","YY","YYYY"];function s$(t){return Die.test(t)}function o$(t){return Tie.test(t)}function Vb(t,e,n){const r=xie(t,e,n);if(console.warn(r),kie.includes(t))throw new RangeError(r)}function xie(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Aie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iie=/^'([^]*?)'?$/,Mie=/''/g,Nie=/[a-zA-Z]/;function PA(t,e,n){const r=Il(),i=n?.locale??r.locale??e$,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ne(t);if(!Fh(a))throw new RangeError("Invalid time value");let l=e.match(Aie).map(u=>{const d=u[0];if(d==="p"||d==="P"){const h=Bg[d];return h(u,i.formatLong)}return u}).join("").match(Rie).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:Oie(u)};if(IA[d])return{isToken:!0,value:u};if(d.match(Nie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!n?.useAdditionalWeekYearTokens&&o$(d)||!n?.useAdditionalDayOfYearTokens&&s$(d))&&Vb(d,e,String(t));const h=IA[d[0]];return h(a,d,i.localize,c)}).join("")}function Oie(t){const e=t.match(Iie);return e?e[1].replace(Mie,"'"):t}function ID(t,e){const n=+ne(t);return st(t,n+e)}function Wb(t,e){return ID(t,e*xy)}function Pie(t,e){return ID(t,e*Ry)}function ca(t,e){const n=ne(t);return isNaN(e)?st(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Hg(t,e){const n=e*7;return ca(t,n)}function yi(t,e){const n=ne(t);if(isNaN(e))return st(t,NaN);if(!e)return n;const r=n.getDate(),i=st(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function MD(t,e){const n=e*3;return yi(t,n)}function Is(t,e){return yi(t,e*12)}function Lie(t,e){return ca(t,-e)}function LA(t,e){return Hg(t,-e)}function lu(t,e){return yi(t,-e)}function a$(t,e){return MD(t,-e)}function cu(t,e){return Is(t,-e)}function Ms(t){return ne(t).getSeconds()}function Qi(t){return ne(t).getMinutes()}function Xi(t){return ne(t).getHours()}function Fie(t){return ne(t).getDay()}function FA(t){return ne(t).getDate()}function Jn(t){return ne(t).getMonth()}function Ba(t){const e=ne(t);return Math.trunc(e.getMonth()/3)+1}function Ue(t){return ne(t).getFullYear()}function zb(t){return ne(t).getTime()}function lm(t,e){const n=ne(t);return n.setSeconds(e),n}function cm(t,e){const n=ne(t);return n.setMinutes(e),n}function um(t,e){const n=ne(t);return n.setHours(e),n}function jie(t){const e=ne(t),n=e.getFullYear(),r=e.getMonth(),i=st(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Qn(t,e){const n=ne(t),r=n.getFullYear(),i=n.getDate(),s=st(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=jie(s);return n.setMonth(e,Math.min(i,o)),n}function Gl(t,e){const n=ne(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return Qn(n,n.getMonth()+i*3)}function Di(t,e){const n=ne(t);return isNaN(+n)?st(t,NaN):(n.setFullYear(e),n)}function jA(t){let e;return t.forEach(n=>{const r=ne(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function UA(t){let e;return t.forEach(function(n){const r=ne(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Vg(t,e){const n=ne(t),r=ne(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Wg(t,e){const n=ne(t),r=ne(e);return n.getFullYear()-r.getFullYear()}function zg(t,e){const n=ne(t),r=ne(e),i=n.getFullYear()-r.getFullYear(),s=Ba(n)-Ba(r);return i*4+s}function l$(t){const e=ne(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Yb(t){const e=ne(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function qb(t){const e=ne(t);return e.setHours(23,59,59,999),e}function Uie(t,e){const n=Il(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ne(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function $ie(t){const e=ne(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function c$(t){const e=ne(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Bie(t,e){const n=ne(t),r=ne(e);return+n==+r}function Hie(t,e){const n=Ki(t),r=Ki(e);return+n==+r}function Vie(t,e){const n=ne(t),r=ne(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Wie(t,e){const n=ne(t),r=ne(e);return n.getFullYear()===r.getFullYear()}function zie(t,e){const n=Yb(t),r=Yb(e);return+n==+r}function Qo(t,e){const n=ne(t),r=ne(e);return n.getTime()>r.getTime()}function fl(t,e){const n=ne(t),r=ne(e);return+n<+r}function Uh(t,e){const n=+ne(t),[r,i]=[+ne(e.start),+ne(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function Yie(){return Object.assign({},Il())}function qie(t,e){const n=e instanceof Date?st(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const Gie=10;class u${subPriority=0;validate(e,n){return!0}}class Kie extends u${constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Qie extends u${priority=Gie;subPriority=-1;set(e,n){return n.timestampIsSet?e:st(e,qie(e,Date))}}class nt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new Kie(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class Xie extends nt{priority=140;parse(e,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,n,r){return n.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Yt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ii={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Mt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Mi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Ry+s*xy+o*wie),rest:e.slice(n[0].length)}}function d$(t){return Mt(Yt.anyDigitsSigned,t)}function Ht(t,e){switch(t){case 1:return Mt(Yt.singleDigit,e);case 2:return Mt(Yt.twoDigits,e);case 3:return Mt(Yt.threeDigits,e);case 4:return Mt(Yt.fourDigits,e);default:return Mt(new RegExp("^\\d{1,"+t+"}"),e)}}function Yg(t,e){switch(t){case 1:return Mt(Yt.singleDigitSigned,e);case 2:return Mt(Yt.twoDigitsSigned,e);case 3:return Mt(Yt.threeDigitsSigned,e);case 4:return Mt(Yt.fourDigitsSigned,e);default:return Mt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ND(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function h$(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function f$(t){return t%400===0||t%4===0&&t%100!==0}class Zie extends nt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return qt(Ht(4,e),i);case"yo":return qt(r.ordinalNumber(e,{unit:"year"}),i);default:return qt(Ht(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r){const i=e.getFullYear();if(r.isTwoDigitYear){const o=h$(r.year,i);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const s=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class Jie extends nt{priority=130;parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return qt(Ht(4,e),i);case"Yo":return qt(r.ordinalNumber(e,{unit:"year"}),i);default:return qt(Ht(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r,i){const s=AD(e,i);if(r.isTwoDigitYear){const a=h$(r.year,s);return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,i)}const o=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Ys(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class ese extends nt{priority=130;parse(e,n){return Yg(n==="R"?4:n.length,e)}set(e,n,r){const i=st(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),au(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class tse extends nt{priority=130;parse(e,n){return Yg(n==="u"?4:n.length,e)}set(e,n,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class nse extends nt{priority=120;parse(e,n,r){switch(n){case"Q":case"QQ":return Ht(n.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class rse extends nt{priority=120;parse(e,n,r){switch(n){case"q":case"qq":return Ht(n.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class ise extends nt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,r){const i=s=>s-1;switch(n){case"M":return qt(Mt(Yt.month,e),i);case"MM":return qt(Ht(2,e),i);case"Mo":return qt(r.ordinalNumber(e,{unit:"month"}),i);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class sse extends nt{priority=110;parse(e,n,r){const i=s=>s-1;switch(n){case"L":return qt(Mt(Yt.month,e),i);case"LL":return qt(Ht(2,e),i);case"Lo":return qt(r.ordinalNumber(e,{unit:"month"}),i);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function ose(t,e,n){const r=ne(t),i=r$(r,n)-e;return r.setDate(r.getDate()-i*7),r}class ase extends nt{priority=100;parse(e,n,r){switch(n){case"w":return Mt(Yt.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return Ht(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r,i){return Ys(ose(e,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function lse(t,e){const n=ne(t),r=RD(n)-e;return n.setDate(n.getDate()-r*7),n}class cse extends nt{priority=100;parse(e,n,r){switch(n){case"I":return Mt(Yt.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return Ht(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r){return au(lse(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const use=[31,28,31,30,31,30,31,31,30,31,30,31],dse=[31,29,31,30,31,30,31,31,30,31,30,31];class hse extends nt{priority=90;subPriority=1;parse(e,n,r){switch(n){case"d":return Mt(Yt.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return Ht(n.length,e)}}validate(e,n){const r=e.getFullYear(),i=f$(r),s=e.getMonth();return i?n>=1&&n<=dse[s]:n>=1&&n<=use[s]}set(e,n,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class fse extends nt{priority=90;subpriority=1;parse(e,n,r){switch(n){case"D":case"DD":return Mt(Yt.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return Ht(n.length,e)}}validate(e,n){const r=e.getFullYear();return f$(r)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function OD(t,e,n){const r=Il(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ne(t),o=s.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return ca(s,u)}class pse extends nt{priority=90;parse(e,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=OD(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class mse extends nt{priority=90;parse(e,n,r,i){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"e":case"ee":return qt(Ht(n.length,e),s);case"eo":return qt(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=OD(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class gse extends nt{priority=90;parse(e,n,r,i){const s=o=>{const a=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+a};switch(n){case"c":case"cc":return qt(Ht(n.length,e),s);case"co":return qt(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=OD(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function vse(t){let n=ne(t).getDay();return n===0&&(n=7),n}function yse(t,e){const n=ne(t),r=vse(n),i=e-r;return ca(n,i)}class _se extends nt{priority=90;parse(e,n,r){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Ht(n.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return qt(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return qt(r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return qt(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return qt(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,n){return n>=1&&n<=7}set(e,n,r){return e=yse(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class wse extends nt{priority=80;parse(e,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(ND(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class bse extends nt{priority=80;parse(e,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(ND(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Ese extends nt{priority=80;parse(e,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(ND(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class Sse extends nt{priority=70;parse(e,n,r){switch(n){case"h":return Mt(Yt.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return Ht(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,r){const i=e.getHours()>=12;return i&&r<12?e.setHours(r+12,0,0,0):!i&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class Cse extends nt{priority=70;parse(e,n,r){switch(n){case"H":return Mt(Yt.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return Ht(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Dse extends nt{priority=70;parse(e,n,r){switch(n){case"K":return Mt(Yt.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return Ht(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Tse extends nt{priority=70;parse(e,n,r){switch(n){case"k":return Mt(Yt.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return Ht(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,r){const i=r<=24?r%24:r;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class kse extends nt{priority=60;parse(e,n,r){switch(n){case"m":return Mt(Yt.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return Ht(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class xse extends nt{priority=50;parse(e,n,r){switch(n){case"s":return Mt(Yt.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return Ht(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class Rse extends nt{priority=30;parse(e,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return qt(Ht(n.length,e),r)}set(e,n,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class Ase extends nt{priority=10;parse(e,n){switch(n){case"X":return Mi(Ii.basicOptionalMinutes,e);case"XX":return Mi(Ii.basic,e);case"XXXX":return Mi(Ii.basicOptionalSeconds,e);case"XXXXX":return Mi(Ii.extendedOptionalSeconds,e);case"XXX":default:return Mi(Ii.extended,e)}}set(e,n,r){return n.timestampIsSet?e:st(e,e.getTime()-$g(e)-r)}incompatibleTokens=["t","T","x"]}class Ise extends nt{priority=10;parse(e,n){switch(n){case"x":return Mi(Ii.basicOptionalMinutes,e);case"xx":return Mi(Ii.basic,e);case"xxxx":return Mi(Ii.basicOptionalSeconds,e);case"xxxxx":return Mi(Ii.extendedOptionalSeconds,e);case"xxx":default:return Mi(Ii.extended,e)}}set(e,n,r){return n.timestampIsSet?e:st(e,e.getTime()-$g(e)-r)}incompatibleTokens=["t","T","X"]}class Mse extends nt{priority=40;parse(e){return d$(e)}set(e,n,r){return[st(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Nse extends nt{priority=20;parse(e){return d$(e)}set(e,n,r){return[st(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Ose={G:new Xie,y:new Zie,Y:new Jie,R:new ese,u:new tse,Q:new nse,q:new rse,M:new ise,L:new sse,w:new ase,I:new cse,d:new hse,D:new fse,E:new pse,e:new mse,c:new gse,i:new _se,a:new wse,b:new bse,B:new Ese,h:new Sse,H:new Cse,K:new Dse,k:new Tse,m:new kse,s:new xse,S:new Rse,X:new Ase,x:new Ise,t:new Mse,T:new Nse},Pse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fse=/^'([^]*?)'?$/,jse=/''/g,Use=/\S/,$se=/[a-zA-Z]/;function aw(t,e,n,r){const i=Yie(),s=r?.locale??i.locale??e$,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(e==="")return t===""?ne(n):st(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},c=[new Qie],u=e.match(Lse).map(m=>{const _=m[0];if(_ in Bg){const v=Bg[_];return v(m,s.formatLong)}return m}).join("").match(Pse),d=[];for(let m of u){!r?.useAdditionalWeekYearTokens&&o$(m)&&Vb(m,e,t),!r?.useAdditionalDayOfYearTokens&&s$(m)&&Vb(m,e,t);const _=m[0],v=Ose[_];if(v){const{incompatibleTokens:y}=v;if(Array.isArray(y)){const E=d.find(T=>y.includes(T.token)||T.token===_);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${m}\` at the same time`)}else if(v.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:_,fullToken:m});const w=v.run(t,m,s.match,l);if(!w)return st(n,NaN);c.push(w.setter),t=w.rest}else{if(_.match($se))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(m==="''"?m="'":_==="'"&&(m=Bse(m)),t.indexOf(m)===0)t=t.slice(m.length);else return st(n,NaN)}}if(t.length>0&&Use.test(t))return st(n,NaN);const h=c.map(m=>m.priority).sort((m,_)=>_-m).filter((m,_,v)=>v.indexOf(m)===_).map(m=>c.filter(_=>_.priority===m).sort((_,v)=>v.subPriority-_.subPriority)).map(m=>m[0]);let f=ne(n);if(isNaN(f.getTime()))return st(n,NaN);const p={};for(const m of h){if(!m.validate(f,l))return st(n,NaN);const _=m.set(f,p,l);Array.isArray(_)?(f=_[0],Object.assign(p,_[1])):f=_}return st(n,f)}function Bse(t){return t.match(Fse)[1].replace(jse,"'")}function Hse(t,e){const n=e?.additionalDigits??2,r=Yse(t);let i;if(r.date){const l=qse(r.date,n);i=Gse(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=Kse(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=Qse(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+a)}const Dp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Vse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Wse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zse=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yse(t){const e={},n=t.split(Dp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Dp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Dp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Dp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function qse(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Gse(t,e){if(e===null)return new Date(NaN);const n=t.match(Vse);if(!n)return new Date(NaN);const r=!!n[4],i=id(n[1]),s=id(n[2])-1,o=id(n[3]),a=id(n[4]),l=id(n[5])-1;if(r)return toe(e,a,l)?Xse(e,a,l):new Date(NaN);{const c=new Date(0);return!Jse(e,s,o)||!eoe(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function id(t){return t?parseInt(t):1}function Kse(t){const e=t.match(Wse);if(!e)return NaN;const n=lw(e[1]),r=lw(e[2]),i=lw(e[3]);return noe(n,r,i)?n*Ry+r*xy+i*1e3:NaN}function lw(t){return t&&parseFloat(t.replace(",","."))||0}function Qse(t){if(t==="Z")return 0;const e=t.match(zse);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return roe(r,i)?n*(r*Ry+i*xy):NaN}function Xse(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const Zse=[31,null,31,30,31,30,31,31,30,31,30,31];function p$(t){return t%400===0||t%4===0&&t%100!==0}function Jse(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Zse[e]||(p$(t)?29:28))}function eoe(t,e){return e>=1&&e<=(p$(t)?366:365)}function toe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function noe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function roe(t,e){return e>=0&&e<=59}function ioe(t,e){return ID(t,e*1e3)}function soe(t,e){let n=ne(t);return isNaN(+n)?st(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Qn(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function ooe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Gb(t,e)}function aoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $A(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function loe(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function coe(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&loe(t,e,n))return!0;t=t.parentNode||t.host}return t}function uoe(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var doe=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function hoe(t){return t===void 0&&(t=0),function(){return++t}}var foe=hoe(),Kb,Tp={},cw={},poe=["touchstart","touchmove"],moe="ignore-react-onclickoutside";function BA(t,e){var n={},r=poe.indexOf(e)!==-1;return r&&Kb&&(n.passive=!t.props.preventDefault),n}function Iy(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(s){ooe(o,s);function o(l){var c;return c=s.call(this,l)||this,c.__outsideClickHandler=function(u){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(u);return}var d=c.getInstance();if(typeof d.props.handleClickOutside=="function"){d.props.handleClickOutside(u);return}if(typeof d.handleClickOutside=="function"){d.handleClickOutside(u);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var u=c.getInstance();return e&&typeof e.setClickOutsideRef=="function"?e.setClickOutsideRef()(u):typeof u.setClickOutsideRef=="function"?u.setClickOutsideRef():Iu.findDOMNode(u)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||cw[c._uid])){typeof Kb>"u"&&(Kb=doe()),cw[c._uid]=!0;var u=c.props.eventTypes;u.forEach||(u=[u]),Tp[c._uid]=function(d){if(c.componentNode!==null&&(c.props.preventDefault&&d.preventDefault(),c.props.stopPropagation&&d.stopPropagation(),!(c.props.excludeScrollbar&&uoe(d)))){var h=d.composed&&d.composedPath&&d.composedPath().shift()||d.target;coe(h,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(d)}},u.forEach(function(d){document.addEventListener(d,Tp[c._uid],BA($A(c),d))})}},c.disableOnClickOutside=function(){delete cw[c._uid];var u=Tp[c._uid];if(u&&typeof document<"u"){var d=c.props.eventTypes;d.forEach||(d=[d]),d.forEach(function(h){return document.removeEventListener(h,u,BA($A(c),h))}),delete Tp[c._uid]}},c.getRef=function(u){return c.instanceRef=u},c._uid=foe(),c}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var c=this.getInstance();if(e&&typeof e.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=e.handleClickOutside(c),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+i+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var u=aoe(c,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?u.ref=this.getRef:u.wrappedRef=this.getRef,u.disableOnClickOutside=this.disableOnClickOutside,u.enableOnClickOutside=this.enableOnClickOutside,C.createElement(t,u)},o}(C.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:moe,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function Fu(t){return m$(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qs(t){var e;return(e=(m$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function m$(t){return t instanceof Node||t instanceof Tr(t).Node}function dr(t){return t instanceof Element||t instanceof Tr(t).Element}function os(t){return t instanceof HTMLElement||t instanceof Tr(t).HTMLElement}function HA(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function Mf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_i(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function goe(t){return["table","td","th"].includes(Fu(t))}function PD(t){const e=LD(),n=_i(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function voe(t){let e=Xo(t);for(;os(e)&&!uu(e);){if(PD(e))return e;e=Xo(e)}return null}function LD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uu(t){return["html","body","#document"].includes(Fu(t))}function _i(t){return Tr(t).getComputedStyle(t)}function My(t){return dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Xo(t){if(Fu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HA(t)&&t.host||Qs(t);return HA(e)?e.host:e}function g$(t){const e=Xo(t);return uu(e)?t.ownerDocument?t.ownerDocument.body:t.body:os(e)&&Mf(e)?e:g$(e)}function $h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=g$(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Tr(i);return s?e.concat(o,o.visualViewport||[],Mf(i)?i:[],o.frameElement&&n?$h(o.frameElement):[]):e.concat(i,$h(i,[],n))}const du=Math.min,Ha=Math.max,qg=Math.round,kp=Math.floor,Zo=t=>({x:t,y:t}),yoe={left:"right",right:"left",bottom:"top",top:"bottom"},_oe={start:"end",end:"start"};function woe(t,e,n){return Ha(t,du(e,n))}function Ny(t,e){return typeof t=="function"?t(e):t}function hu(t){return t.split("-")[0]}function Nf(t){return t.split("-")[1]}function boe(t){return t==="x"?"y":"x"}function FD(t){return t==="y"?"height":"width"}function jD(t){return["top","bottom"].includes(hu(t))?"y":"x"}function UD(t){return boe(jD(t))}function Eoe(t,e,n){n===void 0&&(n=!1);const r=Nf(t),i=UD(t),s=FD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Gg(o)),[o,Gg(o)]}function Soe(t){const e=Gg(t);return[Qb(t),e,Qb(e)]}function Qb(t){return t.replace(/start|end/g,e=>_oe[e])}function Coe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Doe(t,e,n,r){const i=Nf(t);let s=Coe(hu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Qb)))),s}function Gg(t){return t.replace(/left|right|bottom|top/g,e=>yoe[e])}function Toe(t){return{top:0,right:0,bottom:0,left:0,...t}}function v$(t){return typeof t!="number"?Toe(t):{top:t,right:t,bottom:t,left:t}}function Kg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function VA(t,e,n){let{reference:r,floating:i}=t;const s=jD(e),o=UD(e),a=FD(o),l=hu(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Nf(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const koe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=VA(c,r,l),h=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:_,fn:v}=a[m],{x:y,y:w,data:E,reset:T}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=w??d,f={...f,[_]:{...f[_],...E}},T&&p<=50&&(p++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:d}=VA(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function xoe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ny(e,t),p=v$(f),_=a[h?d==="floating"?"reference":"floating":d],v=Kg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},T=Kg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-T.top+p.top)/E.y,bottom:(T.bottom-v.bottom+p.bottom)/E.y,left:(v.left-T.left+p.left)/E.x,right:(T.right-v.right+p.right)/E.x}}const Roe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ny(t,e)||{};if(c==null)return{};const d=v$(u),h={x:n,y:r},f=UD(i),p=FD(f),m=await o.getDimensions(c),_=f==="y",v=_?"top":"left",y=_?"bottom":"right",w=_?"clientHeight":"clientWidth",E=s.reference[p]+s.reference[f]-h[f]-s.floating[p],T=h[f]-s.reference[f],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=b?b[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(b)))&&(k=a.floating[w]||s.floating[p]);const x=E/2-T/2,L=k/2-m[p]/2-1,$=du(d[v],L),ee=du(d[y],L),se=$,de=k-m[p]-ee,De=k/2-m[p]/2+x,we=woe(se,De,de),Pe=!l.arrow&&Nf(i)!=null&&De!==we&&s.reference[p]/2-(De<se?$:ee)-m[p]/2<0,oe=Pe?De<se?De-se:De-de:0;return{[f]:h[f]+oe,data:{[f]:we,centerOffset:De-we-oe,...Pe&&{alignmentOffset:oe}},reset:Pe}}}),Aoe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,..._}=Ny(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=hu(i),y=hu(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(y||!m?[Gg(a)]:Soe(a));!h&&p!=="none"&&E.push(...Doe(a,m,p,w));const T=[a,...E],b=await xoe(e,_),k=[];let x=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(b[v]),d){const se=Eoe(i,o,w);k.push(b[se[0]],b[se[1]])}if(x=[...x,{placement:i,overflows:k}],!k.every(se=>se<=0)){var L,$;const se=(((L=s.flip)==null?void 0:L.index)||0)+1,de=T[se];if(de)return{data:{index:se,overflows:x},reset:{placement:de}};let De=($=x.filter(we=>we.overflows[0]<=0).sort((we,Pe)=>we.overflows[1]-Pe.overflows[1])[0])==null?void 0:$.placement;if(!De)switch(f){case"bestFit":{var ee;const we=(ee=x.map(Pe=>[Pe.placement,Pe.overflows.filter(oe=>oe>0).reduce((oe,V)=>oe+V,0)]).sort((Pe,oe)=>Pe[1]-oe[1])[0])==null?void 0:ee[0];we&&(De=we);break}case"initialPlacement":De=a;break}if(i!==De)return{reset:{placement:De}}}return{}}}};async function Ioe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=hu(n),a=Nf(n),l=jD(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Ny(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const Moe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Ioe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function y$(t){const e=_i(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=os(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=qg(n)!==s||qg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function $D(t){return dr(t)?t:t.contextElement}function Nc(t){const e=$D(t);if(!os(e))return Zo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=y$(e);let o=(s?qg(n.width):n.width)/r,a=(s?qg(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Noe=Zo(0);function _$(t){const e=Tr(t);return!LD()||!e.visualViewport?Noe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ooe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=$D(t);let o=Zo(1);e&&(r?dr(r)&&(o=Nc(r)):o=Nc(t));const a=Ooe(s,n,r)?_$(s):Zo(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Tr(s),f=r&&dr(r)?Tr(r):r;let p=h,m=p.frameElement;for(;m&&r&&f!==p;){const _=Nc(m),v=m.getBoundingClientRect(),y=_i(m),w=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*_.x,E=v.top+(m.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=w,c+=E,p=Tr(m),m=p.frameElement}}return Kg({width:u,height:d,x:l,y:c})}const Poe=[":popover-open",":modal"];function BD(t){return Poe.some(e=>{try{return t.matches(e)}catch{return!1}})}function Loe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Qs(r),a=e?BD(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Zo(1);const u=Zo(0),d=os(r);if((d||!d&&!s)&&((Fu(r)!=="body"||Mf(o))&&(l=My(r)),os(r))){const h=pl(r);c=Nc(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Foe(t){return Array.from(t.getClientRects())}function w$(t){return pl(Qs(t)).left+My(t).scrollLeft}function joe(t){const e=Qs(t),n=My(t),r=t.ownerDocument.body,i=Ha(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ha(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+w$(t);const a=-n.scrollTop;return _i(r).direction==="rtl"&&(o+=Ha(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Uoe(t,e){const n=Tr(t),r=Qs(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=LD();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function $oe(t,e){const n=pl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=os(t)?Nc(t):Zo(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function WA(t,e,n){let r;if(e==="viewport")r=Uoe(t,n);else if(e==="document")r=joe(Qs(t));else if(dr(e))r=$oe(e,n);else{const i=_$(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Kg(r)}function b$(t,e){const n=Xo(t);return n===e||!dr(n)||uu(n)?!1:_i(n).position==="fixed"||b$(n,e)}function Boe(t,e){const n=e.get(t);if(n)return n;let r=$h(t,[],!1).filter(a=>dr(a)&&Fu(a)!=="body"),i=null;const s=_i(t).position==="fixed";let o=s?Xo(t):t;for(;dr(o)&&!uu(o);){const a=_i(o),l=PD(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mf(o)&&!l&&b$(t,o))?r=r.filter(u=>u!==o):i=a,o=Xo(o)}return e.set(t,r),r}function Hoe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?BD(e)?[]:Boe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=WA(e,u,i);return c.top=Ha(d.top,c.top),c.right=du(d.right,c.right),c.bottom=du(d.bottom,c.bottom),c.left=Ha(d.left,c.left),c},WA(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Voe(t){const{width:e,height:n}=y$(t);return{width:e,height:n}}function Woe(t,e,n){const r=os(e),i=Qs(e),s=n==="fixed",o=pl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Zo(0);if(r||!r&&!s)if((Fu(e)!=="body"||Mf(i))&&(a=My(e)),r){const d=pl(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=w$(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function uw(t){return _i(t).position==="static"}function zA(t,e){return!os(t)||_i(t).position==="fixed"?null:e?e(t):t.offsetParent}function E$(t,e){const n=Tr(t);if(BD(t))return n;if(!os(t)){let i=Xo(t);for(;i&&!uu(i);){if(dr(i)&&!uw(i))return i;i=Xo(i)}return n}let r=zA(t,e);for(;r&&goe(r)&&uw(r);)r=zA(r,e);return r&&uu(r)&&uw(r)&&!PD(r)?n:r||voe(t)||n}const zoe=async function(t){const e=this.getOffsetParent||E$,n=this.getDimensions,r=await n(t.floating);return{reference:Woe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Yoe(t){return _i(t).direction==="rtl"}const S$={convertOffsetParentRelativeRectToViewportRelativeRect:Loe,getDocumentElement:Qs,getClippingRect:Hoe,getOffsetParent:E$,getElementRects:zoe,getClientRects:Foe,getDimensions:Voe,getScale:Nc,isElement:dr,isRTL:Yoe};function qoe(t,e){let n=null,r;const i=Qs(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=kp(u),p=kp(i.clientWidth-(c+d)),m=kp(i.clientHeight-(u+h)),_=kp(c),y={rootMargin:-f+"px "+-p+"px "+-m+"px "+-_+"px",threshold:Ha(0,du(1,l))||1};let w=!0;function E(T){const b=T[0].intersectionRatio;if(b!==l){if(!w)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(E,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(t)}return o(!0),s}function Goe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$D(t),u=i||s?[...c?$h(c):[],...$h(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?qoe(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?pl(t):null;l&&_();function _(){const v=pl(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,p=requestAnimationFrame(_)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d?.(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const Koe=Moe,Qoe=Aoe,YA=Roe,Xoe=(t,e,n)=>{const r=new Map,i={platform:S$,...n},s={...i.platform,_c:r};return koe(t,e,{...i,platform:s})},Zoe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?YA({element:r.current,padding:i}).fn(n):{}:r?YA({element:r,padding:i}).fn(n):{}}}};var dm=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Qg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Qg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function C$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qA(t,e){const n=C$(t);return Math.round(e*n)/n}function GA(t){const e=C.useRef(t);return dm(()=>{e.current=t}),e}function Joe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=C.useState(r);Qg(h,r)||f(r);const[p,m]=C.useState(null),[_,v]=C.useState(null),y=C.useCallback(oe=>{oe!==b.current&&(b.current=oe,m(oe))},[]),w=C.useCallback(oe=>{oe!==k.current&&(k.current=oe,v(oe))},[]),E=s||p,T=o||_,b=C.useRef(null),k=C.useRef(null),x=C.useRef(u),L=l!=null,$=GA(l),ee=GA(i),se=C.useCallback(()=>{if(!b.current||!k.current)return;const oe={placement:e,strategy:n,middleware:h};ee.current&&(oe.platform=ee.current),Xoe(b.current,k.current,oe).then(V=>{const X={...V,isPositioned:!0};de.current&&!Qg(x.current,X)&&(x.current=X,Iu.flushSync(()=>{d(X)}))})},[h,e,n,ee]);dm(()=>{c===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,d(oe=>({...oe,isPositioned:!1})))},[c]);const de=C.useRef(!1);dm(()=>(de.current=!0,()=>{de.current=!1}),[]),dm(()=>{if(E&&(b.current=E),T&&(k.current=T),E&&T){if($.current)return $.current(E,T,se);se()}},[E,T,se,$,L]);const De=C.useMemo(()=>({reference:b,floating:k,setReference:y,setFloating:w}),[y,w]),we=C.useMemo(()=>({reference:E,floating:T}),[E,T]),Pe=C.useMemo(()=>{const oe={position:n,left:0,top:0};if(!we.floating)return oe;const V=qA(we.floating,u.x),X=qA(we.floating,u.y);return a?{...oe,transform:"translate("+V+"px, "+X+"px)",...C$(we.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:X}},[n,a,we.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:se,refs:De,elements:we,floatingStyles:Pe}),[u,se,De,we,Pe])}const D$={...q1},eae=D$.useInsertionEffect,tae=eae||(t=>t());function nae(t){const e=C.useRef(()=>{});return tae(()=>{e.current=t}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Xb=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}let KA=!1,rae=0;const QA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+rae++;function iae(){const[t,e]=C.useState(()=>KA?QA():void 0);return Xb(()=>{t==null&&e(QA())},[]),C.useEffect(()=>{KA=!0},[]),t}const sae=D$.useId,T$=sae||iae,oae=C.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s}},width:o=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:u,stroke:d,d:h,style:{transform:f,...p}={},...m}=e,_=T$();if(!i)return null;const v=c*2,y=v/2,w=o/2*(l/-8+1),E=a/2*l/4,[T,b]=r.split("-"),k=S$.isRTL(i),x=!!h,L=T==="top"||T==="bottom",$=u&&b==="end"?"bottom":"top";let ee=u&&b==="end"?"right":"left";u&&k&&(ee=b==="end"?"left":"right");const se=s?.x!=null?u||s.x:"",de=s?.y!=null?u||s.y:"",De=h||"M0,0"+(" H"+o)+(" L"+(o-w)+","+(a-E))+(" Q"+o/2+","+a+" "+w+","+(a-E))+" Z",we={top:x?"rotate(180deg)":"",left:x?"rotate(90deg)":"rotate(-90deg)",bottom:x?"":"rotate(180deg)",right:x?"rotate(-90deg)":"rotate(90deg)"}[T];return C.createElement("svg",Zb({},m,{"aria-hidden":!0,ref:n,width:x?o:o+v,height:o,viewBox:"0 0 "+o+" "+(a>o?a:o),style:{position:"absolute",pointerEvents:"none",[ee]:se,[$]:de,[T]:L||x?"100%":"calc(100% - "+v/2+"px)",transform:""+we+(f??""),...p}}),v>0&&C.createElement("path",{clipPath:"url(#"+_+")",fill:"none",stroke:d,strokeWidth:v+(h?0:1),d:De}),C.createElement("path",{stroke:v&&!h?m.fill:"none",d:De}),C.createElement("clipPath",{id:_},C.createElement("rect",{x:-y,y:y*(x?-1:1),width:o+v,height:o})))});function aae(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const lae=C.createContext(null),cae=C.createContext(null),uae=()=>{var t;return((t=C.useContext(lae))==null?void 0:t.id)||null},dae=()=>C.useContext(cae);function hae(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[s,o]=C.useState(null),[a,l]=C.useState(null),u=((e=t.elements)==null?void 0:e.reference)||s;Xb(()=>{u&&(m.current=u)},[u]);const d=Joe({...t,elements:{...t.elements,...a&&{reference:a}}}),h=dae(),f=uae()!=null,p=nae((x,L,$)=>{_.current.openEvent=x?L:void 0,v.emit("openchange",{open:x,event:L,reason:$,nested:f}),r?.(x,L,$)}),m=C.useRef(null),_=C.useRef({}),v=C.useState(()=>aae())[0],y=T$(),w=C.useCallback(x=>{const L=dr(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(L),d.refs.setReference(L)},[d.refs]),E=C.useCallback(x=>{(dr(x)||x===null)&&(m.current=x,o(x)),(dr(d.refs.reference.current)||d.refs.reference.current===null||x!==null&&!dr(x))&&d.refs.setReference(x)},[d.refs]),T=C.useMemo(()=>({...d.refs,setReference:E,setPositionReference:w,domReference:m}),[d.refs,E,w]),b=C.useMemo(()=>({...d.elements,domReference:u}),[d.elements,u]),k=C.useMemo(()=>({...d,refs:T,elements:b,dataRef:_,nodeId:i,floatingId:y,events:v,open:n,onOpenChange:p}),[d,i,y,v,n,p,T,b]);return Xb(()=>{const x=h?.nodesRef.current.find(L=>L.id===i);x&&(x.context=k)}),C.useMemo(()=>({...d,context:k,refs:T,elements:b}),[d,T,b,k])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function yn(t,e,n){return e=Xg(e),mae(t,k$()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x$(t){var e=fae(t,"string");return typeof e=="symbol"?e:e+""}function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function wn(t,e,n){return e&&ZA(t.prototype,e),n&&ZA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function bn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function pae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mae(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pae(t)}function Jo(t){return gae(t)||vae(t)||yae(t)||_ae()}function gae(t){if(Array.isArray(t))return tE(t)}function vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yae(t,e){if(t){if(typeof t=="string")return tE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Of=12,wae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ot(t){var e=t?typeof t=="string"||t instanceof String?Hse(t):ne(t):new Date;return lo(e)?e:null}function bae(t,e,n,r,i){var s=null,o=Ns(n)||Ns(Va()),a=!0;return Array.isArray(e)?(e.forEach(function(l){var c=aw(t,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(a=lo(c,i)&&t===Et(c,l,n)),lo(c,i)&&a&&(s=c)}),s):(s=aw(t,e,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?a=lo(s)&&t===Et(s,e,n):lo(s)||(e=e.match(wae).map(function(l){var c=l[0];if(c==="p"||c==="P"){var u=Bg[c];return o?u(l,o.formatLong):c}return l}).join(""),t.length>0&&(s=aw(t,e.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),lo(s)||(s=new Date(t))),lo(s)&&a?s:null)}function lo(t,e){return e=e||new Date("1/1/1000"),Fh(t)&&!fl(t,e)}function Et(t,e,n){if(n==="en")return PA(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Ns(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Va()&&Ns(Va())&&(r=Ns(Va())),PA(t,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Lr(t,e){var n=e.dateFormat,r=e.locale;return t&&Et(t,Array.isArray(n)?n[0]:n,r)||""}function Eae(t,e,n){if(!t)return"";var r=Lr(t,n),i=e?Lr(e,n):"";return"".concat(r," - ").concat(i)}function Sae(t,e){if(!(t!=null&&t.length))return"";var n=Lr(t[0],e);if(t.length===1)return n;if(t.length===2){var r=Lr(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function dw(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return um(cm(lm(t,a),s),r)}function Cae(t,e){return e&&Ns(e)||Va()&&Ns(Va()),RD(t)}function Dae(t,e){return Et(t,"ddd",e)}function Tae(t){return Ki(t)}function Fo(t,e,n){var r=Ns(e||Va());return Ys(t,{locale:r,weekStartsOn:n})}function jo(t){return l$(t)}function _d(t){return Ay(t)}function JA(t){return Yb(t)}function e1(){return Ki(ot())}function kae(t){return Uie(t)}function ki(t,e){return t&&e?Wie(t,e):!t&&!e}function _r(t,e){return t&&e?Vie(t,e):!t&&!e}function Zg(t,e){return t&&e?zie(t,e):!t&&!e}function et(t,e){return t&&e?Hie(t,e):!t&&!e}function Ra(t,e){return t&&e?Bie(t,e):!t&&!e}function wd(t,e,n){var r,i=Ki(e),s=qb(n);try{r=Uh(t,{start:i,end:s})}catch{r=!1}return r}function Va(){var t=typeof window<"u"?window:globalThis;return t.__localeId__}function Ns(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}else return t}function xae(t,e,n){return e(Et(t,"EEEE",n))}function Rae(t,e){return Et(t,"EEEEEE",e)}function Aae(t,e){return Et(t,"EEE",e)}function HD(t,e){return Et(Qn(ot(),t),"LLLL",e)}function R$(t,e){return Et(Qn(ot(),t),"LLL",e)}function Iae(t,e){return Et(Gl(ot(),t),"QQQ",e)}function Oy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.excludeDateIntervals,o=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return Py(t,{minDate:n,maxDate:r})||i&&i.some(function(c){return et(t,c.date?c.date:c)})||s&&s.some(function(c){var u=c.start,d=c.end;return Uh(t,{start:u,end:d})})||o&&!o.some(function(c){return et(t,c)})||a&&!a.some(function(c){var u=c.start,d=c.end;return Uh(t,{start:u,end:d})})||l&&!l(ot(t))||!1}function VD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var s=i.start,o=i.end;return Uh(t,{start:s,end:o})}):n&&n.some(function(i){return et(t,i.date?i.date:i)})||!1}function hm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return Py(t,{minDate:l$(n),maxDate:$ie(r)})||i&&i.some(function(a){return _r(t,a)})||s&&!s.some(function(a){return _r(t,a)})||o&&!o(ot(t))||!1}function xp(t,e,n,r){var i=Ue(t),s=Jn(t),o=Ue(e),a=Jn(e),l=Ue(r);if(i===o&&i===l)return s<=n&&n<=a;if(i<o)return l===i&&s<=n||l===o&&a>=n||l<o&&l>i}function hw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return Py(t,{minDate:n,maxDate:r})||i&&i.some(function(a){return Zg(t,a)})||s&&!s.some(function(a){return Zg(t,a)})||o&&!o(ot(t))||!1}function Rp(t,e,n){if(!Fh(e)||!Fh(n))return!1;var r=Ue(e),i=Ue(n);return r<=t&&i>=t}function A$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate,a=new Date(t,0,1);return Py(a,{minDate:Ay(n),maxDate:c$(r)})||i&&i.some(function(l){return ki(a,l)})||s&&!s.some(function(l){return ki(a,l)})||o&&!o(ot(a))||!1}function Ap(t,e,n,r){var i=Ue(t),s=Ba(t),o=Ue(e),a=Ba(e),l=Ue(r);if(i===o&&i===l)return s<=n&&n<=a;if(i<o)return l===i&&s<=n||l===o&&a>=n||l<o&&l>i}function Py(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&jh(t,n)<0||r&&jh(t,r)>0}function t1(t,e){return e.some(function(n){return Xi(n)===Xi(t)&&Qi(n)===Qi(t)&&Ms(n)===Ms(t)})}function n1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return n&&t1(t,n)||r&&!t1(t,r)||i&&!i(t)||!1}function r1(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=ot();i=um(i,Xi(t)),i=cm(i,Qi(t)),i=lm(i,Ms(t));var s=ot();s=um(s,Xi(n)),s=cm(s,Qi(n)),s=lm(s,Ms(n));var o=ot();o=um(o,Xi(r)),o=cm(o,Qi(r)),o=lm(o,Ms(r));var a;try{a=!Uh(i,{start:s,end:o})}catch{a=!1}return a}function i1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=lu(t,1);return n&&Vg(n,i)>0||r&&r.every(function(s){return Vg(s,i)>0})||!1}function s1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=yi(t,1);return n&&Vg(i,n)>0||r&&r.every(function(s){return Vg(i,s)>0})||!1}function Mae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=Ay(t),s=a$(i,1);return n&&zg(n,s)>0||r&&r.every(function(o){return zg(o,s)>0})||!1}function Nae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=c$(t),s=MD(i,1);return n&&zg(s,n)>0||r&&r.every(function(o){return zg(s,o)>0})||!1}function o1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=cu(t,1);return n&&Wg(n,i)>0||r&&r.every(function(s){return Wg(s,i)>0})||!1}function Oae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.yearItemNumber,i=r===void 0?Of:r,s=_d(cu(t,i)),o=So(s,i),a=o.endPeriod,l=n&&Ue(n);return l&&l>a||!1}function a1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=Is(t,1);return n&&Wg(i,n)>0||r&&r.every(function(s){return Wg(i,s)>0})||!1}function Pae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.yearItemNumber,i=r===void 0?Of:r,s=Is(t,i),o=So(s,i),a=o.startPeriod,l=n&&Ue(n);return l&&l<a||!1}function I$(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return jh(i,e)>=0});return jA(r)}else return n?jA(n):e}function M$(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return jh(i,e)<=0});return UA(r)}else return n?UA(n):e}function l1(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=t.length;r<i;r++){var s=t[r];if(hl(s)){var o=Et(s,"MM.dd.yyyy"),a=n.get(o)||[];a.includes(e)||(a.push(e),n.set(o,a))}else if(Jb(s)==="object"){var l=Object.keys(s),c=l[0],u=s[l[0]];if(typeof c=="string"&&u.constructor===Array)for(var d=0,h=u.length;d<h;d++){var f=Et(u[d],"MM.dd.yyyy"),p=n.get(f)||[];p.includes(c)||(p.push(c),n.set(f,p))}}}return n}function Lae(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function Fae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(hl(i)){var o=Et(i,"MM.dd.yyyy"),a=n.get(o)||{};if(!("className"in a&&a.className===e&&Lae(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?[].concat(Jo(l),[s]):[s],n.set(o,a)}}}),n}function jae(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t;l=Pie(l,Xi(i[a])),l=Wb(l,Qi(i[a])),l=ioe(l,Ms(i[a]));var c=Wb(t,(n+1)*r);Qo(l,e)&&fl(l,c)&&o.push(i[a])}return o}function c1(t){return t<10?"0".concat(t):"".concat(t)}function So(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Of,n=Math.ceil(Ue(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function Uae(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function u1(t){var e=t.getSeconds(),n=t.getMilliseconds();return ne(t.getTime()-e*1e3-n)}function $ae(t,e){return u1(t).getTime()===u1(e).getTime()}function d1(t){if(!hl(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function h1(t,e){if(!hl(t)||!hl(e))throw new Error("Invalid date received");var n=d1(t),r=d1(e);return fl(n,r)}function N$(t){var e=" ";return t.key===e}function Bae(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=Ue(n)<=o),r&&a&&(a=Ue(r)>=o),a&&i.push(o)}return i}var Hae=function(t){function e(n){var r;_n(this,e),r=yn(this,e,[n]),S(r,"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return I.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?I.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=r.props.minDate?Ue(r.props.minDate):null,u=r.props.maxDate?Ue(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift(I.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},I.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push(I.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},I.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),S(r,"onChange",function(a){r.props.onChange(a)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),S(r,"shiftYears",function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})}),S(r,"incrementYears",function(){return r.shiftYears(1)}),S(r,"decrementYears",function(){return r.shiftYears(-1)});var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:Bae(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=C.createRef(),r}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var i=r.children?Array.from(r.children):null,s=i?i.find(function(o){return o.ariaSelected}):null;r.scrollTop=s?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=xn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return I.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(I.Component),Vae=Iy(Hae),Wae=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=n.props.minDate?Ue(n.props.minDate):1900,a=n.props.maxDate?Ue(n.props.maxDate):2100,l=[],c=o;c<=a;c++)l.push(I.createElement("option",{key:c,value:c},c));return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return I.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){return I.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return n.toggleDropdown(l)}},I.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),I.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),S(n,"renderDropdown",function(){return I.createElement(Vae,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)}),S(n,"toggleDropdown",function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})}),S(n,"handleYearChange",function(o,a){n.onSelect(o,a),n.setOpen()}),S(n,"onSelect",function(o,a){n.props.onSelect&&n.props.onSelect(o,a)}),S(n,"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return bn(e,t),wn(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return I.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(I.Component),zae=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"isSelectedMonth",function(o){return n.props.month===o}),S(n,"renderOptions",function(){return n.props.monthNames.map(function(o,a){return I.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?I.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})}),S(n,"onChange",function(o){return n.props.onChange(o)}),S(n,"handleClickOutside",function(){return n.props.onCancel()}),n}return bn(e,t),wn(e,[{key:"render",value:function(){return I.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(I.Component),Yae=Iy(zae),qae=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(o){return o.map(function(a,l){return I.createElement("option",{key:l,value:l},a)})}),S(n,"renderSelectMode",function(o){return I.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(l){return n.onChange(l.target.value)}},n.renderSelectOptions(o))}),S(n,"renderReadView",function(o,a){return I.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},I.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),I.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))}),S(n,"renderDropdown",function(o){return I.createElement(Yae,{key:"dropdown",month:n.props.month,monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown})}),S(n,"renderScrollMode",function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l}),S(n,"onChange",function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return bn(e,t),wn(e,[{key:"render",value:function(){var r=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return R$(o,r.props.locale)}:function(o){return HD(o,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(i);break;case"select":s=this.renderSelectMode(i);break}return I.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)}}])}(I.Component);function Gae(t,e){for(var n=[],r=jo(t),i=jo(e);!Qo(r,i);)n.push(ot(r)),r=yi(r,1);return n}var Kae=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),S(r,"renderOptions",function(){return r.state.monthYearsList.map(function(i){var s=zb(i),o=ki(r.props.date,i)&&_r(r.props.date,i);return I.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?I.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Et(i,r.props.dateFormat,r.props.locale))})}),S(r,"onChange",function(i){return r.props.onChange(i)}),S(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:Gae(r.props.minDate,r.props.maxDate)},r}return bn(e,t),wn(e,[{key:"render",value:function(){var r=xn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return I.createElement("div",{className:r},this.renderOptions())}}])}(I.Component),Qae=Iy(Kae),Xae=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"state",{dropdownVisible:!1}),S(n,"renderSelectOptions",function(){for(var o=jo(n.props.minDate),a=jo(n.props.maxDate),l=[];!Qo(o,a);){var c=zb(o);l.push(I.createElement("option",{key:c,value:c},Et(o,n.props.dateFormat,n.props.locale))),o=yi(o,1)}return l}),S(n,"onSelectChange",function(o){n.onChange(o.target.value)}),S(n,"renderSelectMode",function(){return I.createElement("select",{value:zb(jo(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),S(n,"renderReadView",function(o){var a=Et(n.props.date,n.props.dateFormat,n.props.locale);return I.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(c){return n.toggleDropdown(c)}},I.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),I.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),S(n,"renderDropdown",function(){return I.createElement(Qae,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),S(n,"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),S(n,"onChange",function(o){n.toggleDropdown();var a=ot(parseInt(o));ki(n.props.date,a)&&_r(n.props.date,a)||n.props.onChange(a)}),S(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return bn(e,t),wn(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return I.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(I.Component),Zae=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"dayEl",I.createRef()),S(n,"handleClick",function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)}),S(n,"handleMouseEnter",function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isSameDay",function(o){return et(n.props.day,o)}),S(n,"isKeyboardSelected",function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return n.isSameDayOrWeek(l)}):n.isSameDayOrWeek(n.props.selected);return!a&&n.isSameDayOrWeek(n.props.preSelection)}),S(n,"isDisabled",function(){return Oy(n.props.day,n.props)}),S(n,"isExcluded",function(){return VD(n.props.day,n.props)}),S(n,"isStartOfWeek",function(){return et(n.props.day,Fo(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameWeek",function(o){return n.props.showWeekPicker&&et(o,Fo(n.props.day,n.props.locale,n.props.calendarStartDay))}),S(n,"isSameDayOrWeek",function(o){return n.isSameDay(o)||n.isSameWeek(o)}),S(n,"getHighLightedClass",function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var c=Et(a,"MM.dd.yyyy");return l.get(c)}),S(n,"getHolidaysClass",function(){var o=n.props,a=o.day,l=o.holidays;if(!l)return!1;var c=Et(a,"MM.dd.yyyy");if(l.has(c))return[l.get(c).className]}),S(n,"isInRange",function(){var o=n.props,a=o.day,l=o.startDate,c=o.endDate;return!l||!c?!1:wd(a,l,c)}),S(n,"isInSelectingRange",function(){var o,a=n.props,l=a.day,c=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,h=a.selectsDisabledDaysInRange,f=a.startDate,p=a.endDate,m=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(c||u||d)||!m||!h&&n.isDisabled()?!1:c&&p&&(fl(m,p)||Ra(m,p))?wd(l,m,p):u&&f&&(Qo(m,f)||Ra(m,f))||d&&f&&!p&&(Qo(m,f)||Ra(m,f))?wd(l,f,m):!1}),S(n,"isSelectingRangeStart",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,c=a.startDate,u=a.selectsStart,d=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return u?et(l,d):et(l,c)}),S(n,"isSelectingRangeEnd",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,c=a.endDate,u=a.selectsEnd,d=a.selectsRange,h=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return u||d?et(l,h):et(l,c)}),S(n,"isRangeStart",function(){var o=n.props,a=o.day,l=o.startDate,c=o.endDate;return!l||!c?!1:et(l,a)}),S(n,"isRangeEnd",function(){var o=n.props,a=o.day,l=o.startDate,c=o.endDate;return!l||!c?!1:et(c,a)}),S(n,"isWeekend",function(){var o=Fie(n.props.day);return o===0||o===6}),S(n,"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Jn(n.props.day)}),S(n,"isBeforeMonth",function(){return n.props.month!==void 0&&(Jn(n.props.day)+1)%12===n.props.month}),S(n,"isCurrentDay",function(){return n.isSameDay(ot())}),S(n,"isSelected",function(){if(n.props.selectsMultiple){var o;return(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)})}return n.isSameDayOrWeek(n.props.selected)}),S(n,"getClassNames",function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return xn("react-datepicker__day",a,"react-datepicker__day--"+Dae(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),S(n,"getAriaLabel",function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,u=o.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,h=n.isDisabled()||n.isExcluded()?d:c;return"".concat(h," ").concat(Et(a,"PPPP",n.props.locale))}),S(n,"getTitle",function(){var o=n.props,a=o.day,l=o.holidays,c=l===void 0?new Map:l,u=o.excludeDates,d=Et(a,"MM.dd.yyyy"),h=[];return c.has(d)&&h.push.apply(h,Jo(c.get(d).holidayNames)),n.isExcluded()&&h.push(u?.filter(function(f){return et(f.date?f.date:f,a)}).map(function(f){return f.message})),h.join(", ")}),S(n,"getTabIndex",function(o,a){var l=o||n.props.selected,c=a||n.props.preSelection,u=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(l)&&et(c,l))?0:-1;return u}),S(n,"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!a.isInputFocused&&n.isSameDay(n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(l=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(l=!1)),l&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),S(n,"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(FA(n.props.day),n.props.day):FA(n.props.day)}),S(n,"render",function(){return I.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&I.createElement("span",{className:"overlay"},n.getTitle()))}),n}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(I.Component),Jae=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"weekNumberEl",I.createRef()),S(n,"handleClick",function(o){n.props.onClick&&n.props.onClick(o)}),S(n,"handleOnKeyDown",function(o){var a=o.key;a===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!et(n.props.date,n.props.selected)&&et(n.props.date,n.props.preSelection)}),S(n,"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||et(n.props.date,n.props.selected)&&et(n.props.preSelection,n.props.selected))?0:-1}),S(n,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;n.getTabIndex()===0&&!o.isInputFocused&&et(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,i=r.weekNumber,s=r.ariaLabelPrefix,o=s===void 0?"week ":s,a=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&et(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return I.createElement("div",{ref:this.weekNumberEl,className:xn(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(I.Component),ele=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleWeekClick",function(o,a,l){typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(o,a,l),n.props.showWeekPicker&&n.handleDayClick(o,l),n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),S(n,"formatWeekNumber",function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):Cae(o)}),S(n,"renderDays",function(){var o=n.startOfWeek(),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var c=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;a.push(I.createElement(Jae,{key:"W",weekNumber:l,date:o,onClick:c,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(u){var d=ca(o,u);return I.createElement(Zae,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,month:n.props.month,onClick:n.handleDayClick.bind(n,d),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(n,d),minDate:n.props.minDate,maxDate:n.props.maxDate,calendarStartDay:n.props.calendarStartDay,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),S(n,"startOfWeek",function(){return Fo(n.props.day,n.props.locale,n.props.calendarStartDay)}),S(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!et(n.startOfWeek(),n.props.selected)&&et(n.startOfWeek(),n.props.preSelection)}),n}return bn(e,t),wn(e,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":et(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return I.createElement("div",{className:xn(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(I.Component),tle=6,Oc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},fw=S(S(S({},Oc.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Oc.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Oc.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),Ip=1;function f1(t,e){return t?Oc.FOUR_COLUMNS:e?Oc.TWO_COLUMNS:Oc.THREE_COLUMNS}var nle=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"MONTH_REFS",Jo(Array(12)).map(function(){return I.createRef()})),S(n,"QUARTER_REFS",Jo(Array(4)).map(function(){return I.createRef()})),S(n,"isDisabled",function(o){return Oy(o,n.props)}),S(n,"isExcluded",function(o){return VD(o,n.props)}),S(n,"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a,n.props.orderInDisplay)}),S(n,"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),S(n,"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),S(n,"isRangeStartMonth",function(o){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:_r(Qn(l,o),c)}),S(n,"isRangeStartQuarter",function(o){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Zg(Gl(l,o),c)}),S(n,"isRangeEndMonth",function(o){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:_r(Qn(l,o),u)}),S(n,"isRangeEndQuarter",function(o){var a=n.props,l=a.day,c=a.startDate,u=a.endDate;return!c||!u?!1:Zg(Gl(l,o),u)}),S(n,"isInSelectingRangeMonth",function(o){var a,l=n.props,c=l.day,u=l.selectsStart,d=l.selectsEnd,h=l.selectsRange,f=l.startDate,p=l.endDate,m=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||d||h)||!m?!1:u&&p?xp(m,p,o,c):d&&f||h&&f&&!p?xp(f,m,o,c):!1}),S(n,"isSelectingMonthRangeStart",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,c=l.day,u=l.startDate,d=l.selectsStart,h=Qn(c,o),f=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return d?_r(h,f):_r(h,u)}),S(n,"isSelectingMonthRangeEnd",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,c=l.day,u=l.endDate,d=l.selectsEnd,h=l.selectsRange,f=Qn(c,o),p=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return d||h?_r(f,p):_r(f,u)}),S(n,"isInSelectingRangeQuarter",function(o){var a,l=n.props,c=l.day,u=l.selectsStart,d=l.selectsEnd,h=l.selectsRange,f=l.startDate,p=l.endDate,m=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||d||h)||!m?!1:u&&p?Ap(m,p,o,c):d&&f||h&&f&&!p?Ap(f,m,o,c):!1}),S(n,"isWeekInMonth",function(o){var a=n.props.day,l=ca(o,6);return _r(o,a)||_r(l,a)}),S(n,"isCurrentMonth",function(o,a){return Ue(o)===Ue(ot())&&a===Jn(ot())}),S(n,"isCurrentQuarter",function(o,a){return Ue(o)===Ue(ot())&&a===Ba(ot())}),S(n,"isSelectedMonth",function(o,a,l){return Jn(l)===a&&Ue(o)===Ue(l)}),S(n,"isSelectedQuarter",function(o,a,l){return Ba(o)===a&&Ue(o)===Ue(l)}),S(n,"renderWeeks",function(){for(var o=[],a=n.props.fixedHeight,l=0,c=!1,u=Fo(jo(n.props.day),n.props.locale,n.props.calendarStartDay),d=n.props.showWeekPicker?Fo(n.props.selected,n.props.locale,n.props.calendarStartDay):n.props.selected,h=n.props.showWeekPicker?Fo(n.props.preSelection,n.props.locale,n.props.calendarStartDay):n.props.preSelection;o.push(I.createElement(ele,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:l,day:u,month:Jn(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:h,selected:d,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!c;){l++,u=Hg(u,1);var f=a&&l>=tle,p=!a&&!n.isWeekInMonth(u);if(f||p)if(n.props.peekNextMonth)c=!0;else break}return o}),S(n,"onMonthClick",function(o,a){var l=Qn(n.props.day,a);hm(l,n.props)||n.handleDayClick(jo(l),o)}),S(n,"onMonthMouseEnter",function(o){var a=Qn(n.props.day,o);hm(a,n.props)||n.handleDayMouseEnter(jo(a))}),S(n,"handleMonthNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.MONTH_REFS[o].current&&n.MONTH_REFS[o].current.focus())}),S(n,"onMonthKeyDown",function(o,a){var l=n.props,c=l.selected,u=l.preSelection,d=l.disabledKeyboardNavigation,h=l.showTwoColumnMonthYearPicker,f=l.showFourColumnMonthYearPicker,p=l.setPreSelection,m=l.handleOnMonthKeyDown,_=o.key;if(_!=="Tab"&&o.preventDefault(),!d){var v=f1(f,h),y=fw[v].verticalNavigationOffset,w=fw[v].grid;switch(_){case"Enter":n.onMonthClick(o,a),p(c);break;case"ArrowRight":n.handleMonthNavigation(a===11?0:a+Ip,yi(u,Ip));break;case"ArrowLeft":n.handleMonthNavigation(a===0?11:a-Ip,lu(u,Ip));break;case"ArrowUp":n.handleMonthNavigation(w[0].includes(a)?a+12-y:a-y,lu(u,y));break;case"ArrowDown":n.handleMonthNavigation(w[w.length-1].includes(a)?a-12+y:a+y,yi(u,y));break}}m&&m(o)}),S(n,"onQuarterClick",function(o,a){var l=Gl(n.props.day,a);hw(l,n.props)||n.handleDayClick(JA(l),o)}),S(n,"onQuarterMouseEnter",function(o){var a=Gl(n.props.day,o);hw(a,n.props)||n.handleDayMouseEnter(JA(a))}),S(n,"handleQuarterNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.QUARTER_REFS[o-1].current&&n.QUARTER_REFS[o-1].current.focus())}),S(n,"onQuarterKeyDown",function(o,a){var l=o.key;if(!n.props.disabledKeyboardNavigation)switch(l){case"Enter":n.onQuarterClick(o,a),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(a===4?1:a+1,MD(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(a===1?4:a-1,a$(n.props.preSelection,1));break}}),S(n,"isMonthDisabled",function(o){var a=n.props,l=a.day,c=a.minDate,u=a.maxDate,d=a.excludeDates,h=a.includeDates,f=Qn(l,o);return(c||u||d||h)&&hm(f,n.props)}),S(n,"getMonthClassNames",function(o){var a=n.props,l=a.day,c=a.startDate,u=a.endDate,d=a.selected,h=a.preSelection,f=a.monthClassName,p=f?f(Qn(l,o)):void 0;return xn("react-datepicker__month-text","react-datepicker__month-".concat(o),p,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":n.isSelectedMonth(l,o,d),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&n.isSelectedMonth(l,o,h),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":xp(c,u,o,l),"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})}),S(n,"getTabIndex",function(o){var a=Jn(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getQuarterTabIndex",function(o){var a=Ba(n.props.preSelection),l=!n.props.disabledKeyboardNavigation&&o===a?"0":"-1";return l}),S(n,"getAriaLabel",function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,u=a.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,h=a.day,f=a.locale,p=Qn(h,o),m=n.isDisabled(p)||n.isExcluded(p)?d:c;return"".concat(m," ").concat(Et(p,"MMMM yyyy",f))}),S(n,"getQuarterClassNames",function(o){var a=n.props,l=a.day,c=a.startDate,u=a.endDate,d=a.selected,h=a.minDate,f=a.maxDate,p=a.preSelection,m=a.disabledKeyboardNavigation;return xn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(h||f)&&hw(Gl(l,o),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(l,o,d),"react-datepicker__quarter-text--keyboard-selected":!m&&n.isSelectedQuarter(l,o,p),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":Ap(c,u,o,l),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})}),S(n,"getMonthContent",function(o){var a=n.props,l=a.showFullMonthYearPicker,c=a.renderMonthContent,u=a.locale,d=a.day,h=R$(o,u),f=HD(o,u);return c?c(o,h,f,d):l?f:h}),S(n,"getQuarterContent",function(o){var a=n.props,l=a.renderQuarterContent,c=a.locale,u=Iae(o,c);return l?l(o,u):u}),S(n,"renderMonths",function(){var o=n.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,c=o.day,u=o.selected,d=fw[f1(l,a)].grid;return d.map(function(h,f){return I.createElement("div",{className:"react-datepicker__month-wrapper",key:f},h.map(function(p,m){return I.createElement("div",{ref:n.MONTH_REFS[p],key:m,onClick:function(v){n.onMonthClick(v,p)},onKeyDown:function(v){N$(v)&&(v.preventDefault(),v.key="Enter"),n.onMonthKeyDown(v,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:n.getTabIndex(p),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(c,p)?"date":void 0,"aria-selected":n.isSelectedMonth(c,p,u)},n.getMonthContent(p))}))})}),S(n,"renderQuarters",function(){var o=n.props,a=o.day,l=o.selected,c=[1,2,3,4];return I.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(u,d){return I.createElement("div",{key:d,ref:n.QUARTER_REFS[d],role:"option",onClick:function(f){n.onQuarterClick(f,u)},onKeyDown:function(f){n.onQuarterKeyDown(f,u)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(u)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(u)}:void 0,className:n.getQuarterClassNames(u),"aria-selected":n.isSelectedQuarter(a,u,l),tabIndex:n.getQuarterTabIndex(u),"aria-current":n.isCurrentQuarter(a,u)?"date":void 0},n.getQuarterContent(u))}))}),S(n,"getClassNames",function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,c=o.selectsEnd,u=o.showMonthYearPicker,d=o.showQuarterYearPicker,h=o.showWeekPicker;return xn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||c)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":h})}),n}return bn(e,t),wn(e,[{key:"render",value:function(){var r=this.props,i=r.showMonthYearPicker,s=r.showQuarterYearPicker,o=r.day,a=r.ariaLabelPrefix,l=a===void 0?"Month ":a,c=l?l.trim()+" ":"";return I.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Et(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():s?this.renderQuarters():this.renderWeeks())}}])}(I.Component),O$=function(t){function e(){var n;_n(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yn(this,e,[].concat(i)),S(n,"state",{height:null}),S(n,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),S(n,"handleClick",function(o){(n.props.minTime||n.props.maxTime)&&r1(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&n1(o,n.props)||n.props.onChange(o)}),S(n,"isSelectedTime",function(o){return n.props.selected&&$ae(n.props.selected,o)}),S(n,"isDisabledTime",function(o){return(n.props.minTime||n.props.maxTime)&&r1(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&n1(o,n.props)}),S(n,"liClasses",function(o){var a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Xi(o)*3600+Qi(o)*60+Ms(o))%(n.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),S(n,"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&n.handleClick(a),n.props.handleOnKeyDown(o)}),S(n,"renderTimes",function(){for(var o=[],a=n.props.format?n.props.format:"p",l=n.props.intervals,c=n.props.selected||n.props.openToDate||ot(),u=Tae(c),d=n.props.injectTimes&&n.props.injectTimes.sort(function(y,w){return y-w}),h=60*Uae(c),f=h/l,p=0;p<f;p++){var m=Wb(u,p*l);if(o.push(m),d){var _=jae(u,m,p,l,d);o=o.concat(_)}}var v=o.reduce(function(y,w){return w.getTime()<=c.getTime()?w:y},o[0]);return o.map(function(y,w){return I.createElement("li",{key:w,onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(T){y===v&&(n.centerLi=T)},onKeyDown:function(T){n.handleOnKeyDown(T,y)},tabIndex:y===v?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Et(y,a,n.props.locale))})}),n}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,i=this.state.height;return I.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},I.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},I.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),I.createElement("div",{className:"react-datepicker__time"},I.createElement("div",{className:"react-datepicker__time-box"},I.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){r.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(I.Component);S(O$,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var p1=3,rle=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),S(r,"YEAR_REFS",Jo(Array(r.props.yearItemNumber)).map(function(){return I.createRef()})),S(r,"isDisabled",function(i){return Oy(i,r.props)}),S(r,"isExcluded",function(i){return VD(i,r.props)}),S(r,"selectingDate",function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection}),S(r,"updateFocusOnPaginate",function(i){var s=function(){this.YEAR_REFS[i].current.focus()}.bind(r);window.requestAnimationFrame(s)}),S(r,"handleYearClick",function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)}),S(r,"handleYearNavigation",function(i,s){var o=r.props,a=o.date,l=o.yearItemNumber,c=So(a,l),u=c.startPeriod;r.isDisabled(s)||r.isExcluded(s)||(r.props.setPreSelection(s),i-u<0?r.updateFocusOnPaginate(l-(u-i)):i-u>=l?r.updateFocusOnPaginate(Math.abs(l-(i-u))):r.YEAR_REFS[i-u].current.focus())}),S(r,"isSameDay",function(i,s){return et(i,s)}),S(r,"isCurrentYear",function(i){return i===Ue(ot())}),S(r,"isRangeStart",function(i){return r.props.startDate&&r.props.endDate&&ki(Di(ot(),i),r.props.startDate)}),S(r,"isRangeEnd",function(i){return r.props.startDate&&r.props.endDate&&ki(Di(ot(),i),r.props.endDate)}),S(r,"isInRange",function(i){return Rp(i,r.props.startDate,r.props.endDate)}),S(r,"isInSelectingRange",function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,u=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&u?Rp(i,r.selectingDate(),u):a&&c||l&&c&&!u?Rp(i,c,r.selectingDate()):!1}),S(r,"isSelectingRangeStart",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.startDate,a=s.selectsStart,l=Di(ot(),i);return a?ki(l,r.selectingDate()):ki(l,o)}),S(r,"isSelectingRangeEnd",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=Di(ot(),i);return a||l?ki(c,r.selectingDate()):ki(c,o)}),S(r,"isKeyboardSelected",function(i){var s=_d(Di(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!et(s,_d(r.props.selected))&&et(s,_d(r.props.preSelection))}),S(r,"onYearClick",function(i,s){var o=r.props.date;r.handleYearClick(_d(Di(o,s)),i)}),S(r,"onYearKeyDown",function(i,s){var o=i.key,a=r.props,l=a.date,c=a.yearItemNumber,u=a.handleOnKeyDown;if(o!=="Tab"&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(i,s),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(s+1,Is(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(s-1,cu(r.props.preSelection,1));break;case"ArrowUp":{var d=So(l,c),h=d.startPeriod,f=p1,p=s-f;if(p<h){var m=c%f;s>=h&&s<h+m?f=m:f+=m,p=s-f}r.handleYearNavigation(p,cu(r.props.preSelection,f));break}case"ArrowDown":{var _=So(l,c),v=_.endPeriod,y=p1,w=s+y;if(w>v){var E=c%y;s<=v&&s>v-E?y=E:y+=E,w=s+y}r.handleYearNavigation(w,Is(r.props.preSelection,y));break}}u&&u(i)}),S(r,"getYearClassNames",function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,c=s.selected,u=s.excludeDates,d=s.includeDates,h=s.filterDate,f=s.yearClassName;return xn("react-datepicker__year-text","react-datepicker__year-".concat(i),f?f(Di(o,i)):void 0,{"react-datepicker__year-text--selected":i===Ue(c),"react-datepicker__year-text--disabled":(a||l||u||d||h)&&A$(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})}),S(r,"getYearTabIndex",function(i){if(r.props.disabledKeyboardNavigation)return"-1";var s=Ue(r.props.preSelection);return i===s?"0":"-1"}),S(r,"getYearContainerClassNames",function(){var i=r.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return xn("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})}),S(r,"getYearContent",function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i}),r}return bn(e,t),wn(e,[{key:"render",value:function(){for(var r=this,i=[],s=this.props,o=s.date,a=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave,u=So(o,a),d=u.startPeriod,h=u.endPeriod,f=function(_){i.push(I.createElement("div",{ref:r.YEAR_REFS[_-d],onClick:function(y){r.onYearClick(y,_)},onKeyDown:function(y){N$(y)&&(y.preventDefault(),y.key="Enter"),r.onYearKeyDown(y,_)},tabIndex:r.getYearTabIndex(_),className:r.getYearClassNames(_),onMouseEnter:r.props.usePointerEvent?void 0:function(v){return l(v,_)},onPointerEnter:r.props.usePointerEvent?function(v){return l(v,_)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(v){return c(v,_)},onPointerLeave:r.props.usePointerEvent?function(v){return c(v,_)}:void 0,key:_,"aria-current":r.isCurrentYear(_)?"date":void 0},r.getYearContent(_)))},p=d;p<=h;p++)f(p);return I.createElement("div",{className:this.getYearContainerClassNames()},I.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))}}])}(I.Component),ile=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),S(r,"onTimeChange",function(i){r.setState({time:i});var s=r.props.date,o=s instanceof Date&&!isNaN(s),a=o?s:new Date;a.setHours(i.split(":")[0]),a.setMinutes(i.split(":")[1]),r.props.onChange(a)}),S(r,"renderTimeInput",function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?I.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):I.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||a)}})}),r.state={time:r.props.timeString},r}return bn(e,t),wn(e,[{key:"render",value:function(){return I.createElement("div",{className:"react-datepicker__input-time-container"},I.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),I.createElement("div",{className:"react-datepicker-time__input-container"},I.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.timeString!==i.time?{time:r.timeString}:null}}])}(I.Component);function sle(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return I.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)}var ole=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ale=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(e.className||"").split(/\s+/);return ole.some(function(r){return n.indexOf(r)>=0})},lle=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),S(r,"handleClickOutside",function(i){r.props.onClickOutside(i)}),S(r,"setClickOutsideRef",function(){return r.containerRef.current}),S(r,"handleDropdownFocus",function(i){ale(i.target)&&r.props.onDropdownFocus()}),S(r,"getDateInView",function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=I$(r.props),c=M$(r.props),u=ot(),d=a||o||s;return d||(l&&fl(u,l)?l:c&&Qo(u,c)?c:u)}),S(r,"increaseMonth",function(){r.setState(function(i){var s=i.date;return{date:yi(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"decreaseMonth",function(){r.setState(function(i){var s=i.date;return{date:lu(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"handleDayClick",function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)}),S(r,"handleDayMouseEnter",function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)}),S(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),S(r,"handleYearMouseEnter",function(i,s){r.setState({selectingDate:Di(ot(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)}),S(r,"handleYearMouseLeave",function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)}),S(r,"handleYearChange",function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),S(r,"handleMonthChange",function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),S(r,"handleCustomMonthChange",function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))}),S(r,"handleMonthYearChange",function(i){r.handleYearChange(i),r.handleMonthChange(i)}),S(r,"changeYear",function(i){r.setState(function(s){var o=s.date;return{date:Di(o,i)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"changeMonth",function(i){r.setState(function(s){var o=s.date;return{date:Qn(o,i)}},function(){return r.handleMonthChange(r.state.date)})}),S(r,"changeMonthYear",function(i){r.setState(function(s){var o=s.date;return{date:Di(Qn(o,Jn(i)),Ue(i))}},function(){return r.handleMonthYearChange(r.state.date)})}),S(r,"header",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=Fo(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(I.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=ca(s,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return I.createElement("div",{key:a,"aria-label":Et(l,"EEEE",r.props.locale),className:xn("react-datepicker__day-name",u)},c)}))}),S(r,"formatWeekday",function(i,s){return r.props.formatWeekDay?xae(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Aae(i,s):Rae(i,s)}),S(r,"decreaseYear",function(){r.setState(function(i){var s=i.date;return{date:cu(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),S(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=o1(r.state.date,r.props);break;case r.props.showYearPicker:i=Oae(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=Mae(r.state.date,r.props);break;default:i=i1(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,u=c.previousMonthButtonLabel,d=c.previousYearButtonLabel,h=r.props,f=h.previousMonthAriaLabel,p=f===void 0?typeof u=="string"?u:"Previous Month":f,m=h.previousYearAriaLabel,_=m===void 0?typeof d=="string"?d:"Previous Year":m;return I.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?_:p},I.createElement("span",{className:s.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),S(r,"increaseYear",function(){r.setState(function(i){var s=i.date;return{date:Is(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),S(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=a1(r.state.date,r.props);break;case r.props.showYearPicker:i=Pae(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=Nae(r.state.date,r.props);break;default:i=s1(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,u=c.nextMonthButtonLabel,d=c.nextYearButtonLabel,h=r.props,f=h.nextMonthAriaLabel,p=f===void 0?typeof u=="string"?u:"Next Month":f,m=h.nextYearAriaLabel,_=m===void 0?typeof d=="string"?d:"Next Year":m;return I.createElement("button",{type:"button",className:s.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?_:p},I.createElement("span",{className:o.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),S(r,"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),I.createElement("div",{className:s.join(" ")},Et(i,r.props.dateFormat,r.props.locale))}),S(r,"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||i))return I.createElement(Wae,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Ue(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),S(r,"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||i))return I.createElement(qae,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Jn(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),S(r,"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||i))return I.createElement(Xae,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),S(r,"handleTodayButtonClick",function(i){r.props.onSelect(e1(),i),r.props.setPreSelection&&r.props.setPreSelection(e1())}),S(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return I.createElement("div",{className:"react-datepicker__today-button",onClick:function(s){return r.handleTodayButtonClick(s)}},r.props.todayButton)}),S(r,"renderDefaultHeader",function(i){var s=i.monthDate,o=i.i;return I.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),I.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),I.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),S(r,"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.monthDate,o=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=i1(r.state.date,r.props),l=s1(r.state.date,r.props),c=o1(r.state.date,r.props),u=a1(r.state.date,r.props),d=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return I.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(gs(gs({},r.state),{},{customHeaderCount:o,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:u})),d&&I.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),S(r,"renderYearHeader",function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,c=So(s,l),u=c.startPeriod,d=c.endPeriod;return I.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(u," - ").concat(d):Ue(s))}),S(r,"renderHeader",function(i){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}}),S(r,"renderMonths",function(){var i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Is(r.state.date,o):lu(r.state.date,o),l=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:o,c=0;c<r.props.monthsShown;++c){var u=c-l+o,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Is(a,u):yi(a,u),h="month-".concat(c),f=c<r.props.monthsShown-1,p=c>0;s.push(I.createElement("div",{key:h,ref:function(_){r.monthContainer=_},className:"react-datepicker__month-container"},r.renderHeader({monthDate:d,i:c}),I.createElement(nle,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:d,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:c,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:p})))}return s}}),S(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return I.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),I.createElement(rle,Bh({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),S(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return I.createElement(O$,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),S(r,"renderInputTimeSection",function(){var i=new Date(r.props.selected),s=lo(i)&&!!r.props.selected,o=s?"".concat(c1(i.getHours()),":").concat(c1(i.getMinutes())):"";if(r.props.showTimeInput)return I.createElement(ile,{date:i,timeString:o,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),S(r,"renderAriaLiveRegion",function(){var i=So(r.state.date,r.props.yearItemNumber),s=i.startPeriod,o=i.endPeriod,a;return r.props.showYearPicker?a="".concat(s," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?a=Ue(r.state.date):a="".concat(HD(Jn(r.state.date),r.props.locale)," ").concat(Ue(r.state.date)),I.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)}),S(r,"renderChildren",function(){if(r.props.children)return I.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=I.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var i=this;if(this.props.preSelection&&(!et(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!_r(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!et(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||sle;return I.createElement("div",{style:{display:"contents"},ref:this.containerRef},I.createElement(r,{className:xn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Of}}}])}(I.Component),cle=function(e){var n=e.icon,r=e.className,i=r===void 0?"":r,s=e.onClick,o="react-datepicker__calendar-icon";return I.isValidElement(n)?I.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(o," ").concat(i),onClick:function(l){typeof n.props.onClick=="function"&&n.props.onClick(l),typeof s=="function"&&s(l)}}):typeof n=="string"?I.createElement("i",{className:"".concat(o," ").concat(n," ").concat(i),"aria-hidden":"true",onClick:s}):I.createElement("svg",{className:"".concat(o," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},I.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},ule=cle,P$=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),r.el=document.createElement("div"),r}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return xC.createPortal(this.props.children,this.el)}}])}(I.Component),dle="[tabindex], a, button, input, select, textarea",hle=function(e){return!e.disabled&&e.tabIndex!==-1},L$=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),S(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(dle),1,-1).filter(hle)}),S(r,"handleFocusStart",function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),S(r,"handleFocusEnd",function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()}),r.tabLoopRef=I.createRef(),r}return bn(e,t),wn(e,[{key:"render",value:function(){return this.props.enableTabLoop?I.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},I.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,I.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(I.Component);function fle(t){var e=function(r){var i=gs(gs({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),s=I.useRef(),o=hae(gs({open:!i.hidePopper,whileElementsMounted:Goe,placement:i.popperPlacement,middleware:[Qoe({padding:15}),Koe(10),Zoe({element:s})].concat(Jo(i.popperModifiers))},i.popperProps));return I.createElement(t,Bh({},i,{popperProps:gs(gs({},o),{},{arrowRef:s})}))};return e}var ple=function(t){function e(){return _n(this,e),yn(this,e,arguments)}return bn(e,t),wn(e,[{key:"render",value:function(){var r=this.props,i=r.className,s=r.wrapperClassName,o=r.hidePopper,a=r.popperComponent,l=r.targetComponent,c=r.enableTabLoop,u=r.popperOnKeyDown,d=r.portalId,h=r.portalHost,f=r.popperProps,p=r.showArrow,m;if(!o){var _=xn("react-datepicker-popper",i);m=I.createElement(L$,{enableTabLoop:c},I.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:_,"data-placement":f.placement,onKeyDown:u},a,p&&I.createElement(oae,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=I.createElement(this.props.popperContainer,{},m)),d&&!o&&(m=I.createElement(P$,{portalId:d,portalHost:h},m));var v=xn("react-datepicker-wrapper",s);return I.createElement(I.Fragment,null,I.createElement("div",{ref:f.refs.setReference,className:v},l),m)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(I.Component),mle=fle(ple),m1="react-datepicker-ignore-onclickoutside",gle=Iy(lle);function vle(t,e){return t&&e?Jn(t)!==Jn(e)||Ue(t)!==Ue(e):t!==e}var pw="Date input not valid.",Ui=function(t){function e(n){var r;return _n(this,e),r=yn(this,e,[n]),S(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ot()}),S(r,"modifyHolidays",function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Fh(a)?[].concat(Jo(s),[gs(gs({},o),{},{date:a})]):s},[])}),S(r,"calcInitialState",function(){var i,s=r.getPreSelection(),o=I$(r.props),a=M$(r.props),l=o&&fl(s,Ki(o))?o:a&&Qo(s,qb(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:l1(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),S(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),S(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),S(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),S(r,"setOpen",function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:mw},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})}),S(r,"inputOk",function(){return hl(r.state.preSelection)}),S(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),S(r,"handleFocus",function(i){r.state.preventFocus||(r.props.onFocus(i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),S(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),S(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),S(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),S(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),S(r,"handleBlur",function(i){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(i),r.setState({focused:!1})}),S(r,"handleCalendarClickOutside",function(i){r.props.inline||r.setOpen(!1),r.props.onClickOutside(i),r.props.withPortal&&i.preventDefault()}),S(r,"handleChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){r.setState({inputValue:a.target.value,lastPreSelectChange:yle});var l=bae(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!et(l,r.props.selected)&&(l=soe(r.props.selected,{hours:Xi(l),minutes:Qi(l),seconds:Ms(l)})),(l||!a.target.value)&&r.setSelected(l,a,!0)}}),S(r,"handleSelect",function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!h1(i,l))&&r.setOpen(!1)}}),S(r,"setSelected",function(i,s,o,a){var l=i;if(r.props.showYearPicker){if(l!==null&&A$(Ue(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&hm(l,r.props))return}else if(l!==null&&Oy(l,r.props))return;var c=r.props,u=c.onChange,d=c.selectsRange,h=c.startDate,f=c.endDate,p=c.selectsMultiple,m=c.selectedDates,_=c.minTime,v=c.swapRange;if(!Ra(r.props.selected,l)||r.props.allowSameDay||d||p)if(l!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=dw(l,{hour:Xi(r.props.selected),minute:Qi(r.props.selected),second:Ms(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(l=dw(l,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),d){var y=!h&&!f,w=h&&!f,E=h&&f;y?u([l,null],s):w&&(l===null?u([null,null],s):h1(l,h)?u(v?[l,h]:[l,null],s):u([h,l],s)),E&&u([l,null],s)}else if(p)if(!(m!=null&&m.length))u([l],s);else{var T=m.some(function(k){return et(k,l)});if(T){var b=m.filter(function(k){return!et(k,l)});u(b,s)}else u([].concat(Jo(m),[l]),s)}else u(l,s);o||(r.props.onSelect(l,s),r.setState({inputValue:null}))}),S(r,"setPreSelection",function(i){var s=typeof r.props.minDate<"u",o=typeof r.props.maxDate<"u",a=!0;if(i){var l=Ki(i);if(s&&o)a=wd(i,r.props.minDate,r.props.maxDate);else if(s){var c=Ki(r.props.minDate);a=Qo(i,c)||Ra(l,c)}else if(o){var u=qb(r.props.maxDate);a=fl(i,u)||Ra(l,u)}}a&&r.setState({preSelection:i})}),S(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),S(r,"handleTimeChange",function(i){var s=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?i:dw(s,{hour:Xi(i),minute:Qi(i)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),S(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),S(r,"onInputKeyDown",function(i){r.props.onKeyDown(i);var s=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s==="ArrowDown"||s==="ArrowUp"||s==="Enter")&&r.onInputClick();return}if(r.state.open){if(s==="ArrowDown"||s==="ArrowUp"){i.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);a&&a.focus({preventScroll:!0});return}var l=ot(r.state.preSelection);s==="Enter"?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===mw?(r.handleSelect(l,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):s==="Escape"?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):s==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:pw})}}),S(r,"onPortalKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),S(r,"onDayKeyDown",function(i){r.props.onKeyDown(i);var s=i.key,o=i.shiftKey,a=ot(r.state.preSelection);if(s==="Enter")i.preventDefault(),r.handleSelect(a,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(s==="Escape")i.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:pw});else if(!r.props.disabledKeyboardNavigation){var l;switch(s){case"ArrowLeft":r.props.showWeekPicker?l=LA(a,1):l=Lie(a,1);break;case"ArrowRight":r.props.showWeekPicker?l=Hg(a,1):l=ca(a,1);break;case"ArrowUp":l=LA(a,1);break;case"ArrowDown":l=Hg(a,1);break;case"PageUp":l=o?cu(a,1):lu(a,1);break;case"PageDown":l=o?Is(a,1):yi(a,1);break;case"Home":l=Fo(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=kae(a);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:pw});return}if(i.preventDefault(),r.setState({lastPreSelectChange:mw}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var c=Jn(a),u=Jn(l),d=Ue(a),h=Ue(l);c!==u||d!==h?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),S(r,"onPopperKeyDown",function(i){var s=i.key;s==="Escape"&&(i.preventDefault(),r.sendFocusBackToInput())}),S(r,"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})}),S(r,"clear",function(){r.onClearClick()}),S(r,"onScroll",function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)}),S(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:I.createElement(gle,{ref:function(s){r.calendar=s},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:Fae(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:m1,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),S(r,"renderAriaLiveRegion",function(){var i=r.props,s=i.dateFormat,o=i.locale,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Lr(r.props.startDate,{dateFormat:l,locale:o}),". ").concat(r.props.endDate?"End date: "+Lr(r.props.endDate,{dateFormat:l,locale:o}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Lr(r.props.selected,{dateFormat:s,locale:o})):r.props.showYearPicker?c="Selected year: ".concat(Lr(r.props.selected,{dateFormat:"yyyy",locale:o})):r.props.showMonthYearPicker?c="Selected month: ".concat(Lr(r.props.selected,{dateFormat:"MMMM yyyy",locale:o})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Lr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):c="Selected date: ".concat(Lr(r.props.selected,{dateFormat:l,locale:o})),I.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)}),S(r,"renderDateInput",function(){var i,s=xn(r.props.className,S({},m1,r.state.open)),o=r.props.customInput||I.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?Eae(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?Sae(r.props.selectedDates,r.props):Lr(r.props.selected,r.props);return I.cloneElement(o,(i={},S(S(S(S(S(S(S(S(S(S(i,a,function(c){r.input=c}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),S(S(S(S(S(S(S(S(S(S(i,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",xn(o.props.className,s)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),S(S(S(i,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),S(r,"renderClearButton",function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,d=i.clearButtonClassName,h=d===void 0?"":d,f=i.ariaLabelClose,p=f===void 0?"Close":f,m=i.selectedDates;return s&&(a!=null||l!=null||c!=null||m!=null&&m.length)?I.createElement("button",{type:"button",className:xn("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":p,onClick:r.onClearClick,title:u,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return bn(e,t),wn(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,i){r.inline&&vle(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:l1(this.props.highlightDates)}),!i.focused&&!Ra(r.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),i.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,i=r.showIcon,s=r.icon,o=r.calendarIconClassname,a=r.toggleCalendarOnIconClick,l=this.state.open;return I.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&I.createElement(ule,Bh({icon:s,className:"".concat(o," ").concat(l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var i=this.state.open?I.createElement(L$,{enableTabLoop:this.props.enableTabLoop},I.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(i=I.createElement(P$,{portalId:this.props.portalId,portalHost:this.props.portalHost},i)),I.createElement("div",null,this.renderInputContainer(),i)}return I.createElement(mle,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Of,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(I.Component),yle="input",mw="navigate";function _le(t){const e=C.useRef(null),[n,r]=C.useState(null),[i,s]=C.useState(null),[o,a]=C.useState(null),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,f]=C.useState(""),[p,m]=C.useState("");C.useState(null);const[_,v]=C.useState(!1),[y,w]=C.useState(null),[E,T]=C.useState([]),[b,k]=C.useState(!1),[x,L]=C.useState(""),[$,ee]=C.useState(!1),se=async F=>{const W=await n.getEvents();for(const P in W)if(F.endDate>W[P].start&&F.startDate<W[P].end&&F.id!=W[P].id)return!0;return!1};function de(F){const[W,P]=F.split("T"),[z,te,be]=W.split("-");return{date:`${z}-${parseInt(te)}-${parseInt(be)}`,time:P}}function De(F,W){const[P,z,te]=F.split("-").map(Number),[be,Ee]=W.split(":").map(Number);return new Date(P,z-1,te,be,Ee)}function we(F){const W=new Date(F),P=W.getFullYear(),z=String(W.getMonth()+1).padStart(2,"0"),te=String(W.getDate()).padStart(2,"0"),be=String(W.getHours()).padStart(2,"0"),Ee=String(W.getMinutes()).padStart(2,"0");return`${P}-${z}-${te}T${be}:${Ee}`}async function Pe(){const F=await t.getMeetings(t.id);if(F.length!==0)for(const W of F){const P=W.title,z=De(W.startDate,W.startTime),te=De(W.endDate,W.endTime),be=W.id,Ee=W.owner,je=W.downloads;oe(P,z,te,Ee,be,je)}}function oe(F,W,P,z,te,be){n.addEvent({title:F,start:W,end:P,id:te,extendedProps:{owner:z,downloads:be}}),n.render()}const V=async()=>{const F=de(u),W=de(p),P=t.user.user,z={title:l,startDate:F.date,startTime:F.time,endDate:W.date,endTime:W.time,id:t.id,name:t.name,owner:P};if(await se(z))alert("event is overlapping another event");else{const te=await t.addMeeting(z),be=new Date(u),Ee=new Date(p);oe(l,be,Ee,P,te)}c(""),d(""),m(""),s(null)},X=async()=>{const F=de(u);let W=null;h===""?W=F:W=de(h);const P=de(p),z=t.user.user,te={title:l,oldStartDate:W.date,oldStartTime:W.time,startDate:F.date,startTime:F.time,endDate:P.date,endTime:P.time,id:t.id,name:t.name,owner:z};if(await se(te))alert("event is overlapping another event");else{t.updateMeeting(te);const be=new Date(u),Ee=new Date(p);o.setProp("title",l),o.setStart(be),o.setEnd(Ee)}c(""),d(""),f(""),m(""),a(null)},Z=()=>{const F=de(u),W={id:t.id,startDate:F.date,startTime:F.time};t.deleteMeeting(W),o.remove(),c(""),d(""),m(""),a(null)},Ae=F=>{const W=Array.from(F.target.files);T([...E,...W]),k(!1)},Ie=async()=>{if(E.length===0){w("Please select at least one file.");return}try{v(!0),await Promise.all(E.map(async F=>{const W=`${Date.now()}_${F.name}`,P=de(u);await FS(F,W,t.id,P.date,P.time)})),k(!0),w(null),T([]),console.log("Files uploaded successfully.")}catch(F){w("Error uploading file(s)."),console.error("Error uploading file(s):",F)}finally{v(!1)}},ae=()=>{Ie()};C.useEffect(()=>{const F=e.current,W=new by(F,{plugins:[Ey,Sy,Cy,ky],initialView:"timeGridWeek",allDaySlot:!1,slotMinTime:"06:00:00",slotMaxTime:"21:00:00",selectable:t.id!==void 0,slotLabelInterval:{hours:.5},slotDuration:"00:30:00",select:function(P){P.startStr.includes("T")||(P.startStr+="T13:00:00+02:00"),P.endStr.includes("T")||(P.endStr+="T14:00:00+02:00"),P.allDay=!1,s(P)},eventClick:function(P){a(P.event)},forceEventDuration:!0,headerToolbar:{left:"prev,next today",center:"title",right:""},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1}});return r(W),W.render(),ee(!0),()=>{W.destroy()}},[]),C.useEffect(()=>{$&&Pe()},[$]),C.useEffect(()=>{if(o){const F=new Date(o.start.getTime()-o.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);d(F);const W=new Date(o.end.getTime()-o.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);m(W),c(o._def.title)}},[o]),C.useEffect(()=>{if(i){const F=new Date(i.start.getTime()-i.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);d(F);const W=new Date(i.end.getTime()-i.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);m(W)}},[i]);const J=()=>g.jsx("ul",{children:E.map((F,W)=>g.jsx("li",{children:F.name},W))});return g.jsxs("div",{style:{width:"98%",margin:"5"},children:[g.jsx("div",{ref:e}),i&&g.jsx(li,{open:i!==null,onClose:()=>{x===""&&(s(null),c(""))},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Create Event"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"Title:    "}),g.jsx("input",{office:"text",placeholder:"Event Title",style:{marginBottom:"10px",width:"164px"},value:l,onChange:F=>c(F.target.value)})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"startTime",children:"Start Time: "}),u&&g.jsx(Ui,{selected:new Date(u),onChange:F=>d(we(F)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"endTime",children:"End Time:"}),p&&g.jsx(Ui,{selected:new Date(p),onChange:F=>m(we(F)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("button",{style:{marginRight:"80px",backgroundColor:"white"},onClick:()=>s(null),children:"Cancel"}),g.jsx("button",{style:{marginRight:"20px",backgroundColor:"white"},onClick:()=>{L("create")},children:"Save Event"})]})]})}),o&&t.user.user==o.extendedProps.owner&&g.jsx(li,{open:o!==null,onClose:()=>{x===""&&a(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Edit Event"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"Title:    "}),g.jsx("input",{type:"text",placeholder:"Event Title",style:{marginBottom:"10px",width:"164px"},value:l,onChange:F=>c(F.target.value)})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"startTime",children:"Start Time: "}),u&&g.jsx(Ui,{selected:new Date(u),onChange:F=>d(we(F)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"endTime",children:"End Time:"}),p&&g.jsx(Ui,{selected:new Date(p),onChange:F=>m(we(F)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),o&&o.extendedProps&&o.extendedProps.downloads&&g.jsxs("div",{style:{textAlign:"left",marginBottom:"10px"},children:["Download Files:",o.extendedProps.downloads.map((F,W)=>g.jsx("div",{children:g.jsx("a",{href:F.downloadURL,download:F.name,children:F.name})},W))]}),g.jsxs("div",{children:[g.jsx("input",{type:"file",id:"file",onChange:Ae,multiple:!0}),g.jsx("button",{onClick:ae,disabled:_||E.length===0,children:"Upload"}),y&&g.jsx("p",{children:y}),_&&g.jsx("p",{children:"Uploading..."}),b&&g.jsx("p",{children:"Uploading finished!"})]}),E.length>0&&g.jsxs("div",{style:{textAlign:"left",marginBottom:"10px"},children:["Selected Files:",J()]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white"},onClick:()=>{a(null)},children:"Cancel"}),g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white"},onClick:()=>{L("remove")},children:"Remove"}),g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white"},onClick:()=>{L("update")},children:"Confirm"})]})]})}),o&&t.user.user!=o.extendedProps.owner&&g.jsx(li,{open:o!==null,onClose:()=>{a(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"left",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Event Information"}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"title",children:["Title: ",l]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"startTime",children:["Start Time: ",u.split("T")[1]]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"endTime",children:["End Time: ",p.split("T")[1]]})}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{style:{marginRight:"110px",backgroundColor:"white"},onClick:()=>{a(null)},children:"Cancel"})})]})}),x&&g.jsx(li,{open:x!==null,onClose:()=>{L(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Are you sure?"}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",alignItems:"row",justifyContent:"space-between"},children:[g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white",minWidth:"3vw"},onClick:()=>{x==="remove"?Z():x==="update"?X():x==="create"&&V(),L("")},children:"Yes"}),g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white",minWidth:"3vw"},onClick:()=>{L(null)},children:"No"})]})]})})]})}function wle({room:t,onModifyRoomList:e,roomListButtonText:n,viewButtonText:r,loggedIn:i,user:s,addMeeting:o,updateMeeting:a,deleteMeeting:l,getMeetings:c,images:u}){const[d,h]=C.useState(!1),[f,p]=C.useState("");function m(y){p(y),h(!0),setTimeout(()=>{h(!1)},3e3)}function _(y){console.log("Adding to room list:",y),e(y),m(`${y.name} is in Room Favourites List!`)}function v(){var y=document.getElementById("popup-menu");y&&(y.style.display="none")}return g.jsxs("div",{className:"room",children:[g.jsx("h3",{className:"room-header",children:t.name}),g.jsx("div",{className:"room-front-page",style:{position:"relative",width:"100%",height:"300px",overflow:"hidden",backgroundImage:`url(${u[t.id]})`,backgroundSize:"cover",backgroundPosition:"center"},children:g.jsx("button",{className:"add-to-room-list-button",onClick:()=>_(t),style:{position:"absolute",left:"50%",bottom:"0px",transform:"translateX(-50%)",zIndex:10},children:g.jsx("h5",{children:n})})}),g.jsxs("p",{children:["Room ID: ",g.jsx("b",{children:t.id})," with ",g.jsx("b",{children:t.seats})," seats"]}),g.jsxs("p",{children:["Available: ",g.jsx("b",{children:t.available?"Yes":"No"})]}),d&&g.jsx("div",{className:"alert-box",children:g.jsx("h2",{children:f})}),g.jsxs("div",{id:"popup-menu",className:"popup-menu",style:{display:"none"},children:[g.jsx("div",{className:"popup-header"}),g.jsx("div",{className:"popup-content-wrapper",children:g.jsxs("div",{className:"popup-content",children:[g.jsx("button",{className:"close-button",onClick:v,children:"✖"}),g.jsx("h2",{children:"Copy the invitation to booked time"})]})})]}),g.jsx("div",{class:"description",children:g.jsx(_le,{user:s,addMeeting:o,updateMeeting:a,deleteMeeting:l,getMeetings:c,id:t.id,name:t.name})})]})}function F$({rooms:t,categoryName:e,roomListButtonText:n,showAlert:r,alertMessage:i,images:s,onModifyRoomListACB:o,loggedIn:a,viewButtonText:l,user:c,addMeeting:u,updateMeeting:d,deleteMeeting:h,getMeetings:f}){function p(_){return console.log(_),_}const m=p(e);return g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx("b",{children:m})," "]}),g.jsx("div",{class:"rooms",id:e.toLowerCase(),children:t.length>0?t.map(_=>g.jsx(wle,{room:_,onModifyRoomList:o,images:s,roomListButtonText:n,viewButtonText:l,alertMessage:i,showAlert:r,loggedIn:a,user:c,addMeeting:u,updateMeeting:d,deleteMeeting:h,getMeetings:f})):g.jsxs("p",{children:["No rooms in the office ",m,"."]})})]})}function ble(t){const[e,n]=C.useState(!1),[r,i]=C.useState(!1);console.log(t.users);function s(d){const h=d.toLowerCase(),f=document.getElementById(h);f&&f.scrollIntoView()}function o(){window.scrollTo({top:0,behavior:"smooth"})}function a(d){t.onModifyRoomList(d)}function l(d){window.open(d.meetingLink,"_blank")}function c(){return Object.values(t.rooms).reduce((d,h)=>{const f=h.filter(p=>!r||p.available);return d+f.length},0)}function u(){return g.jsx("div",{class:"scroll-to-specific-office-div",children:g.jsx("div",{class:"scroll-to-specific-office",children:Object.keys(t.rooms).map(d=>g.jsx("button",{onClick:()=>s(d),children:g.jsx("h5",{children:d.replace("office","")})},d))})})}return g.jsxs("main",{children:[g.jsx("div",{className:"Alert_content",children:t.showAlert?.alert&&g.jsx("div",{className:"alert-box",children:g.jsx("p",{children:t.alertMessage.message})})}),g.jsx("h2",{children:"Book by specific room"}),g.jsxs("h3",{children:['Search for "',t.query,'". Showing ',c()," rooms. The buttons below scroll to an office."]}),g.jsxs("div",{className:"filter-checkbox",children:[g.jsx("label",{children:g.jsx("input",{type:"checkbox",checked:r,onChange:d=>i(d.target.checked)})}),g.jsx("h3",{children:"Only show currently available rooms"})]}),u(),Object.entries(t.rooms).map(([d,h])=>h.filter(f=>!r||f.available).length>0&&F$({rooms:h.filter(f=>!r||f.available),categoryName:d,roomListButtonText:"Add to Favourites",viewButtonText:"Open Schedule",showAlert:t.showAlert,alertMessage:t.alertMessage,images:t.images,onViewACB:l,onModifyRoomListACB:a,loggedIn:t.loggedIn,user:t.user,addMeeting:t.addMeeting,updateMeeting:t.updateMeeting,deleteMeeting:t.deleteMeeting,getMeetings:t.getMeetings})),e&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>console.log("Previous Day"),className:"control-button",children:g.jsx("h5",{children:"Previous Day"})}),g.jsx("button",{onClick:()=>console.log("Next Day"),className:"control-button",children:g.jsx("h5",{children:"Next Day"})})]}),g.jsx("button",{onClick:o,className:"scroll-to-top-button",children:"↑"})]})}function Ele(t){const e=C.useRef(null),[n,r]=C.useState(null),[i,s]=C.useState(null),[o,a]=C.useState(null),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,f]=C.useState(""),[p,m]=C.useState(""),[_,v]=C.useState(!1),[y,w]=C.useState(0);C.useState(null);const[E,T]=C.useState(!1),[b,k]=C.useState(null),[x,L]=C.useState(null),[$,ee]=C.useState(!1),[se,de]=C.useState(""),De=()=>{const z=e.current.querySelectorAll(".fc-timegrid-slots tr");for(let te=0;te<z.length;te++){const be=z[te];te%2===0?be.style.backgroundColor="#81a59c":be.style.backgroundColor="#648A7A"}},we=async P=>{const z=await n.getEvents();for(const te in z)if(P.endDate>z[te].start&&P.startDate<z[te].end&&P.id!=z[te].id)return!0;return!1};function Pe(P){const[z,te]=P.split("T"),[be,Ee,je]=z.split("-");return{date:`${be}-${parseInt(Ee)}-${parseInt(je)}`,time:te}}function oe(P,z){const[te,be,Ee]=P.split("-").map(Number),[je,mt]=z.split(":").map(Number);return new Date(te,be-1,Ee,je,mt)}function V(P){const z=new Date(P),te=z.getFullYear(),be=String(z.getMonth()+1).padStart(2,"0"),Ee=String(z.getDate()).padStart(2,"0"),je=String(z.getHours()).padStart(2,"0"),mt=String(z.getMinutes()).padStart(2,"0");return`${te}-${be}-${Ee}T${je}:${mt}`}async function X(){const P=await t.getMeetings(t.id);if(P.length!==0)for(const z of P){const te=z.title,be=oe(z.startDate,z.startTime),Ee=oe(z.endDate,z.endTime),je=z.id,mt=z.owner,Jr=z.downloads;Z(te,be,Ee,mt,je,Jr)}}function Z(P,z,te,be,Ee,je){n.addEvent({title:P,start:z,end:te,id:Ee,extendedProps:{owner:be,downloads:je}}),n.render()}const Ae=async()=>{const P=Pe(u),z=Pe(p),te=t.user.user,be={title:l,startDate:P.date,startTime:P.time,endDate:z.date,endTime:z.time,id:t.id,name:t.name,owner:te};if(await we(be))alert("event is overlapping another event");else{const Ee=await t.addMeeting(be),je=new Date(u),mt=new Date(p);Z(l,je,mt,te,Ee)}c(""),d(""),m(""),s(null)},Ie=async()=>{const P=Pe(u);let z=null;h===""?z=P:z=Pe(h);const te=Pe(p),be=t.user.user,Ee={title:l,oldStartDate:z.date,oldStartTime:z.time,startDate:P.date,startTime:P.time,endDate:te.date,endTime:te.time,id:t.id,name:t.name,owner:be};if(await we(Ee))alert("event is overlapping another event");else{t.updateMeeting(Ee);const je=new Date(u),mt=new Date(p);o.setProp("title",l),o.setStart(je),o.setEnd(mt)}c(""),d(""),f(""),m(""),a(null)},ae=()=>{const P=Pe(u),z={id:t.id,startDate:P.date,startTime:P.time};t.deleteMeeting(z),o.remove(),c(""),d(""),m(""),a(null)},J=P=>{L(P.target.files[0]),ee(!1)},F=async()=>{if(!x){k("Please select a file.");return}try{T(!0);const P=`${Date.now()}_${x.name}`,z=Pe(u);await FS(x,P,t.id,z.date,z.time),ee(!0),console.log("File uploaded successfully."),k(null)}catch(P){k("Error uploading file."),console.error("Error uploading file:",P)}finally{T(!1)}},W=()=>{F()};return C.useEffect(()=>{const P=e.current,z=new by(P,{plugins:[Ey,Sy,Cy,ky],initialView:"timeGridDay",allDaySlot:!1,dayHeaders:!1,slotMinTime:"06:00:00",slotMaxTime:"21:00:00",aspectRatio:.5,selectable:!0,slotLabelInterval:{hours:0},slotDuration:"00:30:00",select:function(te){te.startStr.includes("T")||(te.startStr+="T13:00:00+02:00"),te.endStr.includes("T")||(te.endStr+="T14:00:00+02:00"),te.allDay=!1,s(te)},eventClick:function(te){a(te.event)},forceEventDuration:!0,headerToolbar:{left:"",center:"",right:""},viewDidMount:function(te){const be=P.querySelector(".fc-toolbar-chunk:nth-child(2)");if(be){const je=document.createElement("div");je.textContent=t.name,je.style.fontSize="30px",je.style.height="40px",je.style.lineHeight="40px",je.style.width="110px",je.style.textAlign="center";const mt=document.createElement("span");mt.textContent="Seats: ",t.seats!==void 0&&(mt.textContent+=t.seats),mt.style.height="20px",mt.style.fontSize="18px",mt.style.display="block",je.style.width="110px",mt.style.textAlign="center",be.appendChild(je),be.appendChild(mt)}P.querySelectorAll("tr").forEach(je=>{je.style.height="25px"}),De()},eventOverlap:!1,selectOverlap:!1,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1}});return z.setOption("height",853),r(z),z.render(),v(!0),()=>{z.destroy()}},[]),C.useEffect(()=>{_&&X()},[_]),C.useEffect(()=>{if(i){const P=new Date(i.start.getTime()-i.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);d(P);const z=new Date(i.end.getTime()-i.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);m(z)}},[i]),C.useEffect(()=>{if(o){const P=new Date(o.start.getTime()-o.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);d(P);const z=new Date(o.end.getTime()-o.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);m(z),c(o.title)}},[o]),C.useEffect(()=>{if(n){const P=new Date(n.getDate());t.date>y?(P.setDate(P.getDate()+1),n.gotoDate(P)):t.date<y&&(P.setDate(P.getDate()-1),n.gotoDate(P)),w(t.date),De()}},[t.date]),g.jsxs("div",{style:{width:"100%",overflowX:"hidden"},children:[g.jsx("div",{ref:e}),i&&g.jsx(li,{open:i!==null,onClose:()=>{se===""&&(s(null),c(""))},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Create Event"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"Title:    "}),g.jsx("input",{office:"text",placeholder:"Event Title",style:{marginBottom:"10px",width:"164px"},value:l,onChange:P=>c(P.target.value)})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"startTime",children:"Start Time: "}),u&&g.jsx(Ui,{selected:new Date(u),onChange:P=>d(V(P)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"endTime",children:"End Time:"}),p&&g.jsx(Ui,{selected:new Date(p),onChange:P=>m(V(P)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("button",{style:{marginRight:"80px",backgroundColor:"white"},onClick:()=>s(null),children:"Cancel"}),g.jsx("button",{style:{marginRight:"20px",backgroundColor:"white"},onClick:()=>{de("create")},children:"Save Event"})]})]})}),o&&t.user.user==o.extendedProps.owner&&g.jsx(li,{open:o!==null,onClose:()=>{se===""&&a(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Edit Event"}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"Title:    "}),g.jsx("input",{type:"text",placeholder:"Event Title",style:{marginBottom:"10px",width:"164px"},value:l,onChange:P=>c(P.target.value)})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"startTime",children:"Start Time: "}),u&&g.jsx(Ui,{selected:new Date(u),onChange:P=>d(V(P)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"endTime",children:"End Time:"}),p&&g.jsx(Ui,{selected:new Date(p),onChange:P=>m(V(P)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),o&&o.extendedProps&&o.extendedProps.downloads&&g.jsxs("div",{style:{textAlign:"left",marginBottom:"10px"},children:["Download Files:",o.extendedProps.downloads.map((P,z)=>g.jsx("div",{children:g.jsx("a",{href:P.downloadURL,download:P.name,children:P.name})},z))]}),g.jsxs("div",{children:[g.jsx("input",{type:"file",id:"file",onChange:J}),g.jsx("button",{onClick:W,disabled:E,children:"Upload"}),b&&g.jsx("p",{children:b}),E&&g.jsx("p",{children:"Uploading..."}),$&&g.jsx("p",{children:"Uploading finished!"})]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white"},onClick:()=>{a(null)},children:"Cancel"}),g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white"},onClick:()=>{de("remove")},children:"Remove"}),g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white"},onClick:()=>{de("update")},children:"Confirm"})]})]})}),o&&t.user.user!=o.extendedProps.owner&&g.jsx(li,{open:o!==null,onClose:()=>{a(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"left",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Event Information"}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"title",children:["Title: ",l]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"startTime",children:["Start Time: ",u.split("T")[1]]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"endTime",children:["End Time: ",p.split("T")[1]]})}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{style:{marginRight:"110px",backgroundColor:"white"},onClick:()=>{a(null)},children:"Cancel"})})]})}),se&&g.jsx(li,{open:se!==null,onClose:()=>{de(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Are you sure?"}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",alignItems:"row",justifyContent:"space-between"},children:[g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white",minWidth:"3vw"},onClick:()=>{se==="remove"?ae():se==="update"?Ie():se==="create"&&Ae(),de("")},children:"Yes"}),g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white",minWidth:"3vw"},onClick:()=>{de(null)},children:"No"})]})]})})]})}function Sle(t){const e=C.useRef(null),[n,r]=C.useState(null),[i,s]=C.useState(0);return C.useEffect(()=>{const o=e.current,a=new by(o,{plugins:[Ey,Sy,Cy,ky],initialView:"timeGridDay",allDaySlot:!1,dayHeaders:!1,slotMinTime:"06:00:00",slotMaxTime:"21:00:00",aspectRatio:.5,eventDisplay:"none",slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotLabelInterval:{hours:.5},slotDuration:"00:30:00",headerToolbar:{left:"",center:"title",right:""},viewDidMount:function(l){const c=o.querySelector(".fc-toolbar-title");c&&(c.style.fontSize="24px",c.style.height="124px",c.style.lineHeight="30px",c.style.display="table-cell",c.style.verticalAlign="bottom"),o.querySelectorAll("tr").forEach(d=>{d.style.height="25px"})}});return a.setOption("height",917),r(a),a.render(),()=>{a.destroy()}},[]),C.useEffect(()=>{if(n){const o=new Date(n.getDate());t.date>i?(o.setDate(o.getDate()+1),n.gotoDate(o)):t.date<i&&(o.setDate(o.getDate()-1),n.gotoDate(o)),s(t.date)}},[t.date]),g.jsx("div",{style:{width:"47px"},children:g.jsx("div",{ref:e})})}const Cle=Tl(t=>{const[e,n]=C.useState(!0),[r,i]=C.useState(!1);let s=null,o=null;const[a,l]=C.useState(0);function c(){return Object.values(t.model.officeList).reduce((w,E)=>{const T=E.filter(b=>!r||b.available);return w+T.length},0)}const u=()=>{l(a-1)},d=()=>{l(a+1)},h=async w=>{const E=t.model.userState.user,T=w.id,b=w.startDate,k=w.startTime,x=w.endDate,L=w.endTime,$=w.title;t.model.firebaseInsert("rooms",T,b,k,"startTime",k,!0),t.model.firebaseInsert("rooms",T,b,k,"endDate",x,!0),t.model.firebaseInsert("rooms",T,b,k,"endTime",L,!0),t.model.firebaseInsert("rooms",T,b,k,"title",$,!0),t.model.firebaseInsert("rooms",T,b,k,"owner",E,!0),t.model.firebaseInsert("rooms",T,"meetingIndex",b,null,null,!0),t.model.firebaseInsert("users",E,b,k,"startTime",k,!0),t.model.firebaseInsert("users",E,b,k,"endDate",x,!0),t.model.firebaseInsert("users",E,b,k,"endTime",L,!0),t.model.firebaseInsert("users",E,b,k,"title",$,!0),t.model.firebaseInsert("users",E,b,k,"room",T,!0),t.model.firebaseInsert("users",E,b,k,"owner",E,!0),t.model.firebaseInsert("users",E,"meetingIndex",b,null,null,!0)},f=async w=>{const E={startDate:w.oldStartDate,startTime:w.oldStartTime,room:w.id},{oldStartDate:T,oldStartTime:b,...k}=w;await p(E),h(k)},p=async w=>{const E=t.model.userState.user,T=w.id,b=w.startDate,k=w.startTime;await t.model.firebaseDelete("users",E,b,k),await t.model.firebaseDelete("rooms",T,b,k),(await t.model.firebaseRead("rooms",T,b)).length===0&&t.model.firebaseDelete("rooms",T,"meetingIndex",b)},m=async w=>{for(;t.model.userState.user===null;)await new Promise(b=>setTimeout(b,100));const E=await t.model.firebaseRead("rooms",w,"meetingIndex");let T=[];if(E!==void 0){for(const b of E){const k=await t.model.firebaseRead("rooms",w,b.id);for(const x of k){const L=await t.model.firebaseGetFiles(w,b.id,x.id),$={startDate:b.id,startTime:x.id,endDate:x.endDate,endTime:x.endTime,title:x.title,owner:x.owner,downloads:L};T.push($)}}T=T.flat()}return T};function _(w){t.model.modifyFavourites(w,!0),console.log(w)}const v=w=>{t.model.setSearchQuery(w)},y=w=>{t.model.doSearch(w)};if(C.useEffect(()=>{t.model.searchResultsPromiseState.data&&t.model.getRooms()},[t.model.searchResultsPromiseState.data]),s=g.jsx("div",{style:{flex:"0 0 auto",marginRight:"20px",marginTop:"20px"},children:g.jsx(Sle,{date:a})}),t.model.searchDone.done)o=Object.entries(t.model.officeList).map(([w,E])=>g.jsxs("div",{children:[g.jsx("h2",{style:{fontSize:"30px"},children:w}),g.jsx("div",{style:{overflowX:"auto",whiteSpace:"nowrap",marginLeft:"10px"},children:E.map((T,b)=>r&&!T.available?null:g.jsx("div",{style:{display:"inline-block",minWidth:"100px"},children:g.jsx(Ele,{user:t.model.userState,addMeeting:h,updateMeeting:f,deleteMeeting:p,getMeetings:m,id:T.id,name:T.name,date:a,seats:T.seats,available:T.available,users:Lk})},`${w}-${b}`))})]},w));else return g.jsx("div",{className:"loading-bar-image",children:g.jsx("img",{src:"https://i.ibb.co/BCtKCSK/loading-bar.gif",alt:"Loading"})});return g.jsxs("div",{children:[g.jsx("style",{children:`
        .sub-menu {
          display: flex;
          justify-content: center;
          
          background-color: #81a59c;
          padding: 10px 20px;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
          width: 98.55vw;
        }
        .sub-menu button{
          margin-top: .1vw;
          margin-left: .5vw !important;
          margin-right: .5vw !important;

        }
        .sub-menu button:disabled {
          color: #ccc;
        }
        .sub-menu .search-input {
          padding: 8px;
          border: 2px solid #6e6e6e;
          border-radius: 5px;
          width: 200px;
        }
        `}),g.jsxs("div",{className:"sub-menu",children:[g.jsxs("div",{className:"room-grid",children:[g.jsx("button",{onClick:()=>n(!0),disabled:e,className:"grid-view-rubric",children:g.jsx("h5",{children:"Grid view booking by day"})}),e&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:u,className:"grid-view-back",children:g.jsx("h5",{children:"Previous Day"})}),g.jsx("button",{onClick:d,className:"grid-view-forward",children:g.jsx("h5",{children:"Next Day"})})]})]}),g.jsx("button",{onClick:()=>n(!1),disabled:!e,children:g.jsx("h5",{children:"Book by specific room"})}),g.jsx("div",{children:g.jsx("input",{type:"text",value:t.query,onChange:w=>t.model.setSearchQuery(w.target.value),onKeyDown:()=>t.model.doSearch(t.query),placeholder:"Search room or office",className:"search-input"})})]}),!e&&g.jsx(ble,{onSearchQuery:v,onSearchButton:y,onModifyRoomList:_,images:t.model.imageHolder,rooms:t.model.officeList,query:t.model.currentQuery,alertMessage:t.model.isAlertMessage,showAlert:t.model.isShowAlert,loggedIn:t.model.userState.isLoggedIn,office:t.model.office,addMeeting:h,user:t.model.userState,updateMeeting:f,deleteMeeting:p,getMeetings:m,users:Lk,showAvailableRooms:r}),e&&g.jsxs("div",{children:[g.jsx("h2",{children:"Grid view booking by day"}),g.jsxs("h3",{children:['Search for "',t.model.currentQuery,'". Showing ',c()," ","rooms"]}),g.jsxs("div",{className:"filter-checkbox",children:[g.jsx("label",{children:g.jsx("input",{type:"checkbox",checked:r,onChange:w=>{i(w.target.checked),i(!r)}})}),g.jsx("h3",{children:"Only show currently available rooms"})]}),g.jsxs("div",{className:"calendar-container",children:[g.jsx("div",{className:"time-column",children:s}),g.jsx("div",{className:"calendar-scroll",children:o})]})]})]})});function Dle(t){function e(i){t.onModifyRoomList(i)}function n(){window.scrollTo({top:0,behavior:"smooth"})}const r=t.officeList2||{};return g.jsxs("main",{children:[g.jsx("div",{className:"Alert_content",children:t.showAlert?.alert&&g.jsx("div",{className:"alert-box",children:g.jsx("p",{children:t.alertMessage.message})})}),g.jsx("h2",{children:"Favourites"}),Object.entries(r).map(([i,s])=>s.length>0?F$({rooms:s,categoryName:i,roomListButtonText:"Remove from my favourites",viewButtonText:"Open Schedule",showAlert:t.showAlert,alertMessage:t.alertMessage,images:t.images,onModifyRoomListACB:e,loggedIn:t.loggedIn,user:t.user}):g.jsx("div",{className:"no-rooms",children:g.jsxs("p",{children:["No rooms available in ",i,"."]})})),g.jsx("button",{onClick:n,className:"scroll-to-top-button",children:"↑"})]})}const Tle=Tl(function(e){function n(r){e.model.modifyFavourites(r,!1)}return C.useEffect(()=>{e.model.searchResultsPromiseState.data&&e.model.getRooms()},[e.model.searchResultsPromiseState.data]),e.model.roomListDone?g.jsx(Dle,{onModifyRoomList:n,images:e.model.imageHolder,rooms:e.model.favouriteRooms,query:e.model.currentQuery,alertMessage:e.model.isAlertMessage,showAlert:e.model.isShowAlert,loggedIn:e.model.userState.isLoggedIn,officeList2:e.model.officeList2,favourites:e.model.favouriteRooms}):g.jsx("div",{className:"loading-bar-image",children:g.jsx("img",{src:"https://i.ibb.co/BCtKCSK/loading-bar.gif",alt:"Loading"})})}),g1={nextSpeaker:"src/audio/next-speaker.mp3",tick:"src/audio/tick.mp3",welcome:"src/audio/welcome.mp3",start:"src/audio/start-and-begin.mp3",paused:"src/audio/timer-paused.mp3",resumed:"src/audio/timer-resumed.mp3",MinLeft10:"src/audio/time-left/10-min-left.mp3",MinLeft5:"src/audio/time-left/5-min-left.mp3",MinLeft1:"src/audio/time-left/1-min-left.mp3",SecLeft30:"src/audio/time-left/30-sec-left.mp3",MeetingHourLeft1:"src/audio/time-left/meeting-ends-in-1-hour.mp3",MeetingMinLeft30:"src/audio/time-left/meeting-ends-in-30-min.mp3",MeetingMinLeft20:"src/audio/time-left/meeting-ends-in-20-min.mp3",MeetingMinLeft10:"src/audio/time-left/meeting-ends-in-10-min.mp3",MeetingMinLeft5:"src/audio/time-left/meeting-ends-in-5-min.mp3",MeetingMinLeft1:"src/audio/time-left/meeting-ends-in-1-min.mp3",MeetingSecLeft30:"src/audio/time-left/meeting-ends-in-30-sec.mp3",SpeakingTimeDepletedFor:"src/audio/speaking-time-depleted-for.mp3",intro1:"src/audio/tutorial/intro-1.mp3",intro2:"src/audio/tutorial/intro-2.mp3",meetingType1:"src/audio/tutorial/meeting-type-1.mp3",meetingType2:"src/audio/tutorial/meeting-type-2.mp3",meetingType3:"src/audio/tutorial/meeting-type-3.mp3",MeetingOver:"src/audio/meeting-over.mp3"};function kle(t){const[e,n]=C.useState(0),[r,i]=C.useState(null),[s,o]=C.useState(0),[a,l]=C.useState(0),[c,u]=C.useState({}),[d,h]=C.useState({}),[f,p]=C.useState({}),[m,_]=C.useState(!1),[v,y]=C.useState(!0),[w,E]=C.useState(3),[T,b]=C.useState(!1),[k,x]=C.useState(!1),[L,$]=C.useState(!1),ee=C.useRef(null),[se,de]=C.useState(!1),[De,we]=C.useState(!1),[Pe,oe]=C.useState(0),V={shorter:30,default:300,longer:600},X={ALL:"enabled_all",AUTO:"enabled_auto",DISABLED:"disabled"},[Z,Ae]=C.useState(V),[Ie,ae]=C.useState(3600),[J,F]=C.useState(Ie/60),[W,P]=C.useState(!1),[z,te]=C.useState([]),[be,Ee]=C.useState({nextSpeaker:!0,meetingTechniques:!0,tick:!0,welcome:!0,start:!0,paused:!0,resumed:!0,MinLeft10:!0,MinLeft5:!0,MinLeft1:!0,SecLeft30:!0,MeetingHourLeft1:!1,MeetingMinLeft30:!1,MeetingMinLeft20:!1,MeetingMinLeft10:!1,MeetingMinLeft5:!1,MeetingMinLeft1:!1,MeetingSecLeft30:!1,SpeakingTimeDepletedFor:!0,intro1:!0,intro2:!0,meetingType1:!0,meetingType2:!0,meetingType3:!0,MeetingOver:!0}),je={nextSpeaker:"Announce Next Speaker",meetingTechniques:"Meeting Techniques",tick:"Audible Ticking Clock At Speaker Switch",welcome:"Welcome Message",start:"Start Meeting",paused:"Pause Timer",resumed:"Resume Timer",MinLeft10:"10 Minutes Remaining",MinLeft5:"5 Minutes Remaining",MinLeft1:"1 Minute Remaining",SecLeft30:"30 Seconds Remaining",MeetingHourLeft1:"1 Hour Left in Meeting",MeetingMinLeft30:"30 Minutes Left in Meeting",MeetingMinLeft20:"20 Minutes Left in Meeting",MeetingMinLeft10:"10 Minutes Left in Meeting",MeetingMinLeft5:"5 Minutes Left in Meeting",MeetingMinLeft1:"1 Minute Left in Meeting",MeetingSecLeft30:"30 Seconds Left in Meeting",SpeakingTimeDepletedFor:"Speaking Time Depleted Warning (recommended with manual speaker switching)",MeetingOver:"Meeting Over"},mt={GeneralMeetingControlsAlerts:["nextSpeaker","tick","welcome","start","paused","resumed"],SpeakerAlerts:["MinLeft10","MinLeft5","MinLeft1","SecLeft30","SpeakingTimeDepletedFor"],MeetingWideAlerts:["MeetingHourLeft1","MeetingMinLeft30","MeetingMinLeft20","MeetingMinLeft10","MeetingMinLeft5","MeetingMinLeft1","MeetingSecLeft30"]},Jr=N=>{Ee(B=>({...B,[N]:!B[N]}))},[Re,Vt]=C.useState([]),[ir,an]=C.useState({}),[en,Nr]=C.useState(!1),[Or,Xs]=C.useState(!1),[At,An]=C.useState("ALL"),[mr,gr]=C.useState({}),vr={regular:{title:"Regular meeting session with a team",speakerSwitchType:"Manual with time warnings",speakerTimeDistribution:"Equally distributed (customizable)",audioAlerts:["nextSpeaker","meetingTechniques","tick","welcome","start","paused","resumed","MinLeft10","MinLeft5","MinLeft1","SecLeft30","SpeakingTimeDepletedFor"]},briefing:{title:"Briefing/presentation meeting",speakerTimeDistribution:"First (presenter) longer, all others shorter (customizable)",speakerSwitchType:"Manual with time warnings",audioAlerts:["nextSpeaker","meetingTechniques","tick","welcome","start","paused","resumed","MinLeft10","MinLeft5","MinLeft1","SecLeft30","SpeakingTimeDepletedFor"]},negotiation:{title:"Negotiation between two parties",speakerSwitchType:"Automatic with speaker switch alerts",speakerTimeDistribution:"Equally distributed (customizable)",audioAlerts:["nextSpeaker","meetingTechniques","tick","welcome","start","paused","resumed","MinLeft10","MinLeft5","MinLeft1","SecLeft30","SpeakingTimeDepletedFor"]}},ua=vr.negotiation,[En,Zs]=C.useState("negotiation"),[Js,Ml]=C.useState(ua),[ju,Nl]=C.useState("negotiation"),[Pr,Ol]=C.useState(!1);C.useEffect(()=>{if(z.length>0&&!W){const B=z[0];us(B),te(Q=>Q.slice(1))}a>=Ie&&(_(!1),le("MeetingOver"));let N=null;return m&&Re.length>=2&&T&&!k?N=setInterval(()=>{o(B=>{const Q=Re[e].name,Le=f[Q]||ir[Q]||15,$e=Le-B;return $e===10*60?le("MinLeft10"):$e===5*60?le("MinLeft5"):$e===60?le("MinLeft1"):$e===30&&le("SecLeft30"),B<Le?(l(_e=>{const ve=Ie-_e;return Ll(ve),_e+1}),u(_e=>({..._e,[Q]:(_e[Q]||0)+1})),B+1):(R(),0)})},1e3):clearInterval(N),()=>clearInterval(N)},[z,W,m,Re,e,f,ir,c,d,v,w,T,k,a,Ie,Js]);const eo=(N,B)=>{const Q={...mr,[N]:B};gr(Q)},Pl=()=>{Ol(!Pr)},Ll=N=>{N===3600?le("MeetingHourLeft1"):N===30*60?le("MeetingMinLeft30"):N===20*60?le("MeetingMinLeft20"):N===10*60?le("MeetingMinLeft10"):N===5*60?le("MeetingMinLeft5"):N===60?le("MeetingMinLeft1"):N===30&&le("MeetingSecLeft30")},da=C.useCallback(N=>{Ee(B=>({...B,...Object.keys(B).reduce((Q,Le)=>(Q[Le]=N.audioAlerts.includes(Le),Q),{})})),Xs(N.speakerSwitchType==="Manual with time warnings")},[]),Lt=()=>{if(confirm("Are you sure you want to restart the meeting? All data will be lost."))try{Vt([]),n(0),i(null),o(0),l(0),u({}),h({}),p({}),_(!1),y(!0),E(3),b(!1),x(!1),$(!1),we(!1),oe(0),ee.current&&(ee.current.pause(),ee.current.currentTime=0),da(vr[En]),Nr(!1),Ee(initialSoundSettings),console.log("Meeting has been successfully restarted.")}catch(N){console.error("Failed to restart the meeting due to an error:",N)}},le=(N,B)=>{if(ee.current&&g1[N]&&be[N]){if(W){setTimeout(()=>le(N,B),1e3);return}ee.current.src=g1[N],ee.current.play().then(()=>{de(!0),ee.current.onended=()=>{B&&B()}}).catch(Q=>console.error("Error playing audio:",Q))}},R=()=>{console.log("Evaluating next speaker change");const N=(e+1)%Re.length;if(i(e),de(!1),_(!1),Or)le("SpeakingTimeDepletedFor",()=>{const B=Re[e].name;console.log(`Announcing next speaker: ${B}`),Fl(B),_(!0)});else if(At===X.ALL||At===X.AUTO){E(3);let B=setInterval(()=>{E(Q=>Q>0?(le("tick"),Q-1):(clearInterval(B),A(N,!1),0))},1e3)}else A(N,!1)},A=(N,B=!1)=>{console.log(`Switching speaker - isManual: ${B}, index: ${N}`);const Q=Re[N].name;if(B&&At===X.ALL||!B&&At!==X.DISABLED){_(!1),E(3),le("nextSpeaker",()=>{setTimeout(()=>{console.log(`About to speak: ${Q}`)},500)}),setTimeout(()=>{us(Q)},1e3);let $e=setInterval(()=>{E(_e=>_e>0?(le("tick"),_e-1):(clearInterval($e),ie(N),0))},1e3)}else console.log(`Immediate switch and speak: ${Q}`),le("nextSpeaker",()=>{console.log(`About to speak: ${Q}`),Fl(Q)}),ie(N)},O=()=>{const N=Re[e],B=ir[N.name];return B&&B>0},Y=()=>{if(Re.length>=2){_(!1),E(3);let N=setInterval(()=>{E(B=>B>1?B-1:(clearInterval(N),O()?(_(!0),b(!0)):alert("Current speaker does not have a valid time set. Please adjust time to start."),0))},1e3)}},ie=N=>{n(N),v&&o(0),b(!0),_(!0)},Oe=(N,B)=>{Vt(Q=>Q.map(Le=>{if(Le.name===N&&Le.speakingTime>6){const $e=Math.max(1,Le.speakingTime+B);p(Tt=>({...Tt,[N]:$e})),an(Tt=>({...Tt,[N]:$e}));const ve=Object.keys(Z).find(Tt=>Z[Tt]===$e)||"custom";return{...Le,speakingTime:$e,role:ve}}return Le}))},ye=(N,B)=>{const Q=(N+B+Re.length)%Re.length,Le=[...Re],$e=Le.splice(N,1)[0];Le.splice(Q,0,$e),Vt(Le),e===N&&n(Q)},ge=N=>{N.preventDefault();const B=N.target.participantName.value.trim();if(B&&!Re.some(Q=>Q.name===B)){const Q=Re.length===0,Le=En==="briefing"&&Q?"longer":"shorter",$e=En==="briefing"&&Q?Z.longer:Z.shorter,_e={name:B,role:Le,speakingTime:$e,groupNumber:Re.length+1},ve=[...Re,_e],Tt={...ir,[B]:_e.speakingTime},jl={...f,[B]:_e.speakingTime},jy={...c,[B]:0};Vt(ve),an(Tt),p(jl),u(jy),N.target.reset()}else alert("A participant with that name already exists.")},he=(N,B)=>{const Q=Re[N].name,Le=f[Q],$e=B!=="custom"?Z[B]:Le,_e=Re.map((ve,Tt)=>Tt===N?{...ve,role:B,speakingTime:$e}:ve);Vt(_e),p(ve=>({...ve,[Q]:$e})),an(ve=>({...ve,[Q]:$e}))},Fe=(N,B)=>{const Q={...Z,[N]:Number(B)};Ae(Q);const Le=Re.map($e=>({...$e,speakingTime:$e.role===N?Number(B):$e.speakingTime}));Vt(Le)},Gt=(N,B)=>{let Q;if(B==="")Q="";else{const Le=parseInt(B,10);Q=isNaN(Le)?0:Math.max(1,Le)}p(Le=>({...Le,[N]:Q}))},Me=N=>{const B=Math.max(1,Number(N.target.value)*60);ae(B),F(B/60)},ct=()=>{const N=Ie+300;ae(N),F(N/60)},tn=()=>{const N=Math.max(60,Ie-60);ae(N),F(N/60)},qn=(N,B)=>{if(B.key==="Enter"){B.preventDefault();const Q=f[N]===""?ir[N]:Math.max(10,parseInt(f[N],10));an(ve=>({...ve,[N]:Q})),p(ve=>({...ve,[N]:Q})),B.target.blur();const $e=Object.keys(Z).find(ve=>Z[ve]===Q)||"custom",_e=Re.map(ve=>ve.name===N?{...ve,role:$e}:ve);Vt(_e)}},Kt=()=>{o(0),an(Object.fromEntries(Re.map(N=>[N.name,f[N.name]||ir[N.name]||Z[N.role]||15]))),h(Object.fromEntries(Re.map(N=>[N.name,0])))},to=()=>{x(N=>{if(!N)le("paused");else{le("resumed");const B=ir[Re[e].name]+Pe;an(Q=>({...Q,[Re[e].name]:B}))}return!N})},Fl=N=>{te(B=>[...B,N])},us=N=>{if(!window.speechSynthesis){console.error("Text-to-speech not supported in this browser.");return}P(!0);const B=new SpeechSynthesisUtterance(N);B.voice=speechSynthesis.getVoices().find(Q=>Q.lang==="sv-SE"),B.onend=()=>{setTimeout(()=>{P(!1)},1e3)},speechSynthesis.speak(B)},Ei=N=>{A(N,!0)},ds=C.useCallback(N=>{if(N!==En){Zs(N);const B=vr[N];if(Ml(B),Ee(Q=>({...Q,...Object.keys(Q).reduce((Le,$e)=>(Le[$e]=B.audioAlerts.includes($e),Le),{})})),da(B),N==="briefing"){const Q=Re.map((Le,$e)=>({...Le,speakingTime:$e===0?Z.longer:Z.shorter,role:$e===0?"longer":"shorter"}));Vt(Q)}}},[En,da,Re,Z]);return g.jsxs("main",{className:"meeting-facilitator main-welcome",children:[g.jsx("audio",{ref:ee,preload:"all"}),t.showAlert?.alert&&g.jsx("div",{className:"alert-box",children:g.jsx("h2",{children:t.alertMessage.message})}),g.jsxs("div",{className:"start",children:[g.jsx("h2",{children:"Hold a meeting"}),g.jsxs("div",{className:"welcome-view",children:[g.jsx("h2",{children:"Welcome to the Meeting Helper!"}),g.jsx("h3",{class:"rubric",children:g.jsx("b",{children:"Please select a meeting preset"})}),g.jsxs("div",{className:"meeting-description",children:[g.jsxs("div",{children:[g.jsx("h4",{children:"1. Regular meeting session with a team"}),g.jsx("p",{children:"These could be recurring meetings with a team, for example daily stand-ups, or weekly, monthly, or annual review sessions. By default, speaking time is equally distributed among all participants but can be adjusted as needed. Manual speaker switching with verbal time warnings is used by default."}),g.jsxs("button",{class:"read-aloud-button",onClick:()=>le("meetingType1"),children:[g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})," "]})]}),g.jsxs("div",{children:[g.jsx("h4",{children:"2. Briefing/presentation meeting"}),g.jsx("p",{children:'These "meetings" may include technical demonstrations, company policy briefings, product launches, or client presentations. Presenters are allocated a standard amount of speaking time, which is separate and usually longer than that of the audience, who may be allowed speaking time to, for example, ask questions. Manual speaker switching with verbal time warnings is used by default.'}),g.jsxs("button",{class:"read-aloud-button",onClick:()=>le("meetingType1"),children:[g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})," "]})]}),g.jsxs("div",{children:[g.jsx("h4",{children:"3. Negotiation between two parties"}),g.jsx("p",{children:"This includes meetings such as business deal negotiations or partnership discussions involving teams or businesses. Here, speaking time is organized by groups of one to many individuals, facilitating structured dialogue between the negotiating parties. Automatic speaker switching is enabled by default to ensure a fair debate."}),g.jsx("button",{class:"read-aloud-button",onClick:()=>le("meetingType3"),children:g.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg",alt:""})})]})]}),g.jsxs("div",{className:"meeting-setup",children:[g.jsx("div",{class:"meeting-type-selection",children:g.jsxs("select",{onChange:N=>ds(N.target.value),value:En,children:[g.jsx("option",{value:"negotiation",children:g.jsx("p",{children:"Negotiation Meeting"})}),g.jsx("option",{value:"regular",children:g.jsx("p",{children:"Regular Meeting"})}),g.jsx("option",{value:"briefing",children:g.jsx("p",{children:"Briefing Meeting"})})]})}),g.jsxs("div",{className:"settings-preview",children:[g.jsxs("h3",{children:["Speaker Time Distribution:"," ",g.jsxs("b",{children:[" ",Js.speakerTimeDistribution]})]}),g.jsxs("h3",{children:["Speaker Switch Type (automatic/enforced or manual):"," ",g.jsx("b",{children:Js.speakerSwitchType})]})]}),g.jsx("h3",{children:"Note: Meeting Helper settings are also customizable during meeting."})]}),g.jsx("div",{class:"intro-toggles",children:g.jsxs("label",{className:"label-toggle-setting",children:[g.jsxs("h3",{children:[" ","Time tracking by speaking group, ",g.jsx("u",{children:"NOT"})," individual"]}),g.jsx("input",{type:"checkbox",checked:Pr,onChange:Pl,style:{margin:"0 10px"}})]})}),g.jsx("button",{onClick:()=>Nr(!en),children:en?"Close Meeting helper":"Open Meeting helper"})]})]}),en&&g.jsxs("div",{className:"time-tracker",children:[g.jsx("h2",{children:"Meeting helper"}),g.jsx("div",{className:"total-time",children:m&&T?g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:["This meeting has taken: ",Math.floor(a/60)," minutes out of ",Math.floor(Ie/60)," minutes"]}),g.jsxs("h3",{children:['Current Speaker: "',g.jsx("b",{children:Re[e].name}),'" with'," ",g.jsxs("b",{children:[Math.max(0,ir[Re[e].name]-s),"s"]})," ","(",Math.floor((ir[Re[e].name]-s||0)/60)," "," minutes) left."]}),g.jsx("button",{onClick:to,children:k?"Resume Timer":"Pause Timer"})]}):g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:w>0?`Countdown for next speaker: ${w}s`:"No time left."}),g.jsx("h4",{children:g.jsx("b",{children:!m&&w===0?"":"Meeting paused"})})]})}),Re.length<2&&g.jsx("p",{children:"At least 2 meeting participants are needed."}),Re.length>1&&g.jsxs("div",{className:"dashboard-parent",children:[g.jsx("h3",{className:"rubric",children:vr[ju].title}),g.jsx("div",{className:"dashboard",children:Re.map((N,B)=>g.jsxs("div",{className:`participant-card ${B===e?"active-speaker":""}`,children:[g.jsx("h3",{children:N.name}),g.jsxs("p",{children:["Total time spoken:"," ",Math.floor((c[N.name]||0)/60)," ","minutes and ",c[N.name]%60," ","seconds"]}),Pr&&g.jsxs("div",{className:"set-speaking-time",children:[g.jsx("p",{children:"Group names (comma-separated):"}),g.jsx("input",{type:"text",value:mr[B]||"",onChange:Q=>eo(B,Q.target.value)})]}),g.jsxs("div",{className:"set-speaking-time",children:[g.jsx("p",{children:"Speaking time (10 to ∞ seconds): "}),g.jsx("input",{type:"number",value:f[N.name],onChange:Q=>Gt(N.name,Q.target.value),onKeyDown:Q=>qn(N.name,Q)})]}),g.jsx("p",{children:'Note: Confirm new speaking times with "Enter"'}),g.jsx("button",{className:"increase-time-button",onClick:()=>Oe(N.name,15),children:g.jsx("p",{children:"+ 15s speaking time"})}),g.jsx("button",{className:"decrease-time-button",onClick:()=>Oe(N.name,-5),children:g.jsx("p",{children:"- 5s speaking time"})}),g.jsx("button",{className:"switch-speaker-button",onClick:()=>Ei(B),children:g.jsx("p",{children:"Switch to this speaker"})}),g.jsxs("select",{value:N.role,onChange:Q=>he(B,Q.target.value),children:[g.jsx("option",{value:"shorter",children:"Shorter speaking time"}),g.jsx("option",{value:"default",children:"Default speaking time"}),g.jsx("option",{value:"longer",children:"Longer speaking time"}),g.jsx("option",{value:"custom",children:"Custom speaking time"})]}),g.jsxs("div",{className:"move-buttons",children:[g.jsx("button",{className:"move-left-button",onClick:()=>ye(B,-1),children:"<"}),g.jsx("button",{className:"move-right-button",onClick:()=>ye(B,1),children:">"})]})]},B))}),g.jsx("button",{className:"reset-times-button",onClick:Kt,children:g.jsx("p",{children:"Restart this speaking round"})}),!L&&g.jsx(g.Fragment,{children:g.jsx("button",{className:"start-meeting-button",onClick:()=>{$(!0),Y(),le("start"),we(!0)},children:g.jsx("p",{children:"Start meeting!"})})})]}),g.jsxs("div",{className:"meeting-config",children:[g.jsxs("h3",{className:"rubric",children:[" ",g.jsx("b",{children:"Meeting configuration"})," "]}),Pr?g.jsx("h4",{children:"Meeting is held in groups of one to many people. Please add group names below."}):g.jsx("h4",{children:"Add participants"}),g.jsxs("form",{className:"add-participant-form",onSubmit:ge,children:[g.jsx("input",{name:"participantName",type:"text",placeholder:"Enter name",required:!0}),g.jsxs("button",{type:"submit",children:[g.jsx("p",{children:"Add name"})," "]})]}),g.jsx("h4",{children:"Remove specific participants"}),g.jsx("ul",{className:"participant-list",children:Re.map((N,B)=>g.jsxs("li",{children:[N.name,g.jsx("button",{className:"remove-participant-button",onClick:()=>removeParticipant(N),children:"✖"})]},B))}),g.jsxs("label",{children:[g.jsx("h3",{class:"rubric",children:g.jsx("b",{children:"Set meeting time (minutes):"})}),g.jsx("input",{type:"number",value:J,onBlur:Me,onChange:N=>F(N.target.value),min:"1"})]}),g.jsxs("div",{class:"set-meeting-time",children:[g.jsxs("button",{onClick:ct,children:[g.jsx("p",{children:"+ 5 minutes"})," "]}),g.jsxs("button",{onClick:tn,children:[g.jsx("p",{children:"- 1 minute"})," "]}),g.jsx("button",{onClick:Lt,className:"restart-meeting-button",children:g.jsx("p",{children:"Restart Meeting "})})]}),g.jsx("h3",{class:"rubric",children:g.jsx("b",{children:"Countdown on new speaker"})}),g.jsxs("select",{class:"countdown-on-new-speaker",value:At,onChange:N=>An(N.target.value),children:[g.jsx("option",{value:X.ALL,children:g.jsx("p",{children:"Enabled for automatic and manual switches"})}),g.jsx("option",{value:X.AUTO,children:g.jsx("p",{children:" Enabled for automatic switches"})}),g.jsx("option",{value:X.DISABLED,children:g.jsx("p",{children:"Disabled, switch speaker instantly"})})]}),g.jsx("h3",{class:"rubric",children:g.jsx("b",{children:"Speaker switching and time tracking"})}),g.jsxs("div",{class:"toggles",children:[g.jsxs("label",{class:"label-toggle-setting",children:[g.jsxs("h3",{children:["Manual Speaker Switching, ",g.jsx("u",{children:"NO"})," automatic switch"]}),g.jsx("input",{type:"checkbox",checked:Or,onChange:()=>Xs(!Or)})]}),g.jsxs("label",{class:"label-toggle-setting",children:[g.jsxs("h3",{children:["Time tracking by speaking group, ",g.jsx("u",{children:"NOT"})," individual"]}),g.jsx("input",{type:"checkbox",checked:Pr,onChange:Pl})]})]}),g.jsxs("h3",{class:"rubric",children:[g.jsx("b",{children:"Custom default speaking times"})," "]}),g.jsxs("div",{class:"custom-default-speaking-times",children:[g.jsxs("label",{children:[g.jsx("p",{children:"Shorter speaking time (seconds):"}),g.jsx("input",{type:"number",value:Z.shorter,onChange:N=>Fe("shorter",N.target.value)})]}),g.jsxs("label",{children:[g.jsx("p",{children:"Default speaking time (seconds):"}),g.jsx("input",{type:"number",value:Z.default,onChange:N=>Fe("default",N.target.value)})]}),g.jsxs("label",{children:[g.jsx("p",{children:"Longer speaking time (seconds):"}),g.jsx("input",{type:"number",value:Z.longer,onChange:N=>Fe("longer",N.target.value)})]})]}),g.jsx("div",{children:g.jsxs("label",{children:[g.jsx("h3",{class:"rubric",children:g.jsx("b",{children:"Time to add when resuming the timer (seconds):"})}),g.jsx("input",{type:"number",value:Pe,onChange:N=>oe(Number(N.target.value)),min:"0"})]})}),g.jsxs("h3",{class:"toggle-audio-alerts-rubric",children:[g.jsx("b",{children:"Toggle audio alerts"})," "]}),g.jsx("div",{className:"audio-settings",children:Object.entries(mt).map(([N,B])=>g.jsxs("div",{className:"audio-category",children:[g.jsx("h3",{className:"rubric",children:g.jsx("b",{children:N.replace(/([A-Z])/g," $1").trim()})}),B.map(Q=>g.jsx("div",{className:"audio-setting",children:g.jsxs("label",{children:[g.jsxs("h3",{children:[je[Q],":"]}),g.jsx("input",{type:"checkbox",checked:be[Q],onChange:()=>Jr(Q)})]})},Q))]},N))})]})]})]})}const xle=Tl(function(e){return C.useEffect(()=>{e.model.searchResultsPromiseState.data},[e.model.searchResultsPromiseState.data]),g.jsx(kle,{images:e.model.imageHolder,rooms:e.model.officeList,query:e.model.currentQuery,alertMessage:e.model.isAlertMessage,showAlert:e.model.isShowAlert,loggedIn:e.model.userState.isLoggedIn,office:e.model.office})});function Rle(t){const e=C.useRef(null),[n,r]=C.useState(null),[i,s]=C.useState(null),[o,a]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,f]=C.useState("");C.useState(null);const[p,m]=C.useState(!1),[_,v]=C.useState(null),[y,w]=C.useState([]),[E,T]=C.useState(!1),[b,k]=C.useState(""),[x,L]=C.useState(""),[$,ee]=C.useState(!1);function se(ae){const[J,F]=ae.split("T"),[W,P,z]=J.split("-");return{date:`${W}-${parseInt(P)}-${parseInt(z)}`,time:F}}function de(ae,J){const[F,W,P]=ae.split("-").map(Number),[z,te]=J.split(":").map(Number);return new Date(F,W-1,P,z,te)}function De(ae){const J=new Date(ae),F=J.getFullYear(),W=String(J.getMonth()+1).padStart(2,"0"),P=String(J.getDate()).padStart(2,"0"),z=String(J.getHours()).padStart(2,"0"),te=String(J.getMinutes()).padStart(2,"0");return`${F}-${W}-${P}T${z}:${te}`}async function we(){const ae=await t.getMeetings(t.id);if(ae.length!==0)for(const J of ae){const F=J.title,W=de(J.startDate,J.startTime),P=de(J.endDate,J.endTime),z=J.owner,te=J.room,be=J.downloads;Pe(F,W,P,z,te,be)}}function Pe(ae,J,F,W,P,z){n.addEvent({title:ae,start:J,end:F,extendedProps:{owner:W,room:P,downloads:z}}),n.render()}const oe=async()=>{const ae=se(l);let J=null;u===""?J=ae:J=se(u);const F=se(h),W=t.user.user,P={title:o,oldStartDate:J.date,oldStartTime:J.time,startDate:ae.date,startTime:ae.time,endDate:F.date,endTime:F.time,id:b,owner:W};if(await isOverlapping(P))alert("event is overlapping another event");else{t.updateMeeting(P);const z=new Date(l),te=new Date(h);i.setProp("title",o),i.setStart(z),i.setEnd(te)}a(""),c(""),d(""),f(""),k(""),s(null)},V=()=>{const ae=se(l),J={id:t.id!==void 0?t.id:b,startDate:ae.date,startTime:ae.time};t.deleteMeeting(J),i.remove(),a(""),c(""),f(""),k(""),s(null)},X=ae=>{const J=Array.from(ae.target.files);w([...y,...J]),T(!1)},Z=async()=>{if(y.length===0){v("Please select at least one file.");return}try{m(!0),await Promise.all(y.map(async ae=>{const J=`${Date.now()}_${ae.name}`,F=se(l);await FS(ae,J,b,F.date,F.time)})),T(!0),v(null),w([]),console.log("Files uploaded successfully.")}catch(ae){v("Error uploading file(s)."),console.error("Error uploading file(s):",ae)}finally{m(!1)}},Ae=()=>{Z()};C.useEffect(()=>{const ae=e.current,J=new by(ae,{plugins:[Ey,Sy,Cy,ky],initialView:"timeGridWeek",allDaySlot:!1,slotMinTime:"06:00:00",slotMaxTime:"21:00:00",selectable:t.id!==void 0,slotLabelInterval:{hours:.5},slotDuration:"00:30:00",select:function(F){F.startStr.includes("T")||(F.startStr+="T13:00:00+02:00"),F.endStr.includes("T")||(F.endStr+="T14:00:00+02:00"),F.allDay=!1,setSelectedInfo(F)},eventClick:function(F){s(F.event)},forceEventDuration:!0,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},eventContent:function(F){const W=F.event.extendedProps.room,P=F.timeText?`<div class="fc-title">Time: ${F.timeText}</div>`:"",z=F.event.title?`<div class="fc-title">Name: ${F.event.title}</div>`:"",te=`<div class="fc-title">Room: ${W}</div>`;return{html:`<div class="fc-content">${P+z+te}</div>`}}});return r(J),J.render(),ee(!0),()=>{J.destroy()}},[]),C.useEffect(()=>{$&&we()},[$]),C.useEffect(()=>{if(i){const ae=new Date(i.start.getTime()-i.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);c(ae);const J=new Date(i.end.getTime()-i.end.getTimezoneOffset()*6e4).toISOString().slice(0,16);f(J),a(i._def.title),k(i.extendedProps.room)}},[i]);const Ie=()=>g.jsx("ul",{children:y.map((ae,J)=>g.jsx("li",{children:ae.name},J))});return g.jsxs("div",{style:{width:"98%",margin:"5"},children:[g.jsx("div",{ref:e}),i&&t.user.user==i.extendedProps.owner&&g.jsx(li,{open:i!==null,onClose:()=>{x===""&&s(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Edit Event"}),"Room: ",b,g.jsxs("div",{children:[g.jsx("label",{htmlFor:"title",children:"Title:    "}),g.jsx("input",{type:"text",placeholder:"Event Title",style:{marginBottom:"10px",width:"164px"},value:o,onChange:ae=>a(ae.target.value)})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"startTime",children:"Start Time: "}),l&&g.jsx(Ui,{selected:new Date(l),onChange:ae=>c(De(ae)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsx("label",{htmlFor:"endTime",children:"End Time:"}),h&&g.jsx(Ui,{selected:new Date(h),onChange:ae=>f(De(ae)),showTimeSelect:!0,timeIntervals:30,timeFormat:"HH:mm",dateFormat:"yyyy-MM-dd HH:mm"})]}),i&&i.extendedProps&&i.extendedProps.downloads&&g.jsxs("div",{style:{textAlign:"left",marginBottom:"10px"},children:["Download Files:",i.extendedProps.downloads.map((ae,J)=>g.jsx("div",{children:g.jsx("a",{href:ae.downloadURL,download:ae.name,children:ae.name})},J))]}),g.jsxs("div",{children:[g.jsx("input",{type:"file",id:"file",onChange:X,multiple:!0}),g.jsx("button",{onClick:Ae,disabled:p||y.length===0,children:"Upload"}),_&&g.jsx("p",{children:_}),p&&g.jsx("p",{children:"Uploading..."}),E&&g.jsx("p",{children:"Uploading finished!"})]}),y.length>0&&g.jsxs("div",{style:{textAlign:"left",marginBottom:"10px"},children:["Selected Files:",Ie()]}),g.jsxs("div",{style:{marginTop:"20px"},children:[g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white"},onClick:()=>{s(null)},children:"Cancel"}),g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white"},onClick:()=>{L("remove")},children:"Remove"}),g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white"},onClick:()=>{L("update")},children:"Confirm"})]})]})}),i&&t.user.user!=i.extendedProps.owner&&g.jsx(li,{open:i!==null,onClose:()=>{s(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"left",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Event Information"}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"title",children:["Title: ",o]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"startTime",children:["Start Time: ",l.split("T")[1]]})}),g.jsx("div",{style:{marginBottom:"10px"},children:g.jsxs("label",{htmlFor:"endTime",children:["End Time: ",h.split("T")[1]]})}),g.jsx("div",{style:{marginTop:"20px"},children:g.jsx("button",{style:{marginRight:"110px",backgroundColor:"white"},onClick:()=>{s(null)},children:"Cancel"})})]})}),x&&g.jsx(li,{open:x!==null,onClose:()=>{L(null)},modal:!0,closeOnDocumentClick:!0,className:"calendar-popup",children:g.jsxs("div",{style:{padding:"20px",background:"white",borderRadius:"5px",textAlign:"right",borderStyle:"solid",borderWidth:"2px"},children:[g.jsx("h2",{style:{marginBottom:"20px"},children:"Are you sure?"}),g.jsxs("div",{style:{marginTop:"20px",display:"flex",alignItems:"row",justifyContent:"space-between"},children:[g.jsx("button",{style:{marginRight:"10px",backgroundColor:"white",minWidth:"3vw"},onClick:()=>{x==="remove"?V():x==="update"&&oe(),L("")},children:"Yes"}),g.jsx("button",{style:{marginRight:"35px",backgroundColor:"white",minWidth:"3vw"},onClick:()=>{L(null)},children:"No"})]})]})})]})}const Ale=Tl(t=>{const e=async o=>{const a=t.model.userState.user,l=o.id,c=o.startDate,u=o.startTime,d=o.endDate,h=o.endTime,f=o.title;t.model.firebaseInsert("rooms",l,c,u,"startTime",u,!0),t.model.firebaseInsert("rooms",l,c,u,"endDate",d,!0),t.model.firebaseInsert("rooms",l,c,u,"endTime",h,!0),t.model.firebaseInsert("rooms",l,c,u,"title",f,!0),t.model.firebaseInsert("rooms",l,c,u,"owner",a,!0),t.model.firebaseInsert("rooms",l,"meetingIndex",c,null,null,!0),t.model.firebaseInsert("users",a,c,u,"startTime",u,!0),t.model.firebaseInsert("users",a,c,u,"endDate",d,!0),t.model.firebaseInsert("users",a,c,u,"endTime",h,!0),t.model.firebaseInsert("users",a,c,u,"title",f,!0),t.model.firebaseInsert("users",a,c,u,"room",l,!0),t.model.firebaseInsert("users",a,c,u,"owner",a,!0),t.model.firebaseInsert("users",a,"meetingIndex",c,null,null,!0)},n=async o=>{const a={startDate:o.oldStartDate,startTime:o.oldStartTime,room:o.id},{oldStartDate:l,oldStartTime:c,...u}=o;await r(a),e(u)},r=async o=>{const a=t.model.userState.user,l=o.id,c=o.startDate,u=o.startTime;await t.model.firebaseDelete("users",a,c,u),await t.model.firebaseDelete("rooms",l,c,u),(await t.model.firebaseRead("rooms",l,c)).length===0&&t.model.firebaseDelete("rooms",l,"meetingIndex",c)},i=async()=>{const o=t.model.userState.user;for(;o===null;)await new Promise(c=>setTimeout(c,100));const a=await t.model.firebaseRead("users",o,"meetingIndex");let l=[];if(a!==void 0){for(const c of a){const u=await t.model.firebaseRead("users",o,c.id);for(const d of u){const h=await t.model.firebaseGetFiles(d.room,c.id,d.id),f={startDate:c.id,startTime:d.id,endDate:d.endDate,endTime:d.endTime,title:d.title,owner:d.owner,room:d.room,downloads:h};l.push(f)}}l=l.flat()}return l};return t.model.userState.user===null?g.jsx("div",{children:"Loading..."}):g.jsx("div",{children:g.jsx(Rle,{user:t.model.userState,updateMeeting:n,deleteMeeting:r,getMeetings:i})})}),Ile="/assets/mainicon-61b164a5.png";function Mle(t){return g.jsxs("header",{className:"header custom-header",style:{height:"5px"},children:[g.jsxs("h1",{children:[g.jsx("span",{className:"part-one-header",children:"Meeting "}),g.jsx("span",{className:"part-two-header",children:"Planner"})]}),g.jsx("img",{src:Ile,alt:"Official Icon",className:"header-icon-icon"})]})}/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const v1="popstate";function Nle(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=cs(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Hh("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Pf(s))}function r(i,s){ml(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Ple(e,n,r,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ml(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ole(){return Math.random().toString(36).substr(2,8)}function y1(t,e){return{usr:t.state,key:t.key,idx:e}}function Hh(t,e,n,r){return n===void 0&&(n=null),Ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cs(e):e,{state:n,key:e&&e.key||r||Ole()})}function Pf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ple(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ut({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Wt.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:m.location,delta:v})}function h(_,v){a=Wt.Push;let y=Hh(m.location,_,v);n&&n(y,_),c=u()+1;let w=y1(y,c),E=m.createHref(y);try{o.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&l&&l({action:a,location:m.location,delta:1})}function f(_,v){a=Wt.Replace;let y=Hh(m.location,_,v);n&&n(y,_),c=u();let w=y1(y,c),E=m.createHref(y);o.replaceState(w,"",E),s&&l&&l({action:a,location:m.location,delta:0})}function p(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:Pf(_);return y=y.replace(/ $/,"%20"),Ye(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v1,d),l=_,()=>{i.removeEventListener(v1,d),l=null}},createHref(_){return e(i,_)},createURL:p,encodeLocation(_){let v=p(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(_){return o.go(_)}};return m}var Ft;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ft||(Ft={}));const Lle=new Set(["lazy","caseSensitive","path","id","index","children"]);function Fle(t){return t.index===!0}function nE(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Fle(i)){let l=Ut({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ut({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=nE(i.children,e,o,r)),l}})}function pc(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?cs(e):e,i=Lf(r.pathname||"/",n);if(i==null)return null;let s=j$(t);Ule(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=Xle(i);o=Gle(s[a],l)}return o}function jle(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function j$(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wa([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),j$(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Yle(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of U$(s.path))i(s,o,l)}),e}function U$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=U$(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ule(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qle(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $le=/^:[\w-]+$/,Ble=3,Hle=2,Vle=1,Wle=10,zle=-2,_1=t=>t==="*";function Yle(t,e){let n=t.split("/"),r=n.length;return n.some(_1)&&(r+=zle),e&&(r+=Hle),n.filter(i=>!_1(i)).reduce((i,s)=>i+($le.test(s)?Ble:s===""?Vle:Wle),r)}function qle(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Gle(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Kle({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Wa([i,u.pathname]),pathnameBase:nce(Wa([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Wa([i,u.pathnameBase]))}return s}function Kle(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Qle(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Qle(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ml(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Xle(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ml(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zle(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cs(t):t;return{pathname:n?n.startsWith("/")?n:Jle(n,e):e,search:rce(r),hash:ice(i)}}function Jle(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ece(t,e){let n=$$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tce(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cs(t):(i=Ut({},t),Ye(!i.pathname||!i.pathname.includes("?"),gw("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),gw("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),gw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Zle(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Wa=t=>t.join("/").replace(/\/\/+/g,"/"),nce=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ice=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class WD{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function B$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H$=["post","put","patch","delete"],sce=new Set(H$),oce=["get",...H$],ace=new Set(oce),lce=new Set([301,302,303,307,308]),cce=new Set([307,308]),vw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uce={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},V$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dce=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),W$="remix-router-transitions";function hce(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=A=>({hasErrorBoundary:R(A)})}else i=dce;let s={},o=nE(t.routes,i,void 0,s),a,l=t.basename||"/",c=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,d=new Set,h=null,f=null,p=null,m=t.hydrationData!=null,_=pc(o,t.history.location,l),v=null;if(_==null){let R=Fr(404,{pathname:t.history.location.pathname}),{matches:A,route:O}=k1(o);_=A,v={[O.id]:R}}let y,w=_.some(R=>R.route.lazy),E=_.some(R=>R.route.loader);if(w)y=!1;else if(!E)y=!0;else if(c.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null,O=Y=>Y.route.loader?Y.route.loader.hydrate===!0?!1:R&&R[Y.route.id]!==void 0||A&&A[Y.route.id]!==void 0:!0;if(A){let Y=_.findIndex(ie=>A[ie.route.id]!==void 0);y=_.slice(0,Y+1).every(O)}else y=_.every(O)}else y=t.hydrationData!=null;let T,b={historyAction:t.history.action,location:t.history.location,matches:_,initialized:y,navigation:vw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},k=Wt.Pop,x=!1,L,$=!1,ee=new Map,se=null,de=!1,De=!1,we=[],Pe=[],oe=new Map,V=0,X=-1,Z=new Map,Ae=new Set,Ie=new Map,ae=new Map,J=new Set,F=new Map,W=new Map,P=!1;function z(){if(u=t.history.listen(R=>{let{action:A,location:O,delta:Y}=R;if(P){P=!1;return}ml(W.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ol({currentLocation:b.location,nextLocation:O,historyAction:A});if(ie&&Y!=null){P=!0,t.history.go(Y*-1),Pr(ie,{state:"blocked",location:O,proceed(){Pr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(Y)},reset(){let Oe=new Map(b.blockers);Oe.set(ie,sd),Ee({blockers:Oe})}});return}return Re(A,O)}),n){Sce(e,ee);let R=()=>Cce(e,ee);e.addEventListener("pagehide",R),se=()=>e.removeEventListener("pagehide",R)}return b.initialized||Re(Wt.Pop,b.location,{initialHydration:!0}),T}function te(){u&&u(),se&&se(),d.clear(),L&&L.abort(),b.fetchers.forEach((R,A)=>vr(A)),b.blockers.forEach((R,A)=>Nl(A))}function be(R){return d.add(R),()=>d.delete(R)}function Ee(R,A){A===void 0&&(A={}),b=Ut({},b,R);let O=[],Y=[];c.v7_fetcherPersist&&b.fetchers.forEach((ie,Oe)=>{ie.state==="idle"&&(J.has(Oe)?Y.push(Oe):O.push(Oe))}),[...d].forEach(ie=>ie(b,{deletedFetchers:Y,unstable_viewTransitionOpts:A.viewTransitionOpts,unstable_flushSync:A.flushSync===!0})),c.v7_fetcherPersist&&(O.forEach(ie=>b.fetchers.delete(ie)),Y.forEach(ie=>vr(ie)))}function je(R,A,O){var Y,ie;let{flushSync:Oe}=O===void 0?{}:O,ye=b.actionData!=null&&b.navigation.formMethod!=null&&ri(b.navigation.formMethod)&&b.navigation.state==="loading"&&((Y=R.state)==null?void 0:Y._isRedirect)!==!0,ge;A.actionData?Object.keys(A.actionData).length>0?ge=A.actionData:ge=null:ye?ge=b.actionData:ge=null;let he=A.loaderData?T1(b.loaderData,A.loaderData,A.matches||[],A.errors):b.loaderData,Fe=b.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((ct,tn)=>Fe.set(tn,sd)));let Gt=x===!0||b.navigation.formMethod!=null&&ri(b.navigation.formMethod)&&((ie=R.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),de||k===Wt.Pop||(k===Wt.Push?t.history.push(R,R.state):k===Wt.Replace&&t.history.replace(R,R.state));let Me;if(k===Wt.Pop){let ct=ee.get(b.location.pathname);ct&&ct.has(R.pathname)?Me={currentLocation:b.location,nextLocation:R}:ee.has(R.pathname)&&(Me={currentLocation:R,nextLocation:b.location})}else if($){let ct=ee.get(b.location.pathname);ct?ct.add(R.pathname):(ct=new Set([R.pathname]),ee.set(b.location.pathname,ct)),Me={currentLocation:b.location,nextLocation:R}}Ee(Ut({},A,{actionData:ge,loaderData:he,historyAction:k,location:R,initialized:!0,navigation:vw,revalidation:"idle",restoreScrollPosition:Lt(R,A.matches||b.matches),preventScrollReset:Gt,blockers:Fe}),{viewTransitionOpts:Me,flushSync:Oe===!0}),k=Wt.Pop,x=!1,$=!1,de=!1,De=!1,we=[],Pe=[]}async function mt(R,A){if(typeof R=="number"){t.history.go(R);return}let O=rE(b.location,b.matches,l,c.v7_prependBasename,R,c.v7_relativeSplatPath,A?.fromRouteId,A?.relative),{path:Y,submission:ie,error:Oe}=w1(c.v7_normalizeFormMethod,!1,O,A),ye=b.location,ge=Hh(b.location,Y,A&&A.state);ge=Ut({},ge,t.history.encodeLocation(ge));let he=A&&A.replace!=null?A.replace:void 0,Fe=Wt.Push;he===!0?Fe=Wt.Replace:he===!1||ie!=null&&ri(ie.formMethod)&&ie.formAction===b.location.pathname+b.location.search&&(Fe=Wt.Replace);let Gt=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Me=(A&&A.unstable_flushSync)===!0,ct=Ol({currentLocation:ye,nextLocation:ge,historyAction:Fe});if(ct){Pr(ct,{state:"blocked",location:ge,proceed(){Pr(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),mt(R,A)},reset(){let tn=new Map(b.blockers);tn.set(ct,sd),Ee({blockers:tn})}});return}return await Re(Fe,ge,{submission:ie,pendingError:Oe,preventScrollReset:Gt,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition,flushSync:Me})}function Jr(){if(At(),Ee({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Re(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Re(k||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Re(R,A,O){L&&L.abort(),L=null,k=R,de=(O&&O.startUninterruptedRevalidation)===!0,da(b.location,b.matches),x=(O&&O.preventScrollReset)===!0,$=(O&&O.enableViewTransition)===!0;let Y=a||o,ie=O&&O.overrideNavigation,Oe=pc(Y,A,l),ye=(O&&O.flushSync)===!0;if(!Oe){let tn=Fr(404,{pathname:A.pathname}),{matches:qn,route:Kt}=k1(Y);eo(),je(A,{matches:qn,loaderData:{},errors:{[Kt.id]:tn}},{flushSync:ye});return}if(b.initialized&&!De&&vce(b.location,A)&&!(O&&O.submission&&ri(O.submission.formMethod))){je(A,{matches:Oe},{flushSync:ye});return}L=new AbortController;let ge=ad(t.history,A,L.signal,O&&O.submission),he,Fe;if(O&&O.pendingError)Fe={[qd(Oe).route.id]:O.pendingError};else if(O&&O.submission&&ri(O.submission.formMethod)){let tn=await Vt(ge,A,O.submission,Oe,{replace:O.replace,flushSync:ye});if(tn.shortCircuited)return;he=tn.pendingActionData,Fe=tn.pendingActionError,ie=yw(A,O.submission),ye=!1,ge=new Request(ge.url,{signal:ge.signal})}let{shortCircuited:Gt,loaderData:Me,errors:ct}=await ir(ge,A,Oe,ie,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ye,he,Fe);Gt||(L=null,je(A,Ut({matches:Oe},he?{actionData:he}:{},{loaderData:Me,errors:ct})))}async function Vt(R,A,O,Y,ie){ie===void 0&&(ie={}),At();let Oe=bce(A,O);Ee({navigation:Oe},{flushSync:ie.flushSync===!0});let ye,ge=sE(Y,A);if(!ge.route.action&&!ge.route.lazy)ye={type:Ft.error,error:Fr(405,{method:R.method,pathname:A.pathname,routeId:ge.route.id})};else if(ye=await od("action",R,ge,Y,s,i,l,c.v7_relativeSplatPath),R.signal.aborted)return{shortCircuited:!0};if(Ia(ye)){let he;return ie&&ie.replace!=null?he=ie.replace:he=ye.location===b.location.pathname+b.location.search,await Or(b,ye,{submission:O,replace:he}),{shortCircuited:!0}}if(mc(ye)){let he=qd(Y,ge.route.id);return(ie&&ie.replace)!==!0&&(k=Wt.Push),{pendingActionData:{},pendingActionError:{[he.route.id]:ye.error}}}if(Aa(ye))throw Fr(400,{type:"defer-action"});return{pendingActionData:{[ge.route.id]:ye.data}}}async function ir(R,A,O,Y,ie,Oe,ye,ge,he,Fe,Gt){let Me=Y||yw(A,ie),ct=ie||Oe||A1(Me),tn=a||o,[qn,Kt]=b1(t.history,b,O,ct,A,c.v7_partialHydration&&ge===!0,De,we,Pe,J,Ie,Ae,tn,l,Fe,Gt);if(eo(_e=>!(O&&O.some(ve=>ve.route.id===_e))||qn&&qn.some(ve=>ve.route.id===_e)),X=++V,qn.length===0&&Kt.length===0){let _e=Js();return je(A,Ut({matches:O,loaderData:{},errors:Gt||null},Fe?{actionData:Fe}:{},_e?{fetchers:new Map(b.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(!de&&(!c.v7_partialHydration||!ge)){Kt.forEach(ve=>{let Tt=b.fetchers.get(ve.key),jl=ld(void 0,Tt?Tt.data:void 0);b.fetchers.set(ve.key,jl)});let _e=Fe||b.actionData;Ee(Ut({navigation:Me},_e?Object.keys(_e).length===0?{actionData:null}:{actionData:_e}:{},Kt.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:he})}Kt.forEach(_e=>{oe.has(_e.key)&&En(_e.key),_e.controller&&oe.set(_e.key,_e.controller)});let to=()=>Kt.forEach(_e=>En(_e.key));L&&L.signal.addEventListener("abort",to);let{results:Fl,loaderResults:us,fetcherResults:Ei}=await Xs(b.matches,O,qn,Kt,R);if(R.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",to),Kt.forEach(_e=>oe.delete(_e.key));let ds=x1(Fl);if(ds){if(ds.idx>=qn.length){let _e=Kt[ds.idx-qn.length].key;Ae.add(_e)}return await Or(b,ds.result,{replace:ye}),{shortCircuited:!0}}let{loaderData:N,errors:B}=D1(b,O,qn,us,Gt,Kt,Ei,F);F.forEach((_e,ve)=>{_e.subscribe(Tt=>{(Tt||_e.done)&&F.delete(ve)})}),c.v7_partialHydration&&ge&&b.errors&&Object.entries(b.errors).filter(_e=>{let[ve]=_e;return!qn.some(Tt=>Tt.route.id===ve)}).forEach(_e=>{let[ve,Tt]=_e;B=Object.assign(B||{},{[ve]:Tt})});let Q=Js(),Le=Ml(X),$e=Q||Le||Kt.length>0;return Ut({loaderData:N,errors:B},$e?{fetchers:new Map(b.fetchers)}:{})}function an(R,A,O,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");oe.has(R)&&En(R);let ie=(Y&&Y.unstable_flushSync)===!0,Oe=a||o,ye=rE(b.location,b.matches,l,c.v7_prependBasename,O,c.v7_relativeSplatPath,A,Y?.relative),ge=pc(Oe,ye,l);if(!ge){mr(R,A,Fr(404,{pathname:ye}),{flushSync:ie});return}let{path:he,submission:Fe,error:Gt}=w1(c.v7_normalizeFormMethod,!0,ye,Y);if(Gt){mr(R,A,Gt,{flushSync:ie});return}let Me=sE(ge,he);if(x=(Y&&Y.preventScrollReset)===!0,Fe&&ri(Fe.formMethod)){en(R,A,he,Me,ge,ie,Fe);return}Ie.set(R,{routeId:A,path:he}),Nr(R,A,he,Me,ge,ie,Fe)}async function en(R,A,O,Y,ie,Oe,ye){if(At(),Ie.delete(R),!Y.route.action&&!Y.route.lazy){let ve=Fr(405,{method:ye.formMethod,pathname:O,routeId:A});mr(R,A,ve,{flushSync:Oe});return}let ge=b.fetchers.get(R);An(R,Ece(ye,ge),{flushSync:Oe});let he=new AbortController,Fe=ad(t.history,O,he.signal,ye);oe.set(R,he);let Gt=V,Me=await od("action",Fe,Y,ie,s,i,l,c.v7_relativeSplatPath);if(Fe.signal.aborted){oe.get(R)===he&&oe.delete(R);return}if(c.v7_fetcherPersist&&J.has(R)){if(Ia(Me)||mc(Me)){An(R,so(void 0));return}}else{if(Ia(Me))if(oe.delete(R),X>Gt){An(R,so(void 0));return}else return Ae.add(R),An(R,ld(ye)),Or(b,Me,{fetcherSubmission:ye});if(mc(Me)){mr(R,A,Me.error);return}}if(Aa(Me))throw Fr(400,{type:"defer-action"});let ct=b.navigation.location||b.location,tn=ad(t.history,ct,he.signal),qn=a||o,Kt=b.navigation.state!=="idle"?pc(qn,b.navigation.location,l):b.matches;Ye(Kt,"Didn't find any matches after fetcher action");let to=++V;Z.set(R,to);let Fl=ld(ye,Me.data);b.fetchers.set(R,Fl);let[us,Ei]=b1(t.history,b,Kt,ye,ct,!1,De,we,Pe,J,Ie,Ae,qn,l,{[Y.route.id]:Me.data},void 0);Ei.filter(ve=>ve.key!==R).forEach(ve=>{let Tt=ve.key,jl=b.fetchers.get(Tt),jy=ld(void 0,jl?jl.data:void 0);b.fetchers.set(Tt,jy),oe.has(Tt)&&En(Tt),ve.controller&&oe.set(Tt,ve.controller)}),Ee({fetchers:new Map(b.fetchers)});let ds=()=>Ei.forEach(ve=>En(ve.key));he.signal.addEventListener("abort",ds);let{results:N,loaderResults:B,fetcherResults:Q}=await Xs(b.matches,Kt,us,Ei,tn);if(he.signal.aborted)return;he.signal.removeEventListener("abort",ds),Z.delete(R),oe.delete(R),Ei.forEach(ve=>oe.delete(ve.key));let Le=x1(N);if(Le){if(Le.idx>=us.length){let ve=Ei[Le.idx-us.length].key;Ae.add(ve)}return Or(b,Le.result)}let{loaderData:$e,errors:_e}=D1(b,b.matches,us,B,void 0,Ei,Q,F);if(b.fetchers.has(R)){let ve=so(Me.data);b.fetchers.set(R,ve)}Ml(to),b.navigation.state==="loading"&&to>X?(Ye(k,"Expected pending action"),L&&L.abort(),je(b.navigation.location,{matches:Kt,loaderData:$e,errors:_e,fetchers:new Map(b.fetchers)})):(Ee({errors:_e,loaderData:T1(b.loaderData,$e,Kt,_e),fetchers:new Map(b.fetchers)}),De=!1)}async function Nr(R,A,O,Y,ie,Oe,ye){let ge=b.fetchers.get(R);An(R,ld(ye,ge?ge.data:void 0),{flushSync:Oe});let he=new AbortController,Fe=ad(t.history,O,he.signal);oe.set(R,he);let Gt=V,Me=await od("loader",Fe,Y,ie,s,i,l,c.v7_relativeSplatPath);if(Aa(Me)&&(Me=await q$(Me,Fe.signal,!0)||Me),oe.get(R)===he&&oe.delete(R),!Fe.signal.aborted){if(J.has(R)){An(R,so(void 0));return}if(Ia(Me))if(X>Gt){An(R,so(void 0));return}else{Ae.add(R),await Or(b,Me);return}if(mc(Me)){mr(R,A,Me.error);return}Ye(!Aa(Me),"Unhandled fetcher deferred data"),An(R,so(Me.data))}}async function Or(R,A,O){let{submission:Y,fetcherSubmission:ie,replace:Oe}=O===void 0?{}:O;A.revalidate&&(De=!0);let ye=Hh(R.location,A.location,{_isRedirect:!0});if(Ye(ye,"Expected a location on the redirect navigation"),n){let ct=!1;if(A.reloadDocument)ct=!0;else if(V$.test(A.location)){const tn=t.history.createURL(A.location);ct=tn.origin!==e.location.origin||Lf(tn.pathname,l)==null}if(ct){Oe?e.location.replace(A.location):e.location.assign(A.location);return}}L=null;let ge=Oe===!0?Wt.Replace:Wt.Push,{formMethod:he,formAction:Fe,formEncType:Gt}=R.navigation;!Y&&!ie&&he&&Fe&&Gt&&(Y=A1(R.navigation));let Me=Y||ie;if(cce.has(A.status)&&Me&&ri(Me.formMethod))await Re(ge,ye,{submission:Ut({},Me,{formAction:A.location}),preventScrollReset:x});else{let ct=yw(ye,Y);await Re(ge,ye,{overrideNavigation:ct,fetcherSubmission:ie,preventScrollReset:x})}}async function Xs(R,A,O,Y,ie){let Oe=await Promise.all([...O.map(he=>od("loader",ie,he,A,s,i,l,c.v7_relativeSplatPath)),...Y.map(he=>he.matches&&he.match&&he.controller?od("loader",ad(t.history,he.path,he.controller.signal),he.match,he.matches,s,i,l,c.v7_relativeSplatPath):{type:Ft.error,error:Fr(404,{pathname:he.path})})]),ye=Oe.slice(0,O.length),ge=Oe.slice(O.length);return await Promise.all([R1(R,O,ye,ye.map(()=>ie.signal),!1,b.loaderData),R1(R,Y.map(he=>he.match),ge,Y.map(he=>he.controller?he.controller.signal:null),!0)]),{results:Oe,loaderResults:ye,fetcherResults:ge}}function At(){De=!0,we.push(...eo()),Ie.forEach((R,A)=>{oe.has(A)&&(Pe.push(A),En(A))})}function An(R,A,O){O===void 0&&(O={}),b.fetchers.set(R,A),Ee({fetchers:new Map(b.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function mr(R,A,O,Y){Y===void 0&&(Y={});let ie=qd(b.matches,A);vr(R),Ee({errors:{[ie.route.id]:O},fetchers:new Map(b.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function gr(R){return c.v7_fetcherPersist&&(ae.set(R,(ae.get(R)||0)+1),J.has(R)&&J.delete(R)),b.fetchers.get(R)||uce}function vr(R){let A=b.fetchers.get(R);oe.has(R)&&!(A&&A.state==="loading"&&Z.has(R))&&En(R),Ie.delete(R),Z.delete(R),Ae.delete(R),J.delete(R),b.fetchers.delete(R)}function ua(R){if(c.v7_fetcherPersist){let A=(ae.get(R)||0)-1;A<=0?(ae.delete(R),J.add(R)):ae.set(R,A)}else vr(R);Ee({fetchers:new Map(b.fetchers)})}function En(R){let A=oe.get(R);Ye(A,"Expected fetch controller: "+R),A.abort(),oe.delete(R)}function Zs(R){for(let A of R){let O=gr(A),Y=so(O.data);b.fetchers.set(A,Y)}}function Js(){let R=[],A=!1;for(let O of Ae){let Y=b.fetchers.get(O);Ye(Y,"Expected fetcher: "+O),Y.state==="loading"&&(Ae.delete(O),R.push(O),A=!0)}return Zs(R),A}function Ml(R){let A=[];for(let[O,Y]of Z)if(Y<R){let ie=b.fetchers.get(O);Ye(ie,"Expected fetcher: "+O),ie.state==="loading"&&(En(O),Z.delete(O),A.push(O))}return Zs(A),A.length>0}function ju(R,A){let O=b.blockers.get(R)||sd;return W.get(R)!==A&&W.set(R,A),O}function Nl(R){b.blockers.delete(R),W.delete(R)}function Pr(R,A){let O=b.blockers.get(R)||sd;Ye(O.state==="unblocked"&&A.state==="blocked"||O.state==="blocked"&&A.state==="blocked"||O.state==="blocked"&&A.state==="proceeding"||O.state==="blocked"&&A.state==="unblocked"||O.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+A.state);let Y=new Map(b.blockers);Y.set(R,A),Ee({blockers:Y})}function Ol(R){let{currentLocation:A,nextLocation:O,historyAction:Y}=R;if(W.size===0)return;W.size>1&&ml(!1,"A router only supports one blocker at a time");let ie=Array.from(W.entries()),[Oe,ye]=ie[ie.length-1],ge=b.blockers.get(Oe);if(!(ge&&ge.state==="proceeding")&&ye({currentLocation:A,nextLocation:O,historyAction:Y}))return Oe}function eo(R){let A=[];return F.forEach((O,Y)=>{(!R||R(Y))&&(O.cancel(),A.push(Y),F.delete(Y))}),A}function Pl(R,A,O){if(h=R,p=A,f=O||null,!m&&b.navigation===vw){m=!0;let Y=Lt(b.location,b.matches);Y!=null&&Ee({restoreScrollPosition:Y})}return()=>{h=null,p=null,f=null}}function Ll(R,A){return f&&f(R,A.map(Y=>jle(Y,b.loaderData)))||R.key}function da(R,A){if(h&&p){let O=Ll(R,A);h[O]=p()}}function Lt(R,A){if(h){let O=Ll(R,A),Y=h[O];if(typeof Y=="number")return Y}return null}function le(R){s={},a=nE(R,i,void 0,s)}return T={get basename(){return l},get future(){return c},get state(){return b},get routes(){return o},get window(){return e},initialize:z,subscribe:be,enableScrollRestoration:Pl,navigate:mt,fetch:an,revalidate:Jr,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:gr,deleteFetcher:ua,dispose:te,getBlocker:ju,deleteBlocker:Nl,_internalFetchControllers:oe,_internalActiveDeferreds:F,_internalSetRoutes:le},T}function fce(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rE(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=tce(i||".",ece(l,s),Lf(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!zD(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Wa([n,u.pathname])),Pf(u)}function w1(t,e,n,r){if(!r||!fce(r))return{path:n};if(r.formMethod&&!wce(r.formMethod))return{path:n,error:Fr(405,{method:r.formMethod})};let i=()=>({path:n,error:Fr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Y$(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ri(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[m,_]=p;return""+f+m+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ri(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=iE(r.formData),c=r.formData;else if(r.body instanceof FormData)l=iE(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=C1(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=C1(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ri(u.formMethod))return{path:n,submission:u};let d=cs(n);return e&&d.search&&zD(d.search)&&l.append("index",""),d.search="?"+l,{path:Pf(d),submission:u}}function pce(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function b1(t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,m){let _=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,v=t.createURL(e.location),y=t.createURL(i),w=m?Object.keys(m)[0]:void 0,T=pce(n,w).filter((k,x)=>{let{route:L}=k;if(L.lazy)return!0;if(L.loader==null)return!1;if(s)return L.loader.hydrate?!0:e.loaderData[L.id]===void 0&&(!e.errors||e.errors[L.id]===void 0);if(mce(e.loaderData,e.matches[x],k)||a.some(se=>se===k.route.id))return!0;let $=e.matches[x],ee=k;return E1(k,Ut({currentUrl:v,currentParams:$.params,nextUrl:y,nextParams:ee.params},r,{actionResult:_,defaultShouldRevalidate:o||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||z$($,ee)}))}),b=[];return u.forEach((k,x)=>{if(s||!n.some(de=>de.route.id===k.routeId)||c.has(x))return;let L=pc(h,k.path,f);if(!L){b.push({key:x,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let $=e.fetchers.get(x),ee=sE(L,k.path),se=!1;d.has(x)?se=!1:l.includes(x)?se=!0:$&&$.state!=="idle"&&$.data===void 0?se=o:se=E1(ee,Ut({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:o})),se&&b.push({key:x,routeId:k.routeId,path:k.path,matches:L,match:ee,controller:new AbortController})}),[T,b]}function mce(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function z$(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function E1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function S1(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ye(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ml(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Lle.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ut({},e(i),{lazy:void 0}))}async function od(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let c,u,d,h=m=>{let _,v=new Promise((y,w)=>_=w);return d=()=>_(),e.signal.addEventListener("abort",d),Promise.race([m({request:e,params:n.params,context:l.requestContext}),v])};try{let m=n.route[t];if(n.route.lazy)if(m){let _,v=await Promise.all([h(m).catch(y=>{_=y}),S1(n.route,s,i)]);if(_)throw _;u=v[0]}else if(await S1(n.route,s,i),m=n.route[t],m)u=await h(m);else if(t==="action"){let _=new URL(e.url),v=_.pathname+_.search;throw Fr(405,{method:e.method,pathname:v,routeId:n.route.id})}else return{type:Ft.data,data:void 0};else if(m)u=await h(m);else{let _=new URL(e.url),v=_.pathname+_.search;throw Fr(404,{pathname:v})}Ye(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){c=Ft.error,u=m}finally{d&&e.signal.removeEventListener("abort",d)}if(_ce(u)){let m=u.status;if(lce.has(m)){let v=u.headers.get("Location");if(Ye(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!V$.test(v))v=rE(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,v,a);else if(!l.isStaticRequest){let y=new URL(e.url),w=v.startsWith("//")?new URL(y.protocol+v):new URL(v),E=Lf(w.pathname,o)!=null;w.origin===y.origin&&E&&(v=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw u.headers.set("Location",v),u;return{type:Ft.redirect,status:m,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===Ft.error?Ft.error:Ft.data,response:u};let _;try{let v=u.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?u.body==null?_=null:_=await u.json():_=await u.text()}catch(v){return{type:Ft.error,error:v}}return c===Ft.error?{type:c,error:new WD(m,u.statusText,_),headers:u.headers}:{type:Ft.data,data:_,statusCode:u.status,headers:u.headers}}if(c===Ft.error)return{type:c,error:u};if(yce(u)){var f,p;return{type:Ft.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:Ft.data,data:u}}function ad(t,e,n,r){let i=t.createURL(Y$(e)).toString(),s={signal:n};if(r&&ri(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=iE(r.formData):s.body=r.formData}return new Request(i,s)}function iE(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function C1(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function gce(t,e,n,r,i){let s={},o=null,a,l=!1,c={};return n.forEach((u,d)=>{let h=e[d].route.id;if(Ye(!Ia(u),"Cannot handle redirect results in processLoaderData"),mc(u)){let f=qd(t,h),p=u.error;r&&(p=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=p),s[h]=void 0,l||(l=!0,a=B$(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else Aa(u)?(i.set(h,u.deferredData),s[h]=u.deferredData.data):s[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[h]=u.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function D1(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=gce(e,n,r,i,a);for(let u=0;u<s.length;u++){let{key:d,match:h,controller:f}=s[u];Ye(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let p=o[u];if(!(f&&f.signal.aborted))if(mc(p)){let m=qd(t.matches,h?.route.id);c&&c[m.route.id]||(c=Ut({},c,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(Ia(p))Ye(!1,"Unhandled fetcher revalidation redirect");else if(Aa(p))Ye(!1,"Unhandled fetcher deferred data");else{let m=so(p.data);t.fetchers.set(d,m)}}return{loaderData:l,errors:c}}function T1(t,e,n,r){let i=Ut({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function qd(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function k1(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Fr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new WD(t||500,o,new Error(a),!0)}function x1(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ia(n))return{result:n,idx:e}}}function Y$(t){let e=typeof t=="string"?cs(t):t;return Pf(Ut({},e,{hash:""}))}function vce(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Aa(t){return t.type===Ft.deferred}function mc(t){return t.type===Ft.error}function Ia(t){return(t&&t.type)===Ft.redirect}function yce(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function _ce(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wce(t){return ace.has(t.toLowerCase())}function ri(t){return sce.has(t.toLowerCase())}async function R1(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!z$(c,l)&&(s&&s[l.route.id])!==void 0;if(Aa(a)&&(i||u)){let d=r[o];Ye(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await q$(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function q$(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ft.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ft.error,error:i}}return{type:Ft.data,data:t.deferredData.data}}}function zD(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sE(t,e){let n=typeof e=="string"?cs(e).search:e.search;if(t[t.length-1].route.index&&zD(n||""))return t[t.length-1];let r=$$(t);return r[r.length-1]}function A1(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function yw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bce(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ld(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ece(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function so(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Sce(t,e){try{let n=t.sessionStorage.getItem(W$);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Cce(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(W$,JSON.stringify(n))}catch(r){ml(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}const G$=C.createContext(null),K$=C.createContext(null),Q$=C.createContext(null),Ly=C.createContext(null),Fy=C.createContext({outlet:null,matches:[],isDataRoute:!1}),X$=C.createContext(null);function YD(){return C.useContext(Ly)!=null}function Dce(){return YD()||Ye(!1),C.useContext(Ly).location}function Tce(t,e,n,r){YD()||Ye(!1);let{navigator:i}=C.useContext(Q$),{matches:s}=C.useContext(Fy),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Dce(),u;if(e){var d;let _=typeof e=="string"?cs(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Ye(!1),u=_}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=pc(t,{pathname:f}),m=Ice(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Wa([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Wa([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&m?C.createElement(Ly.Provider,{value:{location:Jg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wt.Pop}},m):m}function kce(){let t=Pce(),e=B$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}const xce=C.createElement(kce,null);class Rce extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Fy.Provider,{value:this.props.routeContext},C.createElement(X$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ace(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(G$);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Fy.Provider,{value:e},r)}function Ice(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&a?.[d.route.id]);u>=0||Ye(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,m=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||xce,l&&(c<0&&h===0?(Lce("route-fallback",!1),p=!0,_=null):c===h&&(p=!0,_=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let w;return f?w=m:p?w=_:d.route.Component?w=C.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,C.createElement(Ace,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(Rce,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var oE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oE||{});function Mce(t){let e=C.useContext(K$);return e||Ye(!1),e}function Nce(t){let e=C.useContext(Fy);return e||Ye(!1),e}function Oce(t){let e=Nce(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function Pce(){var t;let e=C.useContext(X$),n=Mce(oE.UseRouteError),r=Oce(oE.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const I1={};function Lce(t,e,n){!e&&!I1[t]&&(I1[t]=!0)}function Fce(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wt.Pop,navigator:s,static:o=!1,future:a}=t;YD()&&Ye(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:o,future:Jg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=cs(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=C.useMemo(()=>{let _=Lf(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return m==null?null:C.createElement(Q$.Provider,{value:c},C.createElement(Ly.Provider,{children:n,value:m}))}new Promise(()=>{});function jce(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}const Uce="6";try{window.__reactRouterVersion=Uce}catch{}function $ce(t,e){return hce({basename:e?.basename,future:ev({},e?.future,{v7_prependBasename:!0}),history:Nle({window:e?.window}),hydrationData:e?.hydrationData||Bce(),routes:t,mapRouteProperties:jce,window:e?.window}).initialize()}function Bce(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ev({},e,{errors:Hce(e.errors)})),e}function Hce(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new WD(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Vce=C.createContext({isTransitioning:!1}),Wce=C.createContext(new Map),zce="startTransition",M1=q1[zce],Yce="flushSync",N1=VK[Yce];function qce(t){M1?M1(t):t()}function cd(t){N1?N1(t):t()}class Gce{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Kce(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=C.useState(n.state),[o,a]=C.useState(),[l,c]=C.useState({isTransitioning:!1}),[u,d]=C.useState(),[h,f]=C.useState(),[p,m]=C.useState(),_=C.useRef(new Map),{v7_startTransition:v}=r||{},y=C.useCallback(k=>{v?qce(k):k()},[v]),w=C.useCallback((k,x)=>{let{deletedFetchers:L,unstable_flushSync:$,unstable_viewTransitionOpts:ee}=x;L.forEach(de=>_.current.delete(de)),k.fetchers.forEach((de,De)=>{de.data!==void 0&&_.current.set(De,de.data)});let se=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ee||se){$?cd(()=>s(k)):y(()=>s(k));return}if($){cd(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let de=n.window.document.startViewTransition(()=>{cd(()=>s(k))});de.finished.finally(()=>{cd(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),cd(()=>f(de));return}h?(u&&u.resolve(),h.skipTransition(),m({state:k,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[n.window,h,u,_,y]);C.useLayoutEffect(()=>n.subscribe(w),[n,w]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Gce)},[l]),C.useEffect(()=>{if(u&&o&&n.window){let k=o,x=u.promise,L=n.window.document.startViewTransition(async()=>{y(()=>s(k)),await x});L.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(L)}},[y,o,u,n.window]),C.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),C.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),C.useEffect(()=>{},[]);let E=C.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,x,L)=>n.navigate(k,{state:x,preventScrollReset:L?.preventScrollReset}),replace:(k,x,L)=>n.navigate(k,{replace:!0,state:x,preventScrollReset:L?.preventScrollReset})}),[n]),T=n.basename||"/",b=C.useMemo(()=>({router:n,navigator:E,static:!1,basename:T}),[n,E,T]);return C.createElement(C.Fragment,null,C.createElement(G$.Provider,{value:b},C.createElement(K$.Provider,{value:i},C.createElement(Wce.Provider,{value:_.current},C.createElement(Vce.Provider,{value:l},C.createElement(Fce,{basename:T,location:i.location,navigationType:i.historyAction,navigator:E,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?C.createElement(Qce,{routes:n.routes,future:n.future,state:i}):e))))),null)}function Qce(t){let{routes:e,future:n,state:r}=t;return Tce(e,void 0,r,n)}var O1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O1||(O1={}));var P1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P1||(P1={}));const Xce=Tl(function(e){return g.jsxs("div",{className:"container",children:[g.jsx(Mle,{model:e.model}),g.jsx(Kce,{router:Zce(e.model)}),g.jsx(sQ,{model:e.model})]})});function Zce(t){return $ce([{path:"/",element:g.jsx(rQ,{model:t})},{path:"/bookableRooms",element:g.jsx(Cle,{model:t})},{path:"/meeting",element:g.jsx(xle,{model:t})},{path:"/myCalendar",element:g.jsx(Ale,{model:t})},{path:"/roomFavouritesList",element:g.jsx(Tle,{model:t})}])}RI({enforceActions:"never"});const qD=hn(Uq);window.React={createElement:C.createElement};Q2(document.getElementById("root")).render(g.jsx(Xce,{model:qD}));window.myModel=qD;Fq(qD);
